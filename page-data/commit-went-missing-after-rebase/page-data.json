{"componentChunkName":"component---src-templates-blog-post-js","path":"/commit-went-missing-after-rebase/","webpackCompilationHash":"f05ca27348f345751a98","result":{"data":{"site":{"siteMetadata":{"title":"Tan Li Hau","author":"Tan Li Hau"}},"markdownRemark":{"id":"3d3420a1-ae60-5726-92f3-6bd602859116","excerpt":"","html":"<p>Last week, I <a href=\"/git-gudder/\">shared about git commands</a> at <a href=\"https://github.com/Shopee/shopee-react-knowledgeable\">Shopee React Knowledgeable</a>. At the end of the talk, one of my colleague approached me and asked me about git rebase. She somehow ended up with a messed up git history with <code class=\"language-text\">git rebase</code>, and she couldn’t comprehend how she ended up there.</p>\n<p>I found that her scenario was interesting, and decided to write it out here.</p>\n<p>This was what she told me:</p>\n<blockquote>\n<p>I branched out <code class=\"language-text\">feat/a</code> branch from <code class=\"language-text\">master</code> and made a few commits (<code class=\"language-text\">commit #1</code>, <code class=\"language-text\">commit #2</code>).</p>\n<p>I noticed that master branch has new commits, so I pulled <code class=\"language-text\">master</code> branch, and rebased my branch <code class=\"language-text\">feat/a</code> onto master branch.</p>\n<p>Then, instead of <code class=\"language-text\">git push --force</code> my local <code class=\"language-text\">feat/a</code> to remote <code class=\"language-text\">origin</code>, I <code class=\"language-text\">git pull --rebase origin feat/a</code>.</p>\n<p>And, my commits on <code class=\"language-text\">feat/a</code>, eg <code class=\"language-text\">commit #1</code>, <code class=\"language-text\">commit #2</code> were gone!</p>\n</blockquote>\n<p>So, we expected to see <code class=\"language-text\">commit #1</code>, <code class=\"language-text\">commit #2</code> at <code class=\"language-text\">HEAD</code> after rebasing onto <code class=\"language-text\">origin/feat/a</code> after the <code class=\"language-text\">git pull --rebase</code>, yet, the only commits we saw were a bunch of commits from the <code class=\"language-text\">master</code> branch.</p>\n<p>To understand what happened, I decided to draw diagrams to visualize what had happened:</p>\n<p>\n  <a class=\"gatsby-resp-image-link\" href=\"/static/1870ed5c6b42a8627c166d090343062e/ddcfc/initial.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <figure class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 375px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 126.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAEYUlEQVQ4y42UDUxTVxTHX1/btCCgaFC+DRAGCG0ZHxYrhuoSamkt5VOEQotUwySNSac4V7UCVgYFipCCsDAK3RSWTT5c5rYIy7ItcUtlI4wFZcrY0AydU7KwOBmc3fuwpjLc3ktO7rnn3fd75/zPeY8gaFzr13g5XTJ4vW9ctF+oMMwnMBHZVmxRfiHYT/LguHnQ4RHFIoXTXdNdXPnb3dqP4bZpcHG6+sOlqbODSzM1VxY+07fBrsjEbbSAxyTqZ8Brr9vuQ89PMGUaXPju5IXFsVO9f0P3xJP79VchXZCSRAu4h7+D4QS+W3Lm8XzzlzBZ1QcTFR/AjcpL8KBhGBxv2OGVyMTt1Kn+/n4SABijo6OkK6goScbAcbgF5K0zAzjEFL8UL8lLSFVok5UyVOIplVCaqxKmpe2O3pbuv87H+1/ZIAAlviiMT668Fx8cuTJWumpJpaWlur6+vony8nKjazx8Y1CUTXP6i3aV4RMWyQxyvYcyLOnSVNw7kVZiwZkjGZhsJotBcLnciJGREcDXzMwMBAYGljEJQoAOhVpy9V/hBsA7N6FK8SquOXSjpzcPrTs/f619Ed6/Q+mHmiHDLzkkzmHiNWBoaOgRBjocjideXl5ZLAapRfEQU/qhi2AbB2i/DuUSdQuKbQr03hSGVsHlMsuv0DMNY8Ze2B4mEGFQYZJsWRKxWJxSW1vbrVAolHjv7uYejpZgZGyDdH8DGpsq5HNcS04KiRG+maHrzt+6O4/S/kdYnoT5+XnGKrJGMggGb2XQ08uXKqkgNvm55nxT7yBdGkoQer2eRE1hKZVKlhOILMrlmWefFIfNJaPj9jqB7sioZ7Iyzq6WGOEMRrBYnDjsiET7tXr98MOioo4htF3nPCgQpEt1uit3S0oufLt2rR+WiIiNzVgVSpAki8lmu+1CruTw4U/nmpr+gJaWBUhI2HsexV7Gsh88+N6k1foXdHYCZGbW4DjR0wPMF35uCIDL8iwsfOtqY+MjMBiuQ0yMNPNpiZzs7HqbxfI7VFf/DGJxWemydMPkC4ESyTGn6yOXG4+i7GQrjnDi43M7+fw9Brzp6AAWl+vJ+M+fwoYNIc8daG7+c2UGeP42/+/fxcPDBwlMjSTh7x/DKC62M5OTtWy837IlVZadXTeAmmTft896GdmAWv22XSY7eSkggBdO0L2UShM1HqmpR4/jRrS1ATQ2zsG5c3PQ1QVgNs8CjydLpg1EWVFAqfR4ud0O0Nq6ABUVE1BZeQNsNgDcIKSniDYQNYUaCT5frsrPb72p1fZc02i6xpGNHTjQ+3VGRvUPwcFxPNrAxMQ8J1CrVnc+KCsbRNCLMwj2i0730WROTsNsUFBsHG1gTk49VbJCUXnEan2M52+prm4WrdNQV3cPTKbbIBSq6Jcsl59+2pQjBovlIRiN30NNzR0EmqKG22gcB/Tp7aANRKVSMxgRsTMlK8ts1WhsNQUF580qVZsZ6Viblnaiydc3cvM/F+24OMfw6ykAAAAASUVORK5CYII=&#x27;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"initil\" title=\"Before rebasing\" src=\"/static/1870ed5c6b42a8627c166d090343062e/ddcfc/initial.png\" srcset=\"/static/1870ed5c6b42a8627c166d090343062e/3f798/initial.png 148w, /static/1870ed5c6b42a8627c166d090343062e/b238d/initial.png 295w, /static/1870ed5c6b42a8627c166d090343062e/ddcfc/initial.png 375w\" sizes=\"(max-width: 375px) 100vw, 375px\">\n    </span>\n  <figcaption>Before rebasing</figcaption></figure>\n  \n  </a>\n    </p>\n<p>So, the first thing she did was to <code class=\"language-text\">git rebase</code> <code class=\"language-text\">feat/a</code> on top of <code class=\"language-text\">master</code>:</p>\n<p>\n  <a class=\"gatsby-resp-image-link\" href=\"/static/d090a782dcfc7453ab4ef2d721699496/71dfb/rebase-1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <figure class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 580px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 69.82758620689656%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA9hAAAPYQGoP6dpAAACqUlEQVQ4y2NgwALSbAMZQXS4iZvUlMiyik1ZfSUbs/qKFyc1VWfZh5jD1Pn5NYVnZKyrysxcX5SevqbK1jbNFSyRlZXFGBQUBDewN6SABUQ3+qbb/599/v+f6Sf/v+rZ/f//yof/FyY2tkKVMVZUnLiyfPn//x0dT/6vW/f/f1zcnBUMly9fBrvm////YEX1fmmMCJcGaW/PnXTkcOmcg3sKp+8/Wjb3ZHNAdhRUmikhYWEf0NBTeXnb99fUnD/u7V1XCNPLi+ZrbpDhSHxFIDZH4vMhsVmB2BPOa2xsdLl+/fqHZUuX9QG57L5GDmaX61c+3Zk/ZSWQzw/EogdLZm0/W730qQwDg1Js/PzyqspTX/38muNA+pOSlrQCXfk7Kmq6D9jAzs7OGKB3/2/csHEjyBU+hnYhXyYd/g/05mUgH2gGg+q5mqV3XvXu/S/NwGARn7hkxsQJH/4HBnbUgRyQmrpyxeTJX/9HR09PhbsSGCFmqmpqHECmCBALRJm6awojectaUVfSS8lYGcSW5BfltLFNhXufg4OX28YmxQwtiKChzMSkAKQEQeyQ8GQNuAQ7A5tXSJwyunpubmEmDEN4eHgY4uLimEFsFRUtYZAXZ0xft/bcmdf/M9LLk4F8tqlTVu26cP7d/4L8Bl+QusLCyaxyckZg/UZGwQyenpVMvLzimAkamnQ4+vsWT9u86ey3pKQCUOJkmzRx+fytW87/LCpqtgcp6OlewARVSxIQRmKDfOAD41y5/JkkgxiRbGfu7V00c83qIwcWLdy5Z+mSvYfzcuvCQBIN9ZOYCJrk6xMBpqWl5GCGMq9ZffTF7Vu//p898+r/3Tt//3e0z2kBScycsZ6FgQzAWFPTlz516urm6dPWVk+cuKw1Pi7HGiSRn1fHiE0DAOXKBHP1zC0GAAAAAElFTkSuQmCC&#x27;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"first rebase\" title=\"Rebase feat/a on top of &#x60;master&#x60;\" src=\"/static/d090a782dcfc7453ab4ef2d721699496/71dfb/rebase-1.png\" srcset=\"/static/d090a782dcfc7453ab4ef2d721699496/d93c1/rebase-1.png 148w, /static/d090a782dcfc7453ab4ef2d721699496/d3229/rebase-1.png 295w, /static/d090a782dcfc7453ab4ef2d721699496/71dfb/rebase-1.png 580w\" sizes=\"(max-width: 580px) 100vw, 580px\">\n    </span>\n  <figcaption>Rebase feat/a on top of `master`</figcaption></figure>\n  \n  </a>\n    </p>\n<p>So far, everything looked normal. The next command was the tricky one.</p>\n<p>She rebased <code class=\"language-text\">feat/a</code> on top of <code class=\"language-text\">origin/feat/a</code>, she ran:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git checkout feat/a\n$ git rebase origin/feat/a</code></pre></div>\n<p>The most important thing on <code class=\"language-text\">git rebase</code> is the 3 reference points of rebasing:</p>\n<p>\n  <a class=\"gatsby-resp-image-link\" href=\"/static/cb52f6fc1066f742317ba56f189f327e/71dfb/rebase-2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <figure class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 580px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 69.82758620689656%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA9hAAAPYQGoP6dpAAADP0lEQVQ4y5VTe0hTYRS/1ymUPSiMIDMrpQyiQnsYmQWZPTRX2ywfpWnapnck5Uxtjum0yKKtrG3q2tT5bF2dU8qZa/lIS8sUmUQoPYQyKyoLpVp6T/dOZyv8oz44nPu75/f9zosPQaY5bF8GSvmQDbucpWHJqbWYJKkGk/BKjmWmYduDva08Oj0zJC5Oy4+Pr07kcCr5vr5sf0sAwzCUyWROCYqDT9pTXhTE2Q7Xu2EstwPeXzIAaAZAHS06N0lDU1PbeysqALKzX4NWCxAZqbyBmEwmSzUAYCGl09no70qZq/UnrrbeP61svnsqt7EtWdWRdYAbPhm2i4pSS0jRRwkJ+kaBoPthYKDwlPXu3L+6nkWJ2+DlpHnbYFu+A2l7p1BmRsbOp8+eDRdqqy+ScAbLN2Bzrwh/25Aox0k8n7SFzTyF/kla2RsXBHGLOFqYwj/zaHQ/PTOSSsqJLc1O5j8eYxwvCbAInr98+TCYzWASCttIuG6Nw4KAd2dvQxNX2k7ieaS5dgnKn78XG2ExgmyOjC7Ny7nyBeiMCwLqPiNCI1ecG4QzmxIwa5FogI/PWvD0DCeMxm5CX/fgpUL1bbi84ik03uuEslIOyZlzaM3WlRTZw2mR43of9sY+V4fZoKv27xNLwrqjuMUQdUQ4rirYgUBPz8RSRCL3TxqN4adKVTVWWKB5kXOtZ1ytroWiooNUPCzs2Aqb5SHACl411tJihvp6AhrqPxIGgxl0usGJtmNi7CerpVEzE8u0SmPLK9gdgjGon3LpTcPjro/ATsmeGD6A3YDkih3weEu+C9OXjhyPdwcMcyNCQ10QkMksHNWePSiZnRJ0zJGU5N2q7fwRF5tIVTfjYr5O2SuvhIZlHiyK+xVBZhIT2/2v42TzTSXaDyWFKuho/0TU1Q2B8e47qKn5DEbjK8LPz4UiEVwubToh1DonSkgsLs6vwlubFUV36vv1HaPPS/EmkF1LGlcXp4Ncng5qdQp4ec2xTCIo6E+loH2hFr/Y2dUqSqvE24b6+8zQ1fkBekwjwBNIk6argnx3/9Q2KhBIODIZnpUrr0yTXq04Hx+buI0KPJEqHCAvjwY4ToMtWyY3z0J+AV2hfmWOOBCnAAAAAElFTkSuQmCC&#x27;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"3 reference points\" title=\"The 3 reference points\" src=\"/static/cb52f6fc1066f742317ba56f189f327e/71dfb/rebase-2.png\" srcset=\"/static/cb52f6fc1066f742317ba56f189f327e/d93c1/rebase-2.png 148w, /static/cb52f6fc1066f742317ba56f189f327e/d3229/rebase-2.png 295w, /static/cb52f6fc1066f742317ba56f189f327e/71dfb/rebase-2.png 580w\" sizes=\"(max-width: 580px) 100vw, 580px\">\n    </span>\n  <figcaption>The 3 reference points</figcaption></figure>\n  \n  </a>\n    </p>\n<p>So, when she typed </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git rebase origin/feat/a</code></pre></div>\n<p>, it meant:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git rebase --onto origin/feat/a origin/feat/a feat/a</code></pre></div>\n<ul>\n<li><code class=\"language-text\">new base</code>: <code class=\"language-text\">origin/feat/a</code></li>\n<li><code class=\"language-text\">upstream</code>: <code class=\"language-text\">origin/feat/a</code></li>\n<li><code class=\"language-text\">branch</code>: <code class=\"language-text\">feat/a</code></li>\n</ul>\n<p>So what happened was all the commits in master after branching out <code class=\"language-text\">feat/a</code> all the way to the newly rebased commits in <code class=\"language-text\">feat/a</code> were rebased onto <code class=\"language-text\">origin/feat/a</code>:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3e8f06873f4e88760cd20b84fd11653d/ae30e/rebase-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA9hAAAPYQGoP6dpAAACdUlEQVQoz2NoampiaGpsYmQAAg8dSxitXOud7NESkOmc5RDiLissxQ4Sd9E0Z1BWtmaQkdFngAF//xaGpKTFDBkZ6xgCA9vh4gxKCopM18uWgtlhJi4mUyLL0iaEFyU3+qalKvPxsoHEdWQ1GGHq5eWNGbACY2NjTgtzC2EQW0pIjE2Ii08AxOZgZRPnYuOwBbH5+SWFpCS1mEBsQUFZQSDFhGQEI5TPBGYfPHhw4pnTp78COeqptoGebUG5GSCzAw2dHPvCitI52blNvb2q8w30vF3YOfh0A/2bCo0NA3VgpmVnby6orb3wsaXl7qvc3O09DCtWrLDZuWNHClBO2UXTRC1CV1sRZJubhpF4jL6+Cg8bG5+sbogOyJ1yonK84johWgxsSlwwA/PydsSVlx8/WVl56mRe3vZyZN9LCgupCLWnr/MIsk0V9rZOF2xOXuHDwCDEvi653mB5crMFSNH6tDbHOSGZyo6+7erxcXO9QWLa2h72OjpeIWBT+vv7mV7d+s0M8r+rcZjPhpbb/5M8q8JTvGrCtrY/+C8oZmx3unLBoTNVi88D1YhfrFv1Z1d6c19QworeivJjv4FiwsXFB3bV1Jy/jIhhKW0wPTF3K2OKd63J/PLjIAv4jNXsI0Hidd7Jik1+GSogdoNvul6fX5KQvXeLkK9PvR5IzMenQd7bu1YDJbZlxVQZrLQ9wMnCWsdLeVHV6dtLqs89mlaw5xKTbAgrSLzSr4gJPZU4OeXDxYBhCWHEu0PCMtA2DWag4uySQ4cWVZ4+05e9aU+kQzoPSDw6eB7DpIgypilB6QyOfh0MYaF9YMOCg7sZQ0P7wHoBeyW0FHxD6iAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"rebase again\"\n        title=\"\"\n        src=\"/static/3e8f06873f4e88760cd20b84fd11653d/623ee/rebase-4.png\"\n        srcset=\"/static/3e8f06873f4e88760cd20b84fd11653d/816c5/rebase-4.png 148w,\n/static/3e8f06873f4e88760cd20b84fd11653d/c766b/rebase-4.png 295w,\n/static/3e8f06873f4e88760cd20b84fd11653d/623ee/rebase-4.png 590w,\n/static/3e8f06873f4e88760cd20b84fd11653d/ae30e/rebase-4.png 800w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>However, if you look at the history right now, the commit <code class=\"language-text\">commit #1</code> and <code class=\"language-text\">commit #2</code> was written twice, first the original commit, second the rebased commit. In cases like this, git would not rewrote the commits again, if git could figure out whether it was a duplicate:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af50e5e634451222707106152a133619/623ee/rebase-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 68.64406779661016%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAC0UlEQVQ4y2NgwALUxOXAtLyQhLCrprlropWvRQIQBxk6OmpIKKiB5IzlNRkZcIGsrCzGoKAgON9ezYgJRJspaquvTGtP35jVkzApoiTnbM3i2AADB3eQXIpNAFgNP78Eg5SUNgMjIzNE8+XLl8E2/f//H0QxWqroMSJcKi+XbhcUW+YeF5rnFB5e6ZkQbqmsZw6S8zEHGwhXC9UPB7xojhYAYjYkvj4Qu0DZIIMEkeQYUfiNjY0u169f/7Bs2bJeIJdLWVpeZ0J4cWSWQ4gfkC8GxFIlbjGBbYHZsewMDMp6+n4Ofn6NaUpKFlZAOT4DgwA3P7+mVHV1Bx2wgZ2dnTFA5/7fuGHDBiDXRlFCxmVzTn9MhUdCLJCvAsQ6HUE5kctS2xKABlroGwYFREZMKlRVsQFZKG1iEh4WEz2tQEfbwxLuSmCEmKmrq3MAmcIgLCcoJgtyLUyej51DhIWBQRLEluAT5mLll5ODhw0XPzcDj5QM1thmZmJWgIYfQ4BNmiZMXEJUjd3POkUNxvfVNpc3lNMQhTtI30ZFkl+UD8zh4eFhiIuLA8e5ooQWyIWq3Rlr1+zpff0/3r08GRQ5HWmrdu3vf/c/0C47TJGf1/JJ5/b/R8vm3gL5JtnaP/Lr5CP/dxdM24HhQmjUczQnLZ62pOrstyjnAlDiZGtNWT5/Wc35X8EOOR6S3Bx61xvXPNlfNHM3yDeJNsGeN5vWf9uWN3k+AwEgjBwaIJ8i8fmBmBWJ74Uc5uiAESmRMjcmLpo5t+zIgSn5O/dML9xzJMW7JgIm6e1dG1RUuPdoYcHu3eVlRw8kJS2Zi2KSmwlErYSQHMxQ5rllR1+cmPbr/+6eV/9PTf/7vyZ2TgtMPdCA6hUr/v/v7n7xf/Hi//9ray9+JORtxsLQvvSOtNXNXelrq1tTlrWGO+ZYwyQdHXPMExMXtaUD5dLTVzcFB3dnAwC1VuGP4Yc54gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"actual rebase again result\"\n        title=\"\"\n        src=\"/static/af50e5e634451222707106152a133619/623ee/rebase-5.png\"\n        srcset=\"/static/af50e5e634451222707106152a133619/816c5/rebase-5.png 148w,\n/static/af50e5e634451222707106152a133619/c766b/rebase-5.png 295w,\n/static/af50e5e634451222707106152a133619/623ee/rebase-5.png 590w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>It was as though both commit <code class=\"language-text\">commit #1</code> and <code class=\"language-text\">commit #2</code> were gone, and left with commits from <code class=\"language-text\">master</code> branch, because git did not rewrote them when rebasing <code class=\"language-text\">feat/a</code>. And actually the changes made in <code class=\"language-text\">commit #1</code> and <code class=\"language-text\">commit #2</code> were still available.</p>\n<blockquote>\n<p>You can read more about this behaviour in <a href=\"https://git-scm.com/book/en/v2/Git-Branching-Rebasing#_rebase_rebase\">git’s documentation</a></p>\n</blockquote>\n<p>So, what she should have done if she wanted to actually rebased the local <code class=\"language-text\">feat/a</code> on top of <code class=\"language-text\">origin/feat/a</code>, especially after she made another commit, <code class=\"language-text\">commit #0</code>?</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c17da8443526eb60e47444221fa85b6/fc9aa/rebase-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 58.273381294964025%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA9hAAAPYQGoP6dpAAACiklEQVQoz2NgQAOWSrqMINpEXlMq2cbfqdAlyrLUPdbGU8fKEKZGiJufYe7c/2B1ISE9LsXFB7uLivY1FxTsrmFYsGAB44kTJ5gnTZwEVpxg7csMor11rY1mxVaXTIooyVuX2ZVd4BIVBRRm////P1jdnDn/2UB0Rsa6mStW/P8/ceLn/9Om/fqP4rrnZ2/C2QayaiKxFl56etIq7r769pbOSupyMDmYoSAQGtprmJi4KNXFpbAgN3d7CENvb6/G2rVrWzva2sVBCiLM3EzCTFyMYRqsVQzCFXk4pSJyDgimp61uB3pRASSemroyNylpKcjVDC4uRdr+/i39YA1Aw6qANv7PycmpBHJNZ8XXxPeFFScD2bpyQuKO2/Knpkfrmno4uJRUz5zx739wcDdInXJDw9X/ZWVHHwPZomlpq1ZNnfrjP9CVDgzp6enCkydP9lBTVRUBSsrbKGvL8APDHWSZpJAcm7aIAMhFnDb2OdwhIb3ednYZ/CC5oKBOG6CrDEBsD48KmeDgLk8gkxk5CJmAWCEzchlbXnCvdaxLPis40AM6DFN9m+SQFR45ggjDzs6njCgR0djYyLBw4UJmoK9BEsIFwd1dJ6f/+R/rVpII5Gtv63zyf1bJwWMgtbd3/GcJ8qoBG5CTs4UpLW01yBEMsbGzGfPzdzGLiiojDP5/FmJromeVWX/2psmh9llg2cKQ3t784K4gEPvEtF9MDKSAc7NQkhFTW8oKj3DHnIzcoM74vKAuS7DFj/4z6ClZEjbs/2eIYe6mkbCAlV7dcO3/kcnf/l+Y8///lPyde6BpkNHbIo54V4oLysKYfA0JCye0p66c35W+dml+cHcW2MAn/xnMNFxw6gcAQAHm/D0bxksAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"adding one more commit\"\n        title=\"\"\n        src=\"/static/4c17da8443526eb60e47444221fa85b6/623ee/rebase-6.png\"\n        srcset=\"/static/4c17da8443526eb60e47444221fa85b6/816c5/rebase-6.png 148w,\n/static/4c17da8443526eb60e47444221fa85b6/c766b/rebase-6.png 295w,\n/static/4c17da8443526eb60e47444221fa85b6/623ee/rebase-6.png 590w,\n/static/4c17da8443526eb60e47444221fa85b6/fc9aa/rebase-6.png 695w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Well, she should specify the <code class=\"language-text\">&lt;upstream&gt;</code> reference point:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3b852c3e96d69241192dc4fef4ce3a7/00b72/rebase-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 57.04225352112676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA9hAAAPYQGoP6dpAAACoklEQVQoz2NgQAMZ9sFg2lvX2rDELdaxwDnSPsshxFFRREoYJG6prMcQEzOTEcT29KwyLC4+OLm4+EB3dvamiR4eFVIMFy5cYPz//z+zu4cHWNH/L//BdK5TeND6rJ60OXE16YuTGtPMVE3VQOJcDAyMdXWXWEHsiIjJKfPn///f1/fu/8SJn/5HRk41ZsAFXDXNxU0UtHQleQV9ooxdFLGp8fdtFI4In+SipeEcHxbU6WJtlcjHsGzZMs/jx49v8fTy0gCqEa72TvYOMXY2AbJZA/VsDSPsQ4KAbO7Cot1TsnM3tQLZTBlZawsLC/csA7I5Q8LbLVMz1+3XL1shBLZl06ZNJQ8fPPjv4uoaAuSazE1sSEyxDfYFsiVCHEI9TvhnlRsyMBhmZu07m5m8eRdIT0rC+nk1Nee/AJliFlZ1ib0FR/7PZlDxgLmcCYgFQbZxcHCLA2lmZG+VAw3+v3bVsrdbtz78uHbt1f9HDh//snzZfqAU2/+9u6P+Hdh/7eWCBc/+b1j/+N/mzZlwjVKi8gIgV00t2B00MWdrB0isLXa2SW/F6Z4LXdNy/i+Yk/5/+oz0n5MnF/yfNi0WJP+tr9/0/8KF+f/nzon/u2hxzv9JE80YnJycGAIDAxn/v/kPcilXT+b6AwsrTv4HspXzo2dWX+18+j+CQUcPPUK6W2YxMeADdXFzwbS7aaRAtEuRHFSY2Y+BIe7/vMkT/2/YsPvf0qXb/y9fvu//4sWLQTYCkxvj//Pnmf8fOsT8/8IF5v8HDjCiGGqj6w0XKA6b4LOw4sTd2RWnTl+ece7/i/nLFv5fs6r276rVnf8WLy75D1X3f+ZM7C5sSFgApiflbmcB0aURkyOXVJ/7D/T+j8l5Bz4C84gMup7/paUY5gAAdhIMYyW9p1QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"reference points\"\n        title=\"\"\n        src=\"/static/c3b852c3e96d69241192dc4fef4ce3a7/623ee/rebase-7.png\"\n        srcset=\"/static/c3b852c3e96d69241192dc4fef4ce3a7/816c5/rebase-7.png 148w,\n/static/c3b852c3e96d69241192dc4fef4ce3a7/c766b/rebase-7.png 295w,\n/static/c3b852c3e96d69241192dc4fef4ce3a7/623ee/rebase-7.png 590w,\n/static/c3b852c3e96d69241192dc4fef4ce3a7/00b72/rebase-7.png 710w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git rebase --onto origin/feat/a master feat/a</code></pre></div>\n<p>And you would get:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f8300411e8f165f4ed2d7e721e99cfc2/78bcf/rebase-8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 60.902255639097746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAClUlEQVQoz2NgQANmCtpgWldaRTjWwsu5yCXKssQt1ibI0NEcKMwKkpPgE2bACaZOncq4e/duls6ODjA/3NSNGUTbqxmpT40qL50eXZG7Mq09u9k/IwkozA+SE2BiYNDT82U0MQljBPElJbUYzM2jGRUVzVENz4lLZYSxNSUVBKPNPYwtlHRc3bUt7YONHDXhvjAJYcTpwpaWFqVly5ZVdrS1i4D4/gb2uoEGDsYweQNZdT8NCXmwYdpabhYKCmZSILaamp2qhoazETgIJDS5tLTcLGVk9MUY1qxZU/0fCEpLSuqBckYTo0rj5sTVJoPYvOxc1msyulLqvJPDGJg4PPx869J0db2DQGZbWMRG+vk1RIMcLCKi5BQQ0JKioeHkyFBaWiq5cOHCaBtrG2mgpJKHjqWSnYKSPMhmJhYudld1fXULWQVxBgYWDhVlK12gMA9ITk7OSEFJyUILyGTk55fkUla2MpSQ0BBE8T4TE5MiiA52LFCz03ZhArEdTeOkPC1TxKFKGN3dyzRANM4wbGxsZFy/fj0z0NcgRWKpPnWlhyZ+/l8Q0lMICp7FVac/zys79hTIFoyPm9fa1/f2f1hYfwhIb1jYBBYQLSKiyODsnM+ooGCKMPj/h/9gOsq5wG5awZ5tab4NdmALExdNb0xc3AliB/g1OyYnL93v59cMCh4GT89qJgZ8AOhKVNcnLlK30HLztdX1ds2LmqZvaZ1sKS9vEurpWWWso+MJThX6+v74DbPR9WaCsnkWVZ1+dnDip/+7Op/+n1l/9X/fpM//e3te/Z869ef/yMipYSBF8fHzmfG6khER3uwTcrbOm116+MDckoM7G7I37SqrPLWrrOzIzoqKEwf8/JpswBEY3I3ibQCDuMHaazBpRwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"result\"\n        title=\"\"\n        src=\"/static/f8300411e8f165f4ed2d7e721e99cfc2/623ee/rebase-8.png\"\n        srcset=\"/static/f8300411e8f165f4ed2d7e721e99cfc2/816c5/rebase-8.png 148w,\n/static/f8300411e8f165f4ed2d7e721e99cfc2/c766b/rebase-8.png 295w,\n/static/f8300411e8f165f4ed2d7e721e99cfc2/623ee/rebase-8.png 590w,\n/static/f8300411e8f165f4ed2d7e721e99cfc2/78bcf/rebase-8.png 665w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Here again, git is smart enough not to rewrite <code class=\"language-text\">commit #1</code> and <code class=\"language-text\">commit #2</code>.</p>\n<h1>Summary</h1>\n<p>When using <code class=\"language-text\">git rebase</code>, always remember the 3 reference points of rebase, the <code class=\"language-text\">new base</code>, <code class=\"language-text\">upstream</code> and <code class=\"language-text\">branch</code>.</p>","fields":{"wip":false},"frontmatter":{"title":"Git commits went missing after a rebase","date":"September 04, 2019","lastUpdated":null,"description":"What happened when you do a rebase"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/commit-went-missing-after-rebase/","type":"blog","noteDate":null,"noteTitle":null,"wip":false,"previous":{"fileAbsolutePath":"/Users/tanlh/Project/tanhauhau.github.io/content/blog/what-is-module-bundler-and-how-does-it-work/index.md","fields":{"slug":"/what-is-module-bundler-and-how-does-it-work/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"What is module bundler and how does it work?"}},"next":{"fileAbsolutePath":"/Users/tanlh/Project/tanhauhau.github.io/content/blog/step-by-step-guide-for-writing-a-babel-transformation/index.md","fields":{"slug":"/step-by-step-guide-for-writing-a-babel-transformation/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"Step-by-step guide for writing a custom babel transformation"}}}}}