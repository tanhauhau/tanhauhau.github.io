import{o as Aa,a as Fa}from"./D8xCbML1.js";import"./Bzak7iHL.js";import{t as T,C as pa,D as ga,a0 as Ja,b7 as Wa,L as ma,P as Ia,R as ja,aX as qa,aW as Sa,F as ba,T as Ba,E as Pa,M as Z,aN as Va,q as Xa,aO as Ya,ar as Ga,aM as Ka,p as xa,b3 as Y,a6 as Qa,u as ya,a7 as j,b as n,f as G,a as o,d as ka,a5 as a,s as k,e as v,r,c as wa,ab as Ua,aR as Za,x as ae}from"./C2PHntuy.js";import{s as $,e as ee}from"./F79hK6eD.js";import{i as M}from"./mnCOdu-q.js";import{e as q,i as S}from"./pHDcyWD2.js";import{s as E}from"./CEusTUg_.js";import{p as te}from"./gzNpScmH.js";function re(e,c,s=!1,t=!1,O=!1){var u=e,_="";T(()=>{var w=Ja;if(_===(_=c()??"")){pa&&ga();return}if(w.nodes_start!==null&&(Wa(w.nodes_start,w.nodes_end),w.nodes_start=w.nodes_end=null),_!==""){if(pa){ma.data;for(var g=ga(),C=g;g!==null&&(g.nodeType!==Ia||g.data!=="");)C=g,g=ja(g);if(g===null)throw qa(),Sa;ba(ma,C),u=Ba(g);return}var x=_+"";s?x=`<svg>${x}</svg>`:t&&(x=`<math>${x}</math>`);var h=Pa(x);if((s||t)&&(h=Z(h)),ba(Z(h),h.lastChild),s||t)for(;Z(h);)u.before(Z(h));else u.before(h)}})}function se(e,c,s){Va(()=>{var t=Xa(()=>c(e,s==null?void 0:s())||{});if(s&&(t!=null&&t.update)){var O=!1,u={};Ya(()=>{var _=s();Ga(_),O&&Ka(u,_)&&(u=_,t.update(_))}),O=!0}if(t!=null&&t.destroy)return()=>t.destroy()})}const aa=new Map;function We(){Aa(()=>{const e=document.querySelectorAll(".copy[data-copy]");function c(s){if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function"){const t=s.currentTarget;navigator.clipboard.writeText(t.getAttribute("data-copy")),oe(t)}}return e.forEach(s=>{s.addEventListener("click",c)}),()=>{e.forEach(s=>{s.removeEventListener("click",c)})}})}function oe(e){aa.has(e)?clearTimeout(aa.get(e)):e.dataset.original=e.innerHTML,e.innerHTML='<svg viewBox="64 64 896 896" focusable="false" data-icon="check" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"></path></svg>';const c=setTimeout(()=>{e.innerHTML=e.dataset.original,delete e.dataset.original,aa.delete(e)},2e3);aa.set(e,c)}var le=n('<div style="height: 1px; width: 100%"></div>'),ie=n('<img class="avatar svelte-lsxgc8"/>'),ne=n('<a class="author svelte-lsxgc8" target="_blank" rel="noreferrer noopener"><!> </a>'),ve=n('<div class="content svelte-lsxgc8"><!></div>'),ce=n('<div class="content svelte-lsxgc8"> </div>'),fe=n(' <a target="_blank" rel="noreferrer noopener"> </a>',1),_e=n('<li class="svelte-lsxgc8"><!> <a target="_blank" rel="noreferrer noopener"> </a> <!> <span class="timestamp svelte-lsxgc8"> </span></li>'),de=n('<li class="more svelte-lsxgc8">Fetch More</li>'),ue=n('<hr class="svelte-lsxgc8"/> <h2>WebMentions</h2> <ul class="svelte-lsxgc8"><!>  <!></ul>',1),he=n("<!> <!>",1);function Ie(e,c){xa(c,!0);let s=Y(0),t=Y(Qa([])),O=Y(!1),u=Y(!1),_=Y(!1);ya(()=>{c.link&&j(_,!1)});async function w(){if(j(_,!0),a(u))return;j(u,!0);const l=await fetch(`https://webmention.io/api/mentions.jf2?page=${a(s)}&per-page=20&wm-property=mention-of&target=${c.link}`),{children:d}=await l.json();j(O,d.length===20);const N=d.filter(y=>y.type==="entry"&&y["wm-property"]==="mention-of"&&!y["wm-private"]);j(t,a(t).concat(N),!0),Ua(s),j(u,!1)}function g(l){return l.length>100?l.slice(0,100)+"...":l}let C;function x(l){if(!C){const N={root:null,rootMargin:"10px",threshold:[0,.1,.2,.3,.8,.9,1]};C=new IntersectionObserver(y=>{y[0].isIntersecting&&(w(),C.unobserve(l),d=!0)},N)}C.observe(l);let d=!1;return{destroy(){d||C.unobserve(l)}}}var h=he(),W=G(h);{var ea=l=>{var d=le();se(d,N=>x==null?void 0:x(N)),o(l,d)};M(W,l=>{a(_)||l(ea)})}var ta=k(W,2);{var ra=l=>{var d=ue(),N=k(G(d),4),y=v(N);q(y,17,()=>a(t),S,(I,i)=>{var H=_e(),R=v(H);{var A=b=>{var z=ne(),L=v(z);{var D=p=>{var f=ie();T(()=>{E(f,"src",a(i).author.photo),E(f,"alt",a(i).author.name)}),o(p,f)};M(L,p=>{a(i).author.photo&&p(D)})}var J=k(L);r(z),T(()=>{E(z,"href",a(i).author.url),$(J,` ${a(i).author.name??""}`)}),o(b,z)};M(R,b=>{a(i).author.name&&b(A)})}var m=k(R,2),F=v(m,!0);r(m);var K=k(m,2);{var B=b=>{var z=wa(),L=G(z);{var D=p=>{var f=ve(),X=v(f);re(X,()=>g(a(i).content.html)),r(f),o(p,f)},J=p=>{var f=ce(),X=v(f,!0);r(f),T(()=>$(X,a(i).content.text)),o(p,f)};M(L,p=>{a(i).content.html?p(D):p(J,!1)})}o(b,z)},P=b=>{var z=fe(),L=G(z);L.nodeValue="in  ";var D=k(L),J=v(D,!0);r(D),T(()=>{E(D,"href",a(i).url),$(J,a(i).url)}),o(b,z)};M(K,b=>{a(i).content?b(B):b(P,!1)})}var Q=k(K,2),V=v(Q,!0);r(Q),r(H),T(b=>{E(m,"href",a(i).url),$(F,a(i).author.name?" mentioned":"Mentioned"),$(V,b)},[()=>a(i)["wm-received"].slice(0,10)]),o(I,H)});var _a=k(y,2);{var da=I=>{var i=wa(),H=G(i);{var R=m=>{var F=Za("Fetching...");o(m,F)},A=m=>{var F=de();ee("click",F,w),o(m,F)};M(H,m=>{a(u)?m(R):m(A,!1)})}o(I,i)};M(_a,I=>{a(O)&&I(da)})}r(N),o(l,d)};M(ta,l=>{a(t).length>0&&l(ra)})}o(e,h),ka()}var pe=n('<li class="svelte-zmasws"><a class="svelte-zmasws"> </a></li>'),ge=n('<ol class="svelte-zmasws"></ol>'),me=n('<li class="svelte-zmasws"><a class="svelte-zmasws"> </a> <!></li>'),be=n('<ol class="svelte-zmasws"></ol>'),we=n('<li class="svelte-zmasws"><a class="svelte-zmasws"> </a> <!></li>'),xe=n('<ol class="svelte-zmasws"></ol>'),ye=n('<li class="svelte-zmasws"><a class="svelte-zmasws"> </a> <!></li>'),ke=n('<ol class="svelte-zmasws"></ol>'),Me=n('<li class="svelte-zmasws"><a class="svelte-zmasws"> </a> <!></li>'),ze=n('<section role="navigation" aria-label="Table of Contents" class="svelte-zmasws"><ol class="svelte-zmasws"></ol></section>');function je(e,c){xa(c,!0);let s=te(c,"tableOfContents",19,()=>[]);const t=ae("toc");ya(()=>{t.set(s())}),Fa(()=>{t.reset()});var O=ze(),u=v(O);q(u,21,s,S,(_,w)=>{let g=()=>a(w).link,C=()=>a(w).title,x=()=>a(w).nested;var h=Me(),W=v(h),ea=v(W,!0);r(W);var ta=k(W,2);{var ra=l=>{var d=ke();q(d,21,x,S,(N,y,_a,da)=>{let I=()=>a(y).link,i=()=>a(y).title,H=()=>a(y).nested;var R=ye(),A=v(R),m=v(A,!0);r(A);var F=k(A,2);{var K=B=>{var P=xe();q(P,21,H,S,(Q,V,b,z)=>{let L=()=>a(V).link,D=()=>a(V).title,J=()=>a(V).nested;var p=we(),f=v(p),X=v(f,!0);r(f);var Ma=k(f,2);{var za=sa=>{var oa=be();q(oa,21,J,S,(Ta,la,Oe,Ce)=>{let Oa=()=>a(la).link,Ca=()=>a(la).title,ua=()=>a(la).nested;var ia=me(),U=v(ia),Na=v(U,!0);r(U);var $a=k(U,2);{var Ea=na=>{var va=ge();q(va,21,ua,S,(La,ha,Ne,$e)=>{let Da=()=>a(ha).link,Ha=()=>a(ha).title;var ca=pe(),fa=v(ca),Ra=v(fa,!0);r(fa),r(ca),T(()=>{E(fa,"href",`#${Da()??""}`),$(Ra,Ha())}),o(La,ca)}),r(va),o(na,va)};M($a,na=>{ua()&&na(Ea)})}r(ia),T(()=>{E(U,"href",`#${Oa()??""}`),$(Na,Ca())}),o(Ta,ia)}),r(oa),o(sa,oa)};M(Ma,sa=>{J()&&sa(za)})}r(p),T(()=>{E(f,"href",`#${L()??""}`),$(X,D())}),o(Q,p)}),r(P),o(B,P)};M(F,B=>{H()&&B(K)})}r(R),T(()=>{E(A,"href",`#${I()??""}`),$(m,i())}),o(N,R)}),r(d),o(l,d)};M(ta,l=>{x()&&l(ra)})}r(h),T(()=>{E(W,"href",`#${g()??""}`),$(ea,C())}),o(_,h)}),r(u),r(O),o(e,O),ka()}const Te=["January","February","March","April","May","June","July","August","September","October","November","December"];function qe(e){const c=Number(e.slice(0,4)),s=Number(e.slice(5,7)),t=Number(e.slice(8,10));return`${Te[s-1]} ${t}, ${c}`}function Se(e){return`<script type="application/ld+json">${JSON.stringify(e)}<\/script>`}export{je as T,Ie as W,se as a,qe as f,re as h,We as i,Se as l};
