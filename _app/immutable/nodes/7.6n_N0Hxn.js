import{s as W,d as v,e as z,f as C,n as Y}from"../chunks/scheduler.85ImRbsk.js";import{S as j,i as N,m as A,n as D,o as E,t as O,a as J,p as Q,e as h,s as b,c as w,q as f,h as g,j as a,g as n}from"../chunks/index.JMRAb4ib.js";import{g as Z,a as S}from"../chunks/code-snippet.p32Anx_S.js";import{B}from"../chunks/BlogLayout.TadBQAnB.js";import{t as G}from"../chunks/twitter-card-image.6izpPI6I.js";const K=""+new URL("../assets/safari-console-context.rHh_zcSX.webp",import.meta.url).href,X=""+new URL("../assets/safari-console-context.RJSidZnQ.webp",import.meta.url).href,V=""+new URL("../assets/safari-console-context.UwEL0Fas.png",import.meta.url).href,T=""+new URL("../assets/safari-console-context.9Q8Hw6jj.png",import.meta.url).href,ee=""+new URL("../assets/firefox-shared-worker.Rncbwfte.webp",import.meta.url).href,te=""+new URL("../assets/firefox-shared-worker.eHmQhDnn.webp",import.meta.url).href,oe=""+new URL("../assets/firefox-shared-worker.jMk1PsI0.png",import.meta.url).href,H=""+new URL("../assets/firefox-shared-worker.M3vbpvbw.png",import.meta.url).href,se=""+new URL("../assets/chrome-shared-worker.xnqAY6nm.webp",import.meta.url).href,re=""+new URL("../assets/chrome-shared-worker.ylhPHvdu.webp",import.meta.url).href,ie=""+new URL("../assets/chrome-shared-worker.F0bpA9IZ.png",import.meta.url).href,q=""+new URL("../assets/chrome-shared-worker.wKaHWxnQ.png",import.meta.url).href,ae=""+new URL("../assets/chrome-worker-context.eFq_72qG.webp",import.meta.url).href,ne=""+new URL("../assets/chrome-worker-context.8sfZLTGT.webp",import.meta.url).href,le=""+new URL("../assets/chrome-worker-context.fKtWpvIb.png",import.meta.url).href,F=""+new URL("../assets/chrome-worker-context.6DPYdlUO.png",import.meta.url).href,pe=""+new URL("../assets/chrome-console-context.S785teWn.webp",import.meta.url).href,ce=""+new URL("../assets/chrome-console-context.riSPYhvN.webp",import.meta.url).href,_e=""+new URL("../assets/chrome-console-context.2zfbEU30.png",import.meta.url).href,I=""+new URL("../assets/chrome-console-context.YoKgvXca.png",import.meta.url).href,me=""+new URL("../assets/chrome-console.aCh5tJ4d.webp",import.meta.url).href,ue=""+new URL("../assets/chrome-console.2NlXwY4T.webp",import.meta.url).href,de=""+new URL("../assets/chrome-console.stru3jDy.png",import.meta.url).href,M=""+new URL("../assets/chrome-console.fp5pLBNm.png",import.meta.url).href;function he(d){let t,c='<a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker" rel="nofollow">Web Workers API</a> allows you to start a separate worker thread and receives and execute tasks off the main thread.',l,r,o="Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?",s,p,$="Here's how you would do it for various major browsers:",x,_,L=`<h2><a href="#chrome" id="chrome">Chrome</a></h2> <p>If you are debugging service worker or worker, you can head down to the console. There&#39;s a dropdown menu, if you haven&#39;t noticed previously, that says &quot;JavaScript context&quot;.</p> <p><span style="display: block; position: relative; padding-top: 46.033%; width: 100%;"><picture><source type="image/webp" srcset="${ue}, ${me} 2x"/><img src="${M}" srcset="${M}, ${de} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome console"/></picture></span></p> <p><span style="display: block; position: relative; padding-top: 36.313%; width: 100%;"><picture><source type="image/webp" srcset="${ce}, ${pe} 2x"/><img src="${I}" srcset="${I}, ${_e} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome console context"/></picture></span></p> <p>For worker context, you would see a cog logo beside the name.</p> <p>After you choose the worker context, you can type <code class="inline">self</code> into the console, and you should see <code class="inline">self</code> is an instance of <code class="inline">DedicatedWorkerGlobalScope</code> instead of <code class="inline">window</code>.</p> <p><span style="display: block; position: relative; padding-top: 33.981%; width: 100%;"><picture><source type="image/webp" srcset="${ne}, ${ae} 2x"/><img src="${F}" srcset="${F}, ${le} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome worker context"/></picture></span></p> <p>For shared worker, you would need to go to <a href="chrome://inspect/#workers">chrome://inspect/#workers</a>. Select &quot;Shared workers&quot; on the left panel.</p> <p><span style="display: block; position: relative; padding-top: 79.926%; width: 100%;"><picture><source type="image/webp" srcset="${re}, ${se} 2x"/><img src="${q}" srcset="${q}, ${ie} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome shared worker"/></picture></span></p> <p>You would be able to see a list of shared workers if you have any running.</p> <p>You can click &quot;inspect&quot;, which will open a new console for you to debug.</p>`,y,m,U=`<h2><a href="#firefox" id="firefox">Firefox</a></h2> <p>For Firefox, you could go to <a href="about:debugging#workers">about:debugging#workers</a>. You will be able to see a list of service workers, and shared workers registered to the browser.</p> <p><span style="display: block; position: relative; padding-top: 79.451%; width: 100%;"><picture><source type="image/webp" srcset="${te}, ${ee} 2x"/><img src="${H}" srcset="${H}, ${oe} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="firefox shared worker"/></picture></span></p>`,k,u,R=`<h2><a href="#safari" id="safari">Safari</a></h2> <p>For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console.</p> <p><span style="display: block; position: relative; padding-top: 83.396%; width: 100%;"><picture><source type="image/webp" srcset="${X}, ${K} 2x"/><img src="${T}" srcset="${T}, ${V} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="safari console context"/></picture></span></p>`;return{c(){t=h("p"),t.innerHTML=c,l=b(),r=h("p"),r.textContent=o,s=b(),p=h("p"),p.textContent=$,x=b(),_=h("section"),_.innerHTML=L,y=b(),m=h("section"),m.innerHTML=U,k=b(),u=h("section"),u.innerHTML=R},l(e){t=w(e,"P",{"data-svelte-h":!0}),f(t)!=="svelte-1w97m4p"&&(t.innerHTML=c),l=g(e),r=w(e,"P",{"data-svelte-h":!0}),f(r)!=="svelte-1smsley"&&(r.textContent=o),s=g(e),p=w(e,"P",{"data-svelte-h":!0}),f(p)!=="svelte-rset7w"&&(p.textContent=$),x=g(e),_=w(e,"SECTION",{"data-svelte-h":!0}),f(_)!=="svelte-hc3txf"&&(_.innerHTML=L),y=g(e),m=w(e,"SECTION",{"data-svelte-h":!0}),f(m)!=="svelte-11hb1pt"&&(m.innerHTML=U),k=g(e),u=w(e,"SECTION",{"data-svelte-h":!0}),f(u)!=="svelte-1ercpmq"&&(u.innerHTML=R)},m(e,i){a(e,t,i),a(e,l,i),a(e,r,i),a(e,s,i),a(e,p,i),a(e,x,i),a(e,_,i),a(e,y,i),a(e,m,i),a(e,k,i),a(e,u,i)},p:Y,d(e){e&&(n(t),n(l),n(r),n(s),n(p),n(x),n(_),n(y),n(m),n(k),n(u))}}}function we(d){let t,c;const l=[d[0],P];let r={$$slots:{default:[he]},$$scope:{ctx:d}};for(let o=0;o<l.length;o+=1)r=v(r,l[o]);return t=new B({props:r}),{c(){A(t.$$.fragment)},l(o){D(t.$$.fragment,o)},m(o,s){E(t,o,s),c=!0},p(o,[s]){const p=s&1?Z(l,[s&1&&S(o[0]),s&0&&S(P)]):{};s&2&&(p.$$scope={dirty:s,ctx:o}),t.$set(p)},i(o){c||(O(t.$$.fragment,o),c=!0)},o(o){J(t.$$.fragment,o),c=!1},d(o){Q(t,o)}}}const P={title:"Debugging Web Workers",date:"2019-05-22T08:00:00Z",description:"...for Chrome, Firefox and Safari",label:"blog",tableOfContents:[{link:"chrome",title:"Chrome"},{link:"firefox",title:"Firefox"},{link:"safari",title:"Safari"}]};function fe(d,t,c){return z("blog",{image:G}),d.$$set=l=>{c(0,t=v(v({},t),C(l)))},t=C(t),[t]}class ve extends j{constructor(t){super(),N(this,t,fe,we,W,{})}}export{ve as component};
