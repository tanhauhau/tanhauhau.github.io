import{s as an,d as _o,e as ln,f as Ot,n as rn}from"../chunks/scheduler.D6VJxl8L.js";import{S as pn,i as cn,m as kn,n as hn,o as yn,t as vn,a as un,p as dn,e,s as t,H as g,c as o,q as r,h as n,d as f,r as b,g as i,u as _,j as k,k as s}from"../chunks/index.CLAVN-Y5.js";import{g as xn,a as Dt}from"../chunks/code-snippet.Gym6WUAG.js";import{B as fn}from"../chunks/BlogLayout.BTH3PMCG.js";import{t as mn}from"../chunks/twitter-card-image.C3bQ3Oc7.js";const wn=""+new URL("../assets/resolution.BxUgmB4P.webp",import.meta.url).href,gn=""+new URL("../assets/resolution.BwlfA0ew.webp",import.meta.url).href,bn=""+new URL("../assets/resolution.4v8RMFtE.png",import.meta.url).href,Nt=""+new URL("../assets/resolution.BIkjKanZ.png",import.meta.url).href,_n=""+new URL("../assets/ast-explorer.BFAU-TGk.webp",import.meta.url).href,Cn=""+new URL("../assets/ast-explorer.CYBWdHS3.webp",import.meta.url).href,Tn=""+new URL("../assets/ast-explorer.f6qToDOS.jpeg",import.meta.url).href,Rt=""+new URL("../assets/ast-explorer.qmNE8Vnh.jpeg",import.meta.url).href,Ln=""+new URL("../assets/relationship.wXLAHMWM.webp",import.meta.url).href,Mn=""+new URL("../assets/relationship.D3lk_aht.webp",import.meta.url).href,Hn=""+new URL("../assets/relationship.hKyKRAVh.png",import.meta.url).href,zt=""+new URL("../assets/relationship.BohYqPAA.png",import.meta.url).href,jn=""+new URL("../assets/why-bundling.BDZ8akaG.webp",import.meta.url).href,In=""+new URL("../assets/why-bundling.Bf0U_d8o.webp",import.meta.url).href,qn=""+new URL("../assets/why-bundling.BJso3br0.png",import.meta.url).href,Vt=""+new URL("../assets/why-bundling.gKebxlNO.png",import.meta.url).href;function An(U){let v,q='<h2><a href="#background" id="background">Background</a></h2> <p>We are trying out a new form of our weekly sharing, which is interest group-based.</p> <p>I am hosting the <strong>&quot;Building a simplified webpack clone&quot;</strong> interest group, which lasted 8 weeks, and every week, we will cover 1 concept of webpack and an assignment to implement that concept ourselves.</p>',L,T,m='<h2><a href="#prior-art" id="prior-art">Prior Art</a></h2> <ul><li>ğŸ“º <a href="https://twitter.com/wSokra" rel="nofollow">Tobias Koppers</a> - bundling live by hand - <a href="https://youtube.com/watch?v=UNMkLHzofQI" rel="nofollow">https://youtube.com/watch?v=UNMkLHzofQI</a></li> <li>ğŸ“º <a href="https://twitter.com/ronenamiel" rel="nofollow">Ronen Amiel</a> - build your own webpack - <a href="https://youtube.com/watch?v=Gc9-7PBqOC8" rel="nofollow">https://youtube.com/watch?v=Gc9-7PBqOC8</a></li> <li>ğŸ“– adam kelly - <a href="https://freecodecamp.org/news/lets-learn-how-module-bundlers-work-and-then-write-one-ourselves-b2e3fe6c88ae/" rel="nofollow">https://freecodecamp.org/news/lets-learn-how-module-bundlers-work-and-then-write-one-ourselves-b2e3fe6c88ae/</a></li></ul>',C,M,Co='<h2><a href="#week-1-resolving" id="week-1-resolving">Week 1 - Resolving</a></h2>',Ks,A,To=`<h3><a href="#why-module-bundler" id="why-module-bundler">Why module bundler?</a></h3> <p>We love writing small modular JS files, but that shouldn&#39;t impact the users.</p> <p>Traditionally with limit on number of request connection, ğŸŒ slow internet speed, we want to combine all the code into 1 file -&gt; 1 network request</p> <p><span style="display: block; position: relative; padding-top: 35.100%; width: 100%;"><picture><source type="image/webp" srcset="${In}, ${jn} 2x"/><img src="${Vt}" srcset="${Vt}, ${qn} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="why bundling"/></picture></span></p> <p>ğŸ•° Traditionally, we concatenate the source files into 1 big output file.</p> <p>But that begs the question</p> <ul><li>â“ what should be the order of concatenation (files may depend on each other) ?</li> <li>â“ what if there&#39;s var naming conflict across files?</li> <li>â“ what if there&#39;s unused file?</li></ul> <p>ğŸ’¡ That&#39;s why we need a module system to define the relationship among the JS modules</p> <p><span style="display: block; position: relative; padding-top: 90.868%; width: 100%;"><picture><source type="image/webp" srcset="${Mn}, ${Ln} 2x"/><img src="${zt}" srcset="${zt}, ${Hn} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="relationship within a bundle"/></picture></span></p> <p>So now, let&#39;s take a look how we can start building a module dependency graph</p>`,Zs,P,Lo='<h3><a href="#1-we-start-from-an-entry-file" id="1-we-start-from-an-entry-file">1. We start from an entry file.</a></h3> <p>This is the starting point of the application</p>',Qs,p,B,Mo='<a href="#2-we-read-the-file-and-determine-what-is-being-imported-into-this-file" id="2-we-read-the-file-and-determine-what-is-being-imported-into-this-file">2. We read the file and determine what is being imported into this file</a>',we,O,Ys,Ft=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> calculate </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./calculate&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; measure</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> UNITS &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;../measurements&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> formula </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;formulas&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">oneCm</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">measure</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">UNITS</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">CM</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">result</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">calculate</span><span style="color: var(--shiki-color-text)">(formula</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> oneCm);</span></span></code></pre>`,ge,D,Ho="In the example above, the following is imported:",be,N,jo='<li><code class="inline">&#39;./calculate&#39;</code></li> <li><code class="inline">&#39;../measurements&#39;</code></li> <li><code class="inline">&#39;formulas&#39;</code></li>',_e,R,Io="we can spot the import from our human eye ğŸ‘€, but how can computer ğŸ¤– do that for us?",Ce,z,qo="ğŸ¤– can parse the code in string into Abstract Syntax Tree (AST), something representing the code that ğŸ¤– can understand.",Te,V,Ao="in AST, import statement is represented by a node with:",Le,W,Po='<li><code class="inline">type</code> = &quot;ImportDeclaration&quot;</li> <li><code class="inline">source.value</code> = the filename it&#39;s trying to import</li>',Me,F,So=`<span style="display: block; position: relative; padding-top: 48.359%; width: 100%;"><picture><source type="image/webp" srcset="${Cn}, ${_n} 2x"/><img src="${Rt}" srcset="${Rt}, ${Tn} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="ast explorer"/></picture></span>`,He,J,$o="There are various JavaScript parser out there, here are some of them",je,G,Eo='<li>ğŸ”— <a href="https://babeljs.io/docs/en/babel-core" rel="nofollow">babel</a></li> <li>ğŸ”— <a href="https://github.com/acornjs/acorn" rel="nofollow">acorn</a></li> <li>ğŸ”— <a href="https://github.com/jquery/esprima" rel="nofollow">esprima</a></li> <li>ğŸ”— <a href="https://github.com/guybedford/es-module-lexer" rel="nofollow">es-module-lexer</a></li>',Ie,K,Xs,Jt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// babel</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">babel</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;@babel/core&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">babel</span><span style="color: var(--shiki-token-function)">.parseSync</span><span style="color: var(--shiki-color-text)">(code);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// acorn</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">acorn</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;acorn&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">acorn</span><span style="color: var(--shiki-token-function)">.parse</span><span style="color: var(--shiki-color-text)">(code</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> &#123; ecmaVersion</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">2020</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> sourceType</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;module&#39;</span><span style="color: var(--shiki-color-text)"> &#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// esprima</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">esprima</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;esprima&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">esprima</span><span style="color: var(--shiki-token-function)">.parseScript</span><span style="color: var(--shiki-color-text)">(code);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// if you just need the import &amp; export</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// es-module-lexer is blazing fast, it is written in c, and loaded through web-assembly</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// is what powers vite for parsing dependencies</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> &#123; </span><span style="color: var(--shiki-token-constant)">init</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">parse</span><span style="color: var(--shiki-color-text)"> &#125; </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;es-module-lexer&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> init;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-constant)">imports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)">] </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">parse</span><span style="color: var(--shiki-color-text)">(code);</span></span></code></pre>`,qe,Z,Uo="...and if you forgot about your tree-traversal algorithm ğŸ˜¨, here are some libraries that can help you out",Ae,Q,Bo='<li>ğŸ”— <a href="https://babeljs.io/docs/en/babel-traverse" rel="nofollow">babel-traverse</a></li> <li>ğŸ”— <a href="https://github.com/acornjs/acorn/tree/master/acorn-walk" rel="nofollow">acorn-walk</a></li> <li>ğŸ”— <a href="https://github.com/Rich-Harris/estree-walker" rel="nofollow">estree-walker</a></li>',Pe,Y,se,Gt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// babel</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">traverse</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;@babel/traverse&#39;</span><span style="color: var(--shiki-color-text)">).default;</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">traverse</span><span style="color: var(--shiki-color-text)">(ast</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">ImportDeclaration</span><span style="color: var(--shiki-color-text)">(node) &#123;&#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// acorn</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">walk</span><span style="color: var(--shiki-token-function)">.simple</span><span style="color: var(--shiki-color-text)">(ast</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">ImportDeclaration</span><span style="color: var(--shiki-color-text)">(node) &#123;&#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// estree-walker</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> &#123; </span><span style="color: var(--shiki-token-constant)">walk</span><span style="color: var(--shiki-color-text)"> &#125; </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;estree-walker&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">walk</span><span style="color: var(--shiki-color-text)">(ast</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">enter</span><span style="color: var(--shiki-color-text)">(node) &#123;&#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">leave</span><span style="color: var(--shiki-color-text)">(node) &#123;&#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span></code></pre>`,Se,X,Oo="Some other useful links",$e,ss,Do='<li>Inspect your AST<ul><li><a href="https://astexplorer.net" rel="nofollow">https://astexplorer.net</a></li> <li><a href="https://lihautan.com/babel-ast-explorer/" rel="nofollow">https://lihautan.com/babel-ast-explorer/</a></li></ul></li> <li>The JS AST Specification<ul><li><a href="https://github.com/estree/estree" rel="nofollow">https://github.com/estree/estree</a></li></ul></li> <li>Guide on parsing, traversing AST<ul><li><a href="https://lihautan.com/manipulating-ast-with-javascript" rel="nofollow">https://lihautan.com/manipulating-ast-with-javascript</a></li> <li><a href="https://lihautan.com/json-parser-with-javascript" rel="nofollow">https://lihautan.com/json-parser-with-javascript</a></li></ul></li>',ee,y,es,No='<a href="#3-now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path" id="3-now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path">3. Now knowing what are the names you are importing from, you need to figure out their actual file path</a>',Ee,os,Ro="that depends on",Ue,ts,zo="<li>the current file path</li> <li>the name you are importing from</li>",Be,ns,oe,Kt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-function)">resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;a/b/app.js&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./calculate.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// a/b/calculate.js</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;a/b/app.js&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;../measurements.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// a/measurements.js</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;a/b/app.js&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;formulas&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// node_modules/formulas/src/index.js</span></span></code></pre>`,Oe,as,Vo='That leads us to the <a href="https://nodejs.org/api/modules.html#modules_all_together" rel="nofollow">Node.js Module Resolution Algorithm</a>',De,ls,Wo="It describes the steps taken to resolve the file.",Ne,rs,Fo="there are 3 scenarios in general:",Re,is,Jo="<li>load as file</li> <li>load as directory</li> <li>load as node_modules</li>",ze,ps,Go=`<span style="display: block; position: relative; padding-top: 38.000%; width: 100%;"><picture><source type="image/webp" srcset="${gn}, ${wn} 2x"/><img src="${Nt}" srcset="${Nt}, ${bn} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="node js module resolution algorithm"/></picture></span>`,Ve,cs,Ko="Some other module resolution:",We,ks,Zo='<li>webpack uses <a href="https://github.com/webpack/enhanced-resolve" rel="nofollow"><code class="inline">enhanced-resolve</code></a> which is a highly configurable resolver</li> <li>Typescript implements its own resolver, <a href="https://typescriptlang.org/docs/handbook/module-resolution.html" rel="nofollow">see how TS resolving works</a></li>',te,S,Qo='<h3><a href="#4-after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-2-until-no-more-new-files-to-be-found" id="4-after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-2-until-no-more-new-files-to-be-found">4ï¸âƒ£ After you figured the file path you&#39;re importing from, for each of the file, ğŸ” repeat step 2ï¸âƒ£ until no more new files to be found.</a></h3>',ne,u,hs,Yo='<a href="#assignment" id="assignment">Assignment</a>',Fe,ys,Xo='<a href="https://github.com/tanhauhau/rk-webpack-clone" rel="nofollow">Test cases</a>',Je,vs,st="For each test cases, we provide the entry file, and we expect",Ge,us,et="ğŸ“ Module",Ke,ds,ot='<li><code class="inline">filepath</code></li> <li><code class="inline">dependencies</code> -&gt; list of Depedencies (see below ğŸ‘‡)</li> <li><code class="inline">isEntryFile</code> -&gt; <code class="inline">true</code> if it is the entry file / <code class="inline">false</code> otherwise</li>',Ze,xs,tt="ğŸ“ Depedencies",Qe,fs,nt='<li><code class="inline">module</code> (see above â˜ï¸)</li> <li><code class="inline">exports</code> -&gt; list of var names you are importing, eg &quot;default&quot;, &quot;measure&quot; ..</li>',Ye,ms,at="ğŸ“ If 2 module are importing the same module, both should be referring to the same module instance",Xe,ws,ae,Zt='<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">moduleCFromModuleA </span><span style="color: var(--shiki-token-keyword)">===</span><span style="color: var(--shiki-color-text)"> moduleCFromModuleB;</span></span></code></pre>',so,gs,lt="ğŸ“ Be careful with circular dependency ğŸ™ˆ",le,w,bs,rt='<a href="#week-2-bundling" id="week-2-bundling">Week 2 - Bundling</a>',eo,_s,it="ğŸ¤” How do you bundle modules into 1 file?",oo,Cs,pt="After studying the 2 most popular bundlers, webpack and rollup, i found that the way they bundle are very different.",to,Ts,ct="Both of them come a long way, I believe both has its own pros and cons",no,Ls,re,Qt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// circle.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// square.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// app.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> squareArea </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./square&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> circleArea </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./circle&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">squareArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circleArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,ie,H,Ms,kt='<a href="#observation-bundle-using-webpack" id="observation-bundle-using-webpack">ğŸ”­ Observation: Bundle using webpack</a>',ao,Hs,ht="<li>ğŸ“ each module wrap in a function</li> <li>ğŸ“ a module map, module identifier as key</li> <li>ğŸ“ a runtime glue code to piece modules together</li> <li>ğŸ“ calling module function, with 2 parameters, 1 to assign the exports of the module, 1 to &quot;require&quot; other modules</li>",lo,js,pe,Yt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// webpack-bundle.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">modules</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;circle.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(__exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> __getModule) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">__exports</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;square.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(__exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> __getModule) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">__exports</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;app.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(__exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> __getModule) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">squareArea</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">__getModule</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;square.js&#39;</span><span style="color: var(--shiki-color-text)">).default;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">circleArea</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">__getModule</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;circle.js&#39;</span><span style="color: var(--shiki-color-text)">).default;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">squareArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">))</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circleArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">))</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">webpackRuntime</span><span style="color: var(--shiki-color-text)">(&#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  modules</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  entry</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;app.js&#39;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span></code></pre>`,ce,j,Is,yt='<a href="#observation-bundle-using-rollup" id="observation-bundle-using-rollup">ğŸ”­ Observation: Bundle using rollup</a>',ro,qs,vt="<li>ğŸ“ much flatter bundle</li> <li>ğŸ“ module are concatenated in topological order</li> <li>ğŸ“ exports and imports are removed by renaming them to the same variable name</li> <li>ğŸ“ any variable in module scope that may have naming conflict with other variables are renamed</li>",io,As,ke,Xt=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// rollup-bundle.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">square$area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">square$area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,he,$,ut='<h3><a href="#output-target-of-bundling" id="output-target-of-bundling">ğŸ“¤ Output target of bundling</a></h3> <ul><li><p>IIFE (the most common target, we want to execute the script)</p></li> <li><p>CJS, ESM, UMD, AMD, ... (we want to bundle a library, exports of entry file is exported in selected module format)</p></li> <li><p>ğŸ”— <a href="https://webpack.js.org/configuration/output/#outputlibrarytarget" rel="nofollow">https://webpack.js.org/configuration/output/#outputlibrarytarget</a></p></li> <li><p>ğŸ”— <a href="https://rollupjs.org/guide/en/#configuration-files" rel="nofollow">https://rollupjs.org/guide/en/#configuration-files</a></p></li></ul>',ye,c,Ps,dt='<a href="#assignment-1" id="assignment-1">Assignment</a>',po,Ss,xt='<a href="https://github.com/tanhauhau/rk-webpack-clone" rel="nofollow">Test cases</a>',co,$s,ft="Here are some of the the interesting test cases:",ko,Es,mt="ğŸ§ª Able to handle re-export nicely",ho,Us,ve,sn=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// a.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> b </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> &#123; d &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./d&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// main.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">as</span><span style="color: var(--shiki-color-text)"> a </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(a);</span></span></code></pre>`,yo,Bs,wt="ğŸ§ª Importing the same file twice, but are you able to make sure it's gonna be evaluated only once?",vo,Os,ue,en=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// a.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// b.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// c.js</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;c.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// main.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span></code></pre>`,uo,Ds,gt='ğŸ§ª The dreaded circular dependency, are you able to make sure to get the value of <code class="inline">a</code>, <code class="inline">b</code>, <code class="inline">c</code> in all the files?',xo,Ns,de,on=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// a.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; b &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; c &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">a</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-function)">setTimeout</span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#96;a.js | b=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">b</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)"> | c=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">c</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)">&#96;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// b.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; a &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; c &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">b</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-function)">setTimeout</span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#96;b.js | a=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">a</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)"> | c=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">c</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)">&#96;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// c.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; a &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; b &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">c</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-function)">setTimeout</span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#96;c.js | a=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">a</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)"> | b=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">b</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)">&#96;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// main.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; a &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; b &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; c &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./c&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-function)">setTimeout</span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#96;main.js | a=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">a</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)"> | b=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">b</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)"> | c=</span><span style="color: var(--shiki-token-keyword)">$&#123;</span><span style="color: var(--shiki-color-text)">c</span><span style="color: var(--shiki-token-keyword)">&#125;</span><span style="color: var(--shiki-token-string-expression)">&#96;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span></code></pre>`,fo,Rs,bt="ğŸ§ª Are you able to export a variable before it is declared? Does the order matter?",mo,zs,xe,tn=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// a.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> a </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> &#123; a</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> b &#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> b </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// main.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; a</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> b &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;a = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> a);</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;b = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> b);</span></span></code></pre>`,wo,Vs,_t='ğŸ§ª imported variables is not a normal variable, it&#39;s a live binding of the exported variable. Are you able to make sure that the value of <code class="inline">count</code> is always up to date?',go,Ws,fe,nn=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// data.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> count </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">increment</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  count</span><span style="color: var(--shiki-token-keyword)">++</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// a.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; count</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> increment &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./data&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;count = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> count);</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">increment</span><span style="color: var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;count = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> count);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// b.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> &#123; count</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> increment &#125; </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./data&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;count = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> count);</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">increment</span><span style="color: var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;count = &#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> count);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// main.js</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./a&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./b&#39;</span><span style="color: var(--shiki-color-text)">;</span></span></code></pre>`,bo,Fs,Ct="ğŸ“ Be careful with circular dependency ğŸ™ˆ",me,E,Tt=`<h3><a href="#manipulating-ast" id="manipulating-ast">ğŸ”¨ Manipulating AST</a></h3> <p>ğŸ“–  <a href="/manipulating-ast-with-javascript/">manipulating ast with javascript</a> (generic)
ğŸ“–  <a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md" rel="nofollow">babel plugin handbook</a> (babel)</p>`;return{c(){v=e("section"),v.innerHTML=q,L=t(),T=e("section"),T.innerHTML=m,C=t(),M=e("section"),M.innerHTML=Co,Ks=t(),A=e("section"),A.innerHTML=To,Zs=t(),P=e("section"),P.innerHTML=Lo,Qs=t(),p=e("section"),B=e("h3"),B.innerHTML=Mo,we=t(),O=e("div"),Ys=new g(!1),ge=t(),D=e("p"),D.textContent=Ho,be=t(),N=e("ul"),N.innerHTML=jo,_e=t(),R=e("p"),R.textContent=Io,Ce=t(),z=e("p"),z.textContent=qo,Te=t(),V=e("p"),V.textContent=Ao,Le=t(),W=e("ul"),W.innerHTML=Po,Me=t(),F=e("p"),F.innerHTML=So,He=t(),J=e("p"),J.textContent=$o,je=t(),G=e("ul"),G.innerHTML=Eo,Ie=t(),K=e("div"),Xs=new g(!1),qe=t(),Z=e("p"),Z.textContent=Uo,Ae=t(),Q=e("ul"),Q.innerHTML=Bo,Pe=t(),Y=e("div"),se=new g(!1),Se=t(),X=e("p"),X.textContent=Oo,$e=t(),ss=e("ul"),ss.innerHTML=Do,ee=t(),y=e("section"),es=e("h3"),es.innerHTML=No,Ee=t(),os=e("p"),os.textContent=Ro,Ue=t(),ts=e("ul"),ts.innerHTML=zo,Be=t(),ns=e("div"),oe=new g(!1),Oe=t(),as=e("p"),as.innerHTML=Vo,De=t(),ls=e("p"),ls.textContent=Wo,Ne=t(),rs=e("p"),rs.textContent=Fo,Re=t(),is=e("ul"),is.innerHTML=Jo,ze=t(),ps=e("p"),ps.innerHTML=Go,Ve=t(),cs=e("p"),cs.textContent=Ko,We=t(),ks=e("ul"),ks.innerHTML=Zo,te=t(),S=e("section"),S.innerHTML=Qo,ne=t(),u=e("section"),hs=e("h3"),hs.innerHTML=Yo,Fe=t(),ys=e("p"),ys.innerHTML=Xo,Je=t(),vs=e("p"),vs.textContent=st,Ge=t(),us=e("p"),us.textContent=et,Ke=t(),ds=e("ul"),ds.innerHTML=ot,Ze=t(),xs=e("p"),xs.textContent=tt,Qe=t(),fs=e("ul"),fs.innerHTML=nt,Ye=t(),ms=e("p"),ms.textContent=at,Xe=t(),ws=e("div"),ae=new g(!1),so=t(),gs=e("p"),gs.textContent=lt,le=t(),w=e("section"),bs=e("h2"),bs.innerHTML=rt,eo=t(),_s=e("p"),_s.textContent=it,oo=t(),Cs=e("p"),Cs.textContent=pt,to=t(),Ts=e("p"),Ts.textContent=ct,no=t(),Ls=e("div"),re=new g(!1),ie=t(),H=e("section"),Ms=e("h3"),Ms.innerHTML=kt,ao=t(),Hs=e("ul"),Hs.innerHTML=ht,lo=t(),js=e("div"),pe=new g(!1),ce=t(),j=e("section"),Is=e("h4"),Is.innerHTML=yt,ro=t(),qs=e("ul"),qs.innerHTML=vt,io=t(),As=e("div"),ke=new g(!1),he=t(),$=e("section"),$.innerHTML=ut,ye=t(),c=e("section"),Ps=e("h3"),Ps.innerHTML=dt,po=t(),Ss=e("p"),Ss.innerHTML=xt,co=t(),$s=e("p"),$s.textContent=ft,ko=t(),Es=e("p"),Es.textContent=mt,ho=t(),Us=e("div"),ve=new g(!1),yo=t(),Bs=e("p"),Bs.textContent=wt,vo=t(),Os=e("div"),ue=new g(!1),uo=t(),Ds=e("p"),Ds.innerHTML=gt,xo=t(),Ns=e("div"),de=new g(!1),fo=t(),Rs=e("p"),Rs.textContent=bt,mo=t(),zs=e("div"),xe=new g(!1),wo=t(),Vs=e("p"),Vs.innerHTML=_t,go=t(),Ws=e("div"),fe=new g(!1),bo=t(),Fs=e("p"),Fs.textContent=Ct,me=t(),E=e("section"),E.innerHTML=Tt,this.h()},l(l){v=o(l,"SECTION",{"data-svelte-h":!0}),r(v)!=="svelte-1y2ijxh"&&(v.innerHTML=q),L=n(l),T=o(l,"SECTION",{"data-svelte-h":!0}),r(T)!=="svelte-1iztnqj"&&(T.innerHTML=m),C=n(l),M=o(l,"SECTION",{"data-svelte-h":!0}),r(M)!=="svelte-1xb9j6"&&(M.innerHTML=Co),Ks=n(l),A=o(l,"SECTION",{"data-svelte-h":!0}),r(A)!=="svelte-18h5tfg"&&(A.innerHTML=To),Zs=n(l),P=o(l,"SECTION",{"data-svelte-h":!0}),r(P)!=="svelte-k12gnv"&&(P.innerHTML=Lo),Qs=n(l),p=o(l,"SECTION",{});var a=f(p);B=o(a,"H3",{"data-svelte-h":!0}),r(B)!=="svelte-orljwy"&&(B.innerHTML=Mo),we=n(a),O=o(a,"DIV",{class:!0});var Lt=f(O);Ys=b(Lt,!1),Lt.forEach(i),ge=n(a),D=o(a,"P",{"data-svelte-h":!0}),r(D)!=="svelte-24r5bn"&&(D.textContent=Ho),be=n(a),N=o(a,"UL",{"data-svelte-h":!0}),r(N)!=="svelte-jb2plw"&&(N.innerHTML=jo),_e=n(a),R=o(a,"P",{"data-svelte-h":!0}),r(R)!=="svelte-13plyfb"&&(R.textContent=Io),Ce=n(a),z=o(a,"P",{"data-svelte-h":!0}),r(z)!=="svelte-gdoho2"&&(z.textContent=qo),Te=n(a),V=o(a,"P",{"data-svelte-h":!0}),r(V)!=="svelte-1hbp6zo"&&(V.textContent=Ao),Le=n(a),W=o(a,"UL",{"data-svelte-h":!0}),r(W)!=="svelte-12st5wb"&&(W.innerHTML=Po),Me=n(a),F=o(a,"P",{"data-svelte-h":!0}),r(F)!=="svelte-17ycil2"&&(F.innerHTML=So),He=n(a),J=o(a,"P",{"data-svelte-h":!0}),r(J)!=="svelte-kgoq8u"&&(J.textContent=$o),je=n(a),G=o(a,"UL",{"data-svelte-h":!0}),r(G)!=="svelte-xam3i9"&&(G.innerHTML=Eo),Ie=n(a),K=o(a,"DIV",{class:!0});var Mt=f(K);Xs=b(Mt,!1),Mt.forEach(i),qe=n(a),Z=o(a,"P",{"data-svelte-h":!0}),r(Z)!=="svelte-wvl8p9"&&(Z.textContent=Uo),Ae=n(a),Q=o(a,"UL",{"data-svelte-h":!0}),r(Q)!=="svelte-9wrlxn"&&(Q.innerHTML=Bo),Pe=n(a),Y=o(a,"DIV",{class:!0});var Ht=f(Y);se=b(Ht,!1),Ht.forEach(i),Se=n(a),X=o(a,"P",{"data-svelte-h":!0}),r(X)!=="svelte-1axjrb1"&&(X.textContent=Oo),$e=n(a),ss=o(a,"UL",{"data-svelte-h":!0}),r(ss)!=="svelte-1kbd85c"&&(ss.innerHTML=Do),a.forEach(i),ee=n(l),y=o(l,"SECTION",{});var d=f(y);es=o(d,"H3",{"data-svelte-h":!0}),r(es)!=="svelte-1obfp3m"&&(es.innerHTML=No),Ee=n(d),os=o(d,"P",{"data-svelte-h":!0}),r(os)!=="svelte-iusa2z"&&(os.textContent=Ro),Ue=n(d),ts=o(d,"UL",{"data-svelte-h":!0}),r(ts)!=="svelte-omeprh"&&(ts.innerHTML=zo),Be=n(d),ns=o(d,"DIV",{class:!0});var jt=f(ns);oe=b(jt,!1),jt.forEach(i),Oe=n(d),as=o(d,"P",{"data-svelte-h":!0}),r(as)!=="svelte-zqua8c"&&(as.innerHTML=Vo),De=n(d),ls=o(d,"P",{"data-svelte-h":!0}),r(ls)!=="svelte-k876ii"&&(ls.textContent=Wo),Ne=n(d),rs=o(d,"P",{"data-svelte-h":!0}),r(rs)!=="svelte-xl1d3p"&&(rs.textContent=Fo),Re=n(d),is=o(d,"UL",{"data-svelte-h":!0}),r(is)!=="svelte-1icko0"&&(is.innerHTML=Jo),ze=n(d),ps=o(d,"P",{"data-svelte-h":!0}),r(ps)!=="svelte-2feaz8"&&(ps.innerHTML=Go),Ve=n(d),cs=o(d,"P",{"data-svelte-h":!0}),r(cs)!=="svelte-61a5g2"&&(cs.textContent=Ko),We=n(d),ks=o(d,"UL",{"data-svelte-h":!0}),r(ks)!=="svelte-rcrtu"&&(ks.innerHTML=Zo),d.forEach(i),te=n(l),S=o(l,"SECTION",{"data-svelte-h":!0}),r(S)!=="svelte-9k1fqq"&&(S.innerHTML=Qo),ne=n(l),u=o(l,"SECTION",{});var x=f(u);hs=o(x,"H3",{"data-svelte-h":!0}),r(hs)!=="svelte-qak0i7"&&(hs.innerHTML=Yo),Fe=n(x),ys=o(x,"P",{"data-svelte-h":!0}),r(ys)!=="svelte-1k26v1r"&&(ys.innerHTML=Xo),Je=n(x),vs=o(x,"P",{"data-svelte-h":!0}),r(vs)!=="svelte-1xff8tt"&&(vs.textContent=st),Ge=n(x),us=o(x,"P",{"data-svelte-h":!0}),r(us)!=="svelte-1hft5ti"&&(us.textContent=et),Ke=n(x),ds=o(x,"UL",{"data-svelte-h":!0}),r(ds)!=="svelte-1nhrsgu"&&(ds.innerHTML=ot),Ze=n(x),xs=o(x,"P",{"data-svelte-h":!0}),r(xs)!=="svelte-1992s1j"&&(xs.textContent=tt),Qe=n(x),fs=o(x,"UL",{"data-svelte-h":!0}),r(fs)!=="svelte-1ciivve"&&(fs.innerHTML=nt),Ye=n(x),ms=o(x,"P",{"data-svelte-h":!0}),r(ms)!=="svelte-7adue7"&&(ms.textContent=at),Xe=n(x),ws=o(x,"DIV",{class:!0});var It=f(ws);ae=b(It,!1),It.forEach(i),so=n(x),gs=o(x,"P",{"data-svelte-h":!0}),r(gs)!=="svelte-1adwdog"&&(gs.textContent=lt),x.forEach(i),le=n(l),w=o(l,"SECTION",{});var I=f(w);bs=o(I,"H2",{"data-svelte-h":!0}),r(bs)!=="svelte-1mcav2y"&&(bs.innerHTML=rt),eo=n(I),_s=o(I,"P",{"data-svelte-h":!0}),r(_s)!=="svelte-1el5har"&&(_s.textContent=it),oo=n(I),Cs=o(I,"P",{"data-svelte-h":!0}),r(Cs)!=="svelte-1enh3n8"&&(Cs.textContent=pt),to=n(I),Ts=o(I,"P",{"data-svelte-h":!0}),r(Ts)!=="svelte-10n5j3c"&&(Ts.textContent=ct),no=n(I),Ls=o(I,"DIV",{class:!0});var qt=f(Ls);re=b(qt,!1),qt.forEach(i),I.forEach(i),ie=n(l),H=o(l,"SECTION",{});var Js=f(H);Ms=o(Js,"H3",{"data-svelte-h":!0}),r(Ms)!=="svelte-18gz78n"&&(Ms.innerHTML=kt),ao=n(Js),Hs=o(Js,"UL",{"data-svelte-h":!0}),r(Hs)!=="svelte-sxly62"&&(Hs.innerHTML=ht),lo=n(Js),js=o(Js,"DIV",{class:!0});var At=f(js);pe=b(At,!1),At.forEach(i),Js.forEach(i),ce=n(l),j=o(l,"SECTION",{});var Gs=f(j);Is=o(Gs,"H4",{"data-svelte-h":!0}),r(Is)!=="svelte-130rjz2"&&(Is.innerHTML=yt),ro=n(Gs),qs=o(Gs,"UL",{"data-svelte-h":!0}),r(qs)!=="svelte-fb3sov"&&(qs.innerHTML=vt),io=n(Gs),As=o(Gs,"DIV",{class:!0});var Pt=f(As);ke=b(Pt,!1),Pt.forEach(i),Gs.forEach(i),he=n(l),$=o(l,"SECTION",{"data-svelte-h":!0}),r($)!=="svelte-1eu9npg"&&($.innerHTML=ut),ye=n(l),c=o(l,"SECTION",{});var h=f(c);Ps=o(h,"H3",{"data-svelte-h":!0}),r(Ps)!=="svelte-1xhzvsj"&&(Ps.innerHTML=dt),po=n(h),Ss=o(h,"P",{"data-svelte-h":!0}),r(Ss)!=="svelte-1k26v1r"&&(Ss.innerHTML=xt),co=n(h),$s=o(h,"P",{"data-svelte-h":!0}),r($s)!=="svelte-1r5936y"&&($s.textContent=ft),ko=n(h),Es=o(h,"P",{"data-svelte-h":!0}),r(Es)!=="svelte-1ozkilx"&&(Es.textContent=mt),ho=n(h),Us=o(h,"DIV",{class:!0});var St=f(Us);ve=b(St,!1),St.forEach(i),yo=n(h),Bs=o(h,"P",{"data-svelte-h":!0}),r(Bs)!=="svelte-mjz5ya"&&(Bs.textContent=wt),vo=n(h),Os=o(h,"DIV",{class:!0});var $t=f(Os);ue=b($t,!1),$t.forEach(i),uo=n(h),Ds=o(h,"P",{"data-svelte-h":!0}),r(Ds)!=="svelte-qt7khj"&&(Ds.innerHTML=gt),xo=n(h),Ns=o(h,"DIV",{class:!0});var Et=f(Ns);de=b(Et,!1),Et.forEach(i),fo=n(h),Rs=o(h,"P",{"data-svelte-h":!0}),r(Rs)!=="svelte-1xmplxe"&&(Rs.textContent=bt),mo=n(h),zs=o(h,"DIV",{class:!0});var Ut=f(zs);xe=b(Ut,!1),Ut.forEach(i),wo=n(h),Vs=o(h,"P",{"data-svelte-h":!0}),r(Vs)!=="svelte-ooizl7"&&(Vs.innerHTML=_t),go=n(h),Ws=o(h,"DIV",{class:!0});var Bt=f(Ws);fe=b(Bt,!1),Bt.forEach(i),bo=n(h),Fs=o(h,"P",{"data-svelte-h":!0}),r(Fs)!=="svelte-1adwdog"&&(Fs.textContent=Ct),h.forEach(i),me=n(l),E=o(l,"SECTION",{"data-svelte-h":!0}),r(E)!=="svelte-ju0h7k"&&(E.innerHTML=Tt),this.h()},h(){Ys.a=null,_(O,"class","code-section"),Xs.a=null,_(K,"class","code-section"),se.a=null,_(Y,"class","code-section"),oe.a=null,_(ns,"class","code-section"),ae.a=null,_(ws,"class","code-section"),re.a=null,_(Ls,"class","code-section"),pe.a=null,_(js,"class","code-section"),ke.a=null,_(As,"class","code-section"),ve.a=null,_(Us,"class","code-section"),ue.a=null,_(Os,"class","code-section"),de.a=null,_(Ns,"class","code-section"),xe.a=null,_(zs,"class","code-section"),fe.a=null,_(Ws,"class","code-section")},m(l,a){k(l,v,a),k(l,L,a),k(l,T,a),k(l,C,a),k(l,M,a),k(l,Ks,a),k(l,A,a),k(l,Zs,a),k(l,P,a),k(l,Qs,a),k(l,p,a),s(p,B),s(p,we),s(p,O),Ys.m(Ft,O),s(p,ge),s(p,D),s(p,be),s(p,N),s(p,_e),s(p,R),s(p,Ce),s(p,z),s(p,Te),s(p,V),s(p,Le),s(p,W),s(p,Me),s(p,F),s(p,He),s(p,J),s(p,je),s(p,G),s(p,Ie),s(p,K),Xs.m(Jt,K),s(p,qe),s(p,Z),s(p,Ae),s(p,Q),s(p,Pe),s(p,Y),se.m(Gt,Y),s(p,Se),s(p,X),s(p,$e),s(p,ss),k(l,ee,a),k(l,y,a),s(y,es),s(y,Ee),s(y,os),s(y,Ue),s(y,ts),s(y,Be),s(y,ns),oe.m(Kt,ns),s(y,Oe),s(y,as),s(y,De),s(y,ls),s(y,Ne),s(y,rs),s(y,Re),s(y,is),s(y,ze),s(y,ps),s(y,Ve),s(y,cs),s(y,We),s(y,ks),k(l,te,a),k(l,S,a),k(l,ne,a),k(l,u,a),s(u,hs),s(u,Fe),s(u,ys),s(u,Je),s(u,vs),s(u,Ge),s(u,us),s(u,Ke),s(u,ds),s(u,Ze),s(u,xs),s(u,Qe),s(u,fs),s(u,Ye),s(u,ms),s(u,Xe),s(u,ws),ae.m(Zt,ws),s(u,so),s(u,gs),k(l,le,a),k(l,w,a),s(w,bs),s(w,eo),s(w,_s),s(w,oo),s(w,Cs),s(w,to),s(w,Ts),s(w,no),s(w,Ls),re.m(Qt,Ls),k(l,ie,a),k(l,H,a),s(H,Ms),s(H,ao),s(H,Hs),s(H,lo),s(H,js),pe.m(Yt,js),k(l,ce,a),k(l,j,a),s(j,Is),s(j,ro),s(j,qs),s(j,io),s(j,As),ke.m(Xt,As),k(l,he,a),k(l,$,a),k(l,ye,a),k(l,c,a),s(c,Ps),s(c,po),s(c,Ss),s(c,co),s(c,$s),s(c,ko),s(c,Es),s(c,ho),s(c,Us),ve.m(sn,Us),s(c,yo),s(c,Bs),s(c,vo),s(c,Os),ue.m(en,Os),s(c,uo),s(c,Ds),s(c,xo),s(c,Ns),de.m(on,Ns),s(c,fo),s(c,Rs),s(c,mo),s(c,zs),xe.m(tn,zs),s(c,wo),s(c,Vs),s(c,go),s(c,Ws),fe.m(nn,Ws),s(c,bo),s(c,Fs),k(l,me,a),k(l,E,a)},p:rn,d(l){l&&(i(v),i(L),i(T),i(C),i(M),i(Ks),i(A),i(Zs),i(P),i(Qs),i(p),i(ee),i(y),i(te),i(S),i(ne),i(u),i(le),i(w),i(ie),i(H),i(ce),i(j),i(he),i($),i(ye),i(c),i(me),i(E))}}}function Pn(U){let v,q;const L=[U[0],Wt];let T={$$slots:{default:[An]},$$scope:{ctx:U}};for(let m=0;m<L.length;m+=1)T=_o(T,L[m]);return v=new fn({props:T}),{c(){kn(v.$$.fragment)},l(m){hn(v.$$.fragment,m)},m(m,C){yn(v,m,C),q=!0},p(m,[C]){const M=C&1?xn(L,[C&1&&Dt(m[0]),C&0&&Dt(Wt)]):{};C&2&&(M.$$scope={dirty:C,ctx:m}),v.$set(M)},i(m){q||(vn(v.$$.fragment,m),q=!0)},o(m){un(v.$$.fragment,m),q=!1},d(m){dn(v,m)}}}const Wt={title:"Building a simplified webpack clone",date:"2020-10-02T08:00:00Z",tags:["JavaScript","webpack"],label:"blog",description:'BackgroundWe are trying out a new form of our weekly sharing, which is interest group-based.I am hosting the "Building a simplified webpack clone" interest group, which lasted 8 weeks, and every week, we will cover 1 concept of webpack and an assignment to implement that concept ourselves....',tableOfContents:[{link:"background",title:"Background"},{link:"prior-art",title:"Prior Art"},{link:"week-1-resolving",title:"Week 1 - Resolving",nested:[{link:"why-module-bundler",title:"Why module bundler?"},{link:"1-we-start-from-an-entry-file",title:"1. We start from an entry file."},{link:"2-we-read-the-file-and-determine-what-is-being-imported-into-this-file",title:"2. We read the file and determine what is being imported into this file"},{link:"3-now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path",title:"3. Now knowing what are the names you are importing from, you need to figure out their actual file path"},{link:"4-after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-2-until-no-more-new-files-to-be-found",title:"4ï¸âƒ£ After you figured the file path you're importing from, for each of the file, ğŸ” repeat step 2ï¸âƒ£ until no more new files to be found."},{link:"assignment",title:"Assignment"}]},{link:"week-2-bundling",title:"Week 2 - Bundling",nested:[{link:"observation-bundle-using-webpack",title:"ğŸ”­ Observation: Bundle using webpack",nested:[{link:"observation-bundle-using-rollup",title:"ğŸ”­ Observation: Bundle using rollup"}]},{link:"output-target-of-bundling",title:"ğŸ“¤ Output target of bundling"},{link:"assignment-1",title:"Assignment"},{link:"manipulating-ast",title:"ğŸ”¨ Manipulating AST"}]}]};function Sn(U,v,q){return ln("blog",{image:mn}),U.$$set=L=>{q(0,v=_o(_o({},v),Ot(L)))},v=Ot(v),[v]}class Dn extends pn{constructor(v){super(),cn(this,v,Sn,Pn,an,{})}}export{Dn as component};
