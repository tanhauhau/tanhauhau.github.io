import{s as W,d as v,e as F,f as C,n as I}from"../chunks/scheduler.D6VJxl8L.js";import{S as E,i as P,m as j,n as O,o as A,t as G,a as J,p as N,e as h,s as g,c as w,q as f,h as b,j as a,g as n}from"../chunks/index.CLAVN-Y5.js";import{g as Y,a as S}from"../chunks/code-snippet.Gym6WUAG.js";import{B as K}from"../chunks/BlogLayout.BPekX0dI.js";import{t as Q}from"../chunks/twitter-card-image.C3bQ3Oc7.js";const V=""+new URL("../assets/safari-console-context.CseH_NxJ.webp",import.meta.url).href,Z=""+new URL("../assets/safari-console-context.BElKJ1md.webp",import.meta.url).href,X=""+new URL("../assets/safari-console-context.BTAQvQVq.png",import.meta.url).href,T=""+new URL("../assets/safari-console-context.D1DwfDqO.png",import.meta.url).href,ee=""+new URL("../assets/firefox-shared-worker.BGdxvB-1.webp",import.meta.url).href,te=""+new URL("../assets/firefox-shared-worker.B4eZCEOe.webp",import.meta.url).href,oe=""+new URL("../assets/firefox-shared-worker.CMyTU-wj.png",import.meta.url).href,B=""+new URL("../assets/firefox-shared-worker.ze9um9vD.png",import.meta.url).href,se=""+new URL("../assets/chrome-shared-worker.DGeoBjqe.webp",import.meta.url).href,re=""+new URL("../assets/chrome-shared-worker.DKWE8e92.webp",import.meta.url).href,ie=""+new URL("../assets/chrome-shared-worker.XRukD0hm.png",import.meta.url).href,q=""+new URL("../assets/chrome-shared-worker.DApodbGd.png",import.meta.url).href,ae=""+new URL("../assets/chrome-worker-context.B4Wr_vao.webp",import.meta.url).href,ne=""+new URL("../assets/chrome-worker-context.Dyx9ktMZ.webp",import.meta.url).href,le=""+new URL("../assets/chrome-worker-context.B8q1am8h.png",import.meta.url).href,D=""+new URL("../assets/chrome-worker-context.DoM9h2VQ.png",import.meta.url).href,pe=""+new URL("../assets/chrome-console-context.BLvzm15a.webp",import.meta.url).href,ce=""+new URL("../assets/chrome-console-context.CuJI9iG8.webp",import.meta.url).href,_e=""+new URL("../assets/chrome-console-context.DbN9sRTf.png",import.meta.url).href,M=""+new URL("../assets/chrome-console-context.BigqC9dx.png",import.meta.url).href,me=""+new URL("../assets/chrome-console.BoKHm0nh.webp",import.meta.url).href,ue=""+new URL("../assets/chrome-console.DY2VfBjh.webp",import.meta.url).href,de=""+new URL("../assets/chrome-console.Cy2u7eMP.png",import.meta.url).href,H=""+new URL("../assets/chrome-console.B-nmksE2.png",import.meta.url).href;function he(d){let t,c='<a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker" rel="nofollow">Web Workers API</a> allows you to start a separate worker thread and receives and execute tasks off the main thread.',l,r,o="Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?",s,p,$="Here's how you would do it for various major browsers:",x,_,L=`<h2><a href="#chrome" id="chrome">Chrome</a></h2> <p>If you are debugging service worker or worker, you can head down to the console. There&#39;s a dropdown menu, if you haven&#39;t noticed previously, that says &quot;JavaScript context&quot;.</p> <p><span style="display: block; position: relative; padding-top: 46.033%; width: 100%;"><picture><source type="image/webp" srcset="${ue}, ${me} 2x"/><img src="${H}" srcset="${H}, ${de} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome console"/></picture></span></p> <p><span style="display: block; position: relative; padding-top: 36.313%; width: 100%;"><picture><source type="image/webp" srcset="${ce}, ${pe} 2x"/><img src="${M}" srcset="${M}, ${_e} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome console context"/></picture></span></p> <p>For worker context, you would see a cog logo beside the name.</p> <p>After you choose the worker context, you can type <code class="inline">self</code> into the console, and you should see <code class="inline">self</code> is an instance of <code class="inline">DedicatedWorkerGlobalScope</code> instead of <code class="inline">window</code>.</p> <p><span style="display: block; position: relative; padding-top: 33.981%; width: 100%;"><picture><source type="image/webp" srcset="${ne}, ${ae} 2x"/><img src="${D}" srcset="${D}, ${le} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome worker context"/></picture></span></p> <p>For shared worker, you would need to go to <a href="chrome://inspect/#workers">chrome://inspect/#workers</a>. Select &quot;Shared workers&quot; on the left panel.</p> <p><span style="display: block; position: relative; padding-top: 79.926%; width: 100%;"><picture><source type="image/webp" srcset="${re}, ${se} 2x"/><img src="${q}" srcset="${q}, ${ie} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="chrome shared worker"/></picture></span></p> <p>You would be able to see a list of shared workers if you have any running.</p> <p>You can click &quot;inspect&quot;, which will open a new console for you to debug.</p>`,y,m,R=`<h2><a href="#firefox" id="firefox">Firefox</a></h2> <p>For Firefox, you could go to <a href="about:debugging#workers">about:debugging#workers</a>. You will be able to see a list of service workers, and shared workers registered to the browser.</p> <p><span style="display: block; position: relative; padding-top: 79.451%; width: 100%;"><picture><source type="image/webp" srcset="${te}, ${ee} 2x"/><img src="${B}" srcset="${B}, ${oe} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="firefox shared worker"/></picture></span></p>`,k,u,U=`<h2><a href="#safari" id="safari">Safari</a></h2> <p>For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console.</p> <p><span style="display: block; position: relative; padding-top: 83.396%; width: 100%;"><picture><source type="image/webp" srcset="${Z}, ${V} 2x"/><img src="${T}" srcset="${T}, ${X} 2x" loading="lazy" style="position: absolute; top: 0; width: 100%; height: 100%" alt="safari console context"/></picture></span></p>`;return{c(){t=h("p"),t.innerHTML=c,l=g(),r=h("p"),r.textContent=o,s=g(),p=h("p"),p.textContent=$,x=g(),_=h("section"),_.innerHTML=L,y=g(),m=h("section"),m.innerHTML=R,k=g(),u=h("section"),u.innerHTML=U},l(e){t=w(e,"P",{"data-svelte-h":!0}),f(t)!=="svelte-1w97m4p"&&(t.innerHTML=c),l=b(e),r=w(e,"P",{"data-svelte-h":!0}),f(r)!=="svelte-1smsley"&&(r.textContent=o),s=b(e),p=w(e,"P",{"data-svelte-h":!0}),f(p)!=="svelte-rset7w"&&(p.textContent=$),x=b(e),_=w(e,"SECTION",{"data-svelte-h":!0}),f(_)!=="svelte-hc3txf"&&(_.innerHTML=L),y=b(e),m=w(e,"SECTION",{"data-svelte-h":!0}),f(m)!=="svelte-11hb1pt"&&(m.innerHTML=R),k=b(e),u=w(e,"SECTION",{"data-svelte-h":!0}),f(u)!=="svelte-1ercpmq"&&(u.innerHTML=U)},m(e,i){a(e,t,i),a(e,l,i),a(e,r,i),a(e,s,i),a(e,p,i),a(e,x,i),a(e,_,i),a(e,y,i),a(e,m,i),a(e,k,i),a(e,u,i)},p:I,d(e){e&&(n(t),n(l),n(r),n(s),n(p),n(x),n(_),n(y),n(m),n(k),n(u))}}}function we(d){let t,c;const l=[d[0],z];let r={$$slots:{default:[he]},$$scope:{ctx:d}};for(let o=0;o<l.length;o+=1)r=v(r,l[o]);return t=new K({props:r}),{c(){j(t.$$.fragment)},l(o){O(t.$$.fragment,o)},m(o,s){A(t,o,s),c=!0},p(o,[s]){const p=s&1?Y(l,[s&1&&S(o[0]),s&0&&S(z)]):{};s&2&&(p.$$scope={dirty:s,ctx:o}),t.$set(p)},i(o){c||(G(t.$$.fragment,o),c=!0)},o(o){J(t.$$.fragment,o),c=!1},d(o){N(t,o)}}}const z={title:"Debugging Web Workers",date:"2019-05-22T08:00:00Z",description:"...for Chrome, Firefox and Safari",label:"blog",tableOfContents:[{link:"chrome",title:"Chrome"},{link:"firefox",title:"Firefox"},{link:"safari",title:"Safari"}]};function fe(d,t,c){return F("blog",{image:Q}),d.$$set=l=>{c(0,t=v(v({},t),C(l)))},t=C(t),[t]}class ve extends E{constructor(t){super(),P(this,t,fe,we,W,{})}}export{ve as component};
