import{s as v,d as f,e as b,f as h,n as $}from"../chunks/scheduler.D6VJxl8L.js";import{S as C,i as L,m as M,n as S,o as T,t as w,a as k,p as H,e as u,s as x,c as _,q as p,h as j,j as m,g as r}from"../chunks/index.CLAVN-Y5.js";import{g as P,a as q}from"../chunks/code-snippet.Gym6WUAG.js";import{B}from"../chunks/BlogLayout.BTH3PMCG.js";import{t as E}from"../chunks/twitter-card-image.C3bQ3Oc7.js";function J(c){let e,i='To enable es module system in nodejs, it&#39;s not as simple as enabling the <code class="inline">--experimental-modules</code> flag.',l,n,t="You need:",s,a,g='<li><strong>use <code class="inline">.mjs</code> file format to hint as a es module</strong> or <strong>at the nearest <code class="inline">package.json</code>, specify <code class="inline">&quot;type&quot;: &quot;module&quot;</code></strong></li> <li>use <code class="inline">import</code> statement to &quot;require&quot; the module file -&gt; meaning your main file also need to be a <code class="inline">.mjs</code> file.</li> <li>to replace all &quot;require&quot; and &quot;module.exports&quot; in <code class="inline">.mjs</code> file to <code class="inline">import</code>.<ul><li>as an escape hatch, you can use <a href="https://nodejs.org/api/modules.html#modules_module_createrequire_filename" rel="nofollow"><code class="inline">module.createRequire</code></a></li> <li>see <a href="https://nodejs.org/api/esm.html#esm_no_code_require_code_code_exports_code_code_module_exports_code_code_filename_code_code_dirname_code" rel="nofollow">https://nodejs.org/api/esm.html#esm_no_code_require_code_code_exports_code_code_module_exports_code_code_filename_code_code_dirname_code</a></li></ul></li> <li>es modules import file must specify extension, <code class="inline">.mjs</code> (es modules), <code class="inline">.cjs</code> (commonjs) or <code class="inline">.js</code> (depends on nearest <code class="inline">package.json#type</code>).</li> <li>for commonjs to import es modules, the only way is to use dynamic import <code class="inline">import()</code>.</li>';return{c(){e=u("p"),e.innerHTML=i,l=x(),n=u("p"),n.textContent=t,s=x(),a=u("ul"),a.innerHTML=g},l(o){e=_(o,"P",{"data-svelte-h":!0}),p(e)!=="svelte-12v48b7"&&(e.innerHTML=i),l=j(o),n=_(o,"P",{"data-svelte-h":!0}),p(n)!=="svelte-fpocgd"&&(n.textContent=t),s=j(o),a=_(o,"UL",{"data-svelte-h":!0}),p(a)!=="svelte-uk00bv"&&(a.innerHTML=g)},m(o,d){m(o,e,d),m(o,l,d),m(o,n,d),m(o,s,d),m(o,a,d)},p:$,d(o){o&&(r(e),r(l),r(n),r(s),r(a))}}}function N(c){let e,i;const l=[c[0],y];let n={$$slots:{default:[J]},$$scope:{ctx:c}};for(let t=0;t<l.length;t+=1)n=f(n,l[t]);return e=new B({props:n}),{c(){M(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){T(e,t,s),i=!0},p(t,[s]){const a=s&1?P(l,[s&1&&q(t[0]),s&0&&q(y)]):{};s&2&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){i||(w(e.$$.fragment,t),i=!0)},o(t){k(e.$$.fragment,t),i=!1},d(t){H(e,t)}}}const y={title:"ESM in NodeJS",tags:["NodeJS","ESM"],description:'To enable es module system in nodejs, it\'s not as simple as enabling the `--experimental-modules` flag.You need:use `.mjs` file format to hint as a es module or at the nearest `package.json`, specify `"type": "module"`...'};function Y(c,e,i){return b("blog",{image:E}),c.$$set=l=>{i(0,e=f(f({},e),h(l)))},e=h(e),[e]}class D extends C{constructor(e){super(),L(this,e,Y,N,v,{})}}export{D as component};
