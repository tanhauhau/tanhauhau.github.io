import"../chunks/Bzak7iHL.js";import"../chunks/kfVmCPsV.js";import{p as n,g as a,d,b as c,a as m,n as r}from"../chunks/C2PHntuy.js";import{i as p}from"../chunks/BQOOHHT8.js";import{l as _,s as u}from"../chunks/gzNpScmH.js";import{B as f}from"../chunks/B1caYEk9.js";import{t as g}from"../chunks/C3bQ3Oc7.js";const o={title:"ESM in NodeJS",tags:["NodeJS","ESM"],description:'To enable es module system in nodejs, it\'s not as simple as enabling the `--experimental-modules` flag.You need:use `.mjs` file format to hint as a es module or at the nearest `package.json`, specify `"type": "module"`...'},{title:k,tags:v,description:B}=o;var h=c(`<p>To enable es module system in nodejs, it's not as simple as enabling the <code class="inline">--experimental-modules</code> flag.</p> <p>You need:</p> <ul><li><strong>use <code class="inline">.mjs</code> file format to hint as a es module</strong> or <strong>at the nearest <code class="inline">package.json</code>, specify <code class="inline">"type": "module"</code></strong></li> <li>use <code class="inline">import</code> statement to "require" the module file -> meaning your main file also need to be a <code class="inline">.mjs</code> file.</li> <li>to replace all "require" and "module.exports" in <code class="inline">.mjs</code> file to <code class="inline">import</code>. <ul><li>as an escape hatch, you can use <a href="https://nodejs.org/api/modules.html#modules_module_createrequire_filename" rel="nofollow"><code class="inline">module.createRequire</code></a></li> <li>see <a href="https://nodejs.org/api/esm.html#esm_no_code_require_code_code_exports_code_code_module_exports_code_code_filename_code_code_dirname_code" rel="nofollow">https://nodejs.org/api/esm.html#esm_no_code_require_code_code_exports_code_code_module_exports_code_code_filename_code_code_dirname_code</a></li></ul></li> <li>es modules import file must specify extension, <code class="inline">.mjs</code> (es modules), <code class="inline">.cjs</code> (commonjs) or <code class="inline">.js</code> (depends on nearest <code class="inline">package.json#type</code>).</li> <li>for commonjs to import es modules, the only way is to use dynamic import <code class="inline">import()</code>.</li></ul>`,1);function E(s,e){const i=_(e,["children","$$slots","$$events","$$legacy"]);n(e,!1),a("blog",{image:g}),p(),f(s,u(()=>i,()=>o,{children:(l,j)=>{var t=h();r(4),m(l,t)},$$slots:{default:!0}})),d()}export{E as component};
