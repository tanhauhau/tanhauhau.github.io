import{S as bo,i as go,s as vo,C as kt,w as yo,x as xo,y as ko,z as Eo,A as co,q as So,o as Po,B as Co,r as Io,Y as no,e as t,t as c,k as h,c as o,a as l,h as n,d as r,m as f,b as a,X as le,f as s,g as P,H as e,J as Ao}from"../../chunks/vendor-da4388d4.js";import{B as Fo}from"../../chunks/BlogLayout-14cfab6f.js";import{_ as Oo}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-1fad7c36.js";import"../../chunks/ldjson-b0805387.js";/* empty css                                */var Uo="https://lihautan.com/_app/assets/safari-console-context-ddba86ad.webp",Ro="https://lihautan.com/_app/assets/safari-console-context-42ce6da1.webp",To="https://lihautan.com/_app/assets/safari-console-context-d57d8af0.png",po="https://lihautan.com/_app/assets/safari-console-context-8909ad46.png",Wo="https://lihautan.com/_app/assets/firefox-shared-worker-a6706529.webp",No="https://lihautan.com/_app/assets/firefox-shared-worker-cee5b6a0.webp",$o="https://lihautan.com/_app/assets/firefox-shared-worker-31ba248d.png",_o="https://lihautan.com/_app/assets/firefox-shared-worker-0b7fd443.png",zo="https://lihautan.com/_app/assets/chrome-shared-worker-e8ee7320.webp",Do="https://lihautan.com/_app/assets/chrome-shared-worker-b25591fe.webp",Go="https://lihautan.com/_app/assets/chrome-shared-worker-35b32fa4.png",uo="https://lihautan.com/_app/assets/chrome-shared-worker-6aa863de.png",Yo="https://lihautan.com/_app/assets/chrome-worker-context-29a132bc.webp",Ho="https://lihautan.com/_app/assets/chrome-worker-context-9e48eebb.webp",Mo="https://lihautan.com/_app/assets/chrome-worker-context-f6ab9fd1.png",ho="https://lihautan.com/_app/assets/chrome-worker-context-9af5924c.png",Jo="https://lihautan.com/_app/assets/chrome-console-context-b40a1c4c.webp",jo="https://lihautan.com/_app/assets/chrome-console-context-ce111b78.webp",qo="https://lihautan.com/_app/assets/chrome-console-context-3e43ff20.png",fo="https://lihautan.com/_app/assets/chrome-console-context-453338cb.png",Bo="https://lihautan.com/_app/assets/chrome-console-2f355457.webp",Lo="https://lihautan.com/_app/assets/chrome-console-bf4aa172.webp",Xo="https://lihautan.com/_app/assets/chrome-console-6a79fdcf.png",mo="https://lihautan.com/_app/assets/chrome-console-a6389f70.png";function Zo(M){let _,w,F,$,d,b,J,Ce,j,Re,Ie,p,ie,z,Te,We,ce,Ne,$e,ne,O,q,pe,v,Et,ze,_e,U,B,ue,y,St,De,de,Ge,Ye,g,He,L,Me,Je,X,je,qe,Z,Be,Le,K,Xe,Ze,Ke,he,R,Q,fe,x,Pt,Qe,D,Ve,V,et,tt,ot,me,T,ee,we,k,Ct,rt,be,at,st,ge,lt,Ae,C,ve,G,it,ct,Y,nt,te,pt,_t,ut,ye,W,oe,xe,E,It,Fe,I,ke,H,dt,ht,Ee,ft,mt,Se,N,re,Pe,S,At;return{c(){_=t("p"),w=t("a"),F=c("Web Workers API"),$=c(" allows you to start a separate worker thread and receives and execute tasks off the main thread."),d=h(),b=t("p"),J=c("Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Ce=h(),j=t("p"),Re=c("Here's how you would do it for various major browsers:"),Ie=h(),p=t("section"),ie=t("h2"),z=t("a"),Te=c("Chrome"),We=h(),ce=t("p"),Ne=c(`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),$e=h(),ne=t("p"),O=t("span"),q=t("picture"),pe=t("source"),v=t("img"),ze=h(),_e=t("p"),U=t("span"),B=t("picture"),ue=t("source"),y=t("img"),De=h(),de=t("p"),Ge=c("For worker context, you would see a cog logo beside the name."),Ye=h(),g=t("p"),He=c("After you choose the worker context, you can type "),L=t("code"),Me=c("self"),Je=c(" into the console, and you should see "),X=t("code"),je=c("self"),qe=c(" is an instance of "),Z=t("code"),Be=c("DedicatedWorkerGlobalScope"),Le=c(" instead of "),K=t("code"),Xe=c("window"),Ze=c("."),Ke=h(),he=t("p"),R=t("span"),Q=t("picture"),fe=t("source"),x=t("img"),Qe=h(),D=t("p"),Ve=c("For shared worker, you would need to go to "),V=t("a"),et=c("chrome://inspect/#workers"),tt=c('. Select "Shared workers" on the left panel.'),ot=h(),me=t("p"),T=t("span"),ee=t("picture"),we=t("source"),k=t("img"),rt=h(),be=t("p"),at=c("You would be able to see a list of shared workers if you have any running."),st=h(),ge=t("p"),lt=c('You can click "inspect", which will open a new console for you to debug.'),Ae=h(),C=t("section"),ve=t("h2"),G=t("a"),it=c("Firefox"),ct=h(),Y=t("p"),nt=c("For Firefox, you could go to "),te=t("a"),pt=c("about:debugging#workers"),_t=c(". You will be able to see a list of service workers, and shared workers registered to the browser."),ut=h(),ye=t("p"),W=t("span"),oe=t("picture"),xe=t("source"),E=t("img"),Fe=h(),I=t("section"),ke=t("h2"),H=t("a"),dt=c("Safari"),ht=h(),Ee=t("p"),ft=c("For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),mt=h(),Se=t("p"),N=t("span"),re=t("picture"),Pe=t("source"),S=t("img"),this.h()},l(i){_=o(i,"P",{});var m=l(_);w=o(m,"A",{href:!0,rel:!0});var Ft=l(w);F=n(Ft,"Web Workers API"),Ft.forEach(r),$=n(m," allows you to start a separate worker thread and receives and execute tasks off the main thread."),m.forEach(r),d=f(i),b=o(i,"P",{});var Ot=l(b);J=n(Ot,"Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Ot.forEach(r),Ce=f(i),j=o(i,"P",{});var Ut=l(j);Re=n(Ut,"Here's how you would do it for various major browsers:"),Ut.forEach(r),Ie=f(i),p=o(i,"SECTION",{});var u=l(p);ie=o(u,"H2",{});var Rt=l(ie);z=o(Rt,"A",{href:!0,id:!0});var Tt=l(z);Te=n(Tt,"Chrome"),Tt.forEach(r),Rt.forEach(r),We=f(u),ce=o(u,"P",{});var Wt=l(ce);Ne=n(Wt,`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),Wt.forEach(r),$e=f(u),ne=o(u,"P",{});var Nt=l(ne);O=o(Nt,"SPAN",{style:!0});var $t=l(O);q=o($t,"PICTURE",{});var wt=l(q);pe=o(wt,"SOURCE",{type:!0,srcset:!0}),v=o(wt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),wt.forEach(r),$t.forEach(r),Nt.forEach(r),ze=f(u),_e=o(u,"P",{});var zt=l(_e);U=o(zt,"SPAN",{style:!0});var Dt=l(U);B=o(Dt,"PICTURE",{});var bt=l(B);ue=o(bt,"SOURCE",{type:!0,srcset:!0}),y=o(bt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),bt.forEach(r),Dt.forEach(r),zt.forEach(r),De=f(u),de=o(u,"P",{});var Gt=l(de);Ge=n(Gt,"For worker context, you would see a cog logo beside the name."),Gt.forEach(r),Ye=f(u),g=o(u,"P",{});var A=l(g);He=n(A,"After you choose the worker context, you can type "),L=o(A,"CODE",{class:!0});var Yt=l(L);Me=n(Yt,"self"),Yt.forEach(r),Je=n(A," into the console, and you should see "),X=o(A,"CODE",{class:!0});var Ht=l(X);je=n(Ht,"self"),Ht.forEach(r),qe=n(A," is an instance of "),Z=o(A,"CODE",{class:!0});var Mt=l(Z);Be=n(Mt,"DedicatedWorkerGlobalScope"),Mt.forEach(r),Le=n(A," instead of "),K=o(A,"CODE",{class:!0});var Jt=l(K);Xe=n(Jt,"window"),Jt.forEach(r),Ze=n(A,"."),A.forEach(r),Ke=f(u),he=o(u,"P",{});var jt=l(he);R=o(jt,"SPAN",{style:!0});var qt=l(R);Q=o(qt,"PICTURE",{});var gt=l(Q);fe=o(gt,"SOURCE",{type:!0,srcset:!0}),x=o(gt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),gt.forEach(r),qt.forEach(r),jt.forEach(r),Qe=f(u),D=o(u,"P",{});var Oe=l(D);Ve=n(Oe,"For shared worker, you would need to go to "),V=o(Oe,"A",{href:!0});var Bt=l(V);et=n(Bt,"chrome://inspect/#workers"),Bt.forEach(r),tt=n(Oe,'. Select "Shared workers" on the left panel.'),Oe.forEach(r),ot=f(u),me=o(u,"P",{});var Lt=l(me);T=o(Lt,"SPAN",{style:!0});var Xt=l(T);ee=o(Xt,"PICTURE",{});var vt=l(ee);we=o(vt,"SOURCE",{type:!0,srcset:!0}),k=o(vt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),vt.forEach(r),Xt.forEach(r),Lt.forEach(r),rt=f(u),be=o(u,"P",{});var Zt=l(be);at=n(Zt,"You would be able to see a list of shared workers if you have any running."),Zt.forEach(r),st=f(u),ge=o(u,"P",{});var Kt=l(ge);lt=n(Kt,'You can click "inspect", which will open a new console for you to debug.'),Kt.forEach(r),u.forEach(r),Ae=f(i),C=o(i,"SECTION",{});var ae=l(C);ve=o(ae,"H2",{});var Qt=l(ve);G=o(Qt,"A",{href:!0,id:!0});var Vt=l(G);it=n(Vt,"Firefox"),Vt.forEach(r),Qt.forEach(r),ct=f(ae),Y=o(ae,"P",{});var Ue=l(Y);nt=n(Ue,"For Firefox, you could go to "),te=o(Ue,"A",{href:!0});var eo=l(te);pt=n(eo,"about:debugging#workers"),eo.forEach(r),_t=n(Ue,". You will be able to see a list of service workers, and shared workers registered to the browser."),Ue.forEach(r),ut=f(ae),ye=o(ae,"P",{});var to=l(ye);W=o(to,"SPAN",{style:!0});var oo=l(W);oe=o(oo,"PICTURE",{});var yt=l(oe);xe=o(yt,"SOURCE",{type:!0,srcset:!0}),E=o(yt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),yt.forEach(r),oo.forEach(r),to.forEach(r),ae.forEach(r),Fe=f(i),I=o(i,"SECTION",{});var se=l(I);ke=o(se,"H2",{});var ro=l(ke);H=o(ro,"A",{href:!0,id:!0});var ao=l(H);dt=n(ao,"Safari"),ao.forEach(r),ro.forEach(r),ht=f(se),Ee=o(se,"P",{});var so=l(Ee);ft=n(so,"For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),so.forEach(r),mt=f(se),Se=o(se,"P",{});var lo=l(Se);N=o(lo,"SPAN",{style:!0});var io=l(N);re=o(io,"PICTURE",{});var xt=l(re);Pe=o(xt,"SOURCE",{type:!0,srcset:!0}),S=o(xt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),xt.forEach(r),io.forEach(r),lo.forEach(r),se.forEach(r),this.h()},h(){a(w,"href","https://developer.mozilla.org/en-US/docs/Web/API/Worker"),a(w,"rel","nofollow"),a(z,"href","#chrome"),a(z,"id","chrome"),a(pe,"type","image/webp"),a(pe,"srcset",Lo+", "+Bo+" 2x"),le(v.src,Et=mo)||a(v,"src",Et),a(v,"srcset",mo+", "+Xo+" 2x"),a(v,"loading","lazy"),s(v,"position","absolute"),s(v,"top","0"),s(v,"width","100%"),s(v,"height","100%"),a(v,"alt","chrome console"),s(O,"display","block"),s(O,"position","relative"),s(O,"padding-top","46.033%"),s(O,"width","100%"),a(ue,"type","image/webp"),a(ue,"srcset",jo+", "+Jo+" 2x"),le(y.src,St=fo)||a(y,"src",St),a(y,"srcset",fo+", "+qo+" 2x"),a(y,"loading","lazy"),s(y,"position","absolute"),s(y,"top","0"),s(y,"width","100%"),s(y,"height","100%"),a(y,"alt","chrome console context"),s(U,"display","block"),s(U,"position","relative"),s(U,"padding-top","36.313%"),s(U,"width","100%"),a(L,"class","inline"),a(X,"class","inline"),a(Z,"class","inline"),a(K,"class","inline"),a(fe,"type","image/webp"),a(fe,"srcset",Ho+", "+Yo+" 2x"),le(x.src,Pt=ho)||a(x,"src",Pt),a(x,"srcset",ho+", "+Mo+" 2x"),a(x,"loading","lazy"),s(x,"position","absolute"),s(x,"top","0"),s(x,"width","100%"),s(x,"height","100%"),a(x,"alt","chrome worker context"),s(R,"display","block"),s(R,"position","relative"),s(R,"padding-top","33.981%"),s(R,"width","100%"),a(V,"href","chrome://inspect/#workers"),a(we,"type","image/webp"),a(we,"srcset",Do+", "+zo+" 2x"),le(k.src,Ct=uo)||a(k,"src",Ct),a(k,"srcset",uo+", "+Go+" 2x"),a(k,"loading","lazy"),s(k,"position","absolute"),s(k,"top","0"),s(k,"width","100%"),s(k,"height","100%"),a(k,"alt","chrome shared worker"),s(T,"display","block"),s(T,"position","relative"),s(T,"padding-top","79.926%"),s(T,"width","100%"),a(G,"href","#firefox"),a(G,"id","firefox"),a(te,"href","about:debugging#workers"),a(xe,"type","image/webp"),a(xe,"srcset",No+", "+Wo+" 2x"),le(E.src,It=_o)||a(E,"src",It),a(E,"srcset",_o+", "+$o+" 2x"),a(E,"loading","lazy"),s(E,"position","absolute"),s(E,"top","0"),s(E,"width","100%"),s(E,"height","100%"),a(E,"alt","firefox shared worker"),s(W,"display","block"),s(W,"position","relative"),s(W,"padding-top","79.451%"),s(W,"width","100%"),a(H,"href","#safari"),a(H,"id","safari"),a(Pe,"type","image/webp"),a(Pe,"srcset",Ro+", "+Uo+" 2x"),le(S.src,At=po)||a(S,"src",At),a(S,"srcset",po+", "+To+" 2x"),a(S,"loading","lazy"),s(S,"position","absolute"),s(S,"top","0"),s(S,"width","100%"),s(S,"height","100%"),a(S,"alt","safari console context"),s(N,"display","block"),s(N,"position","relative"),s(N,"padding-top","83.396%"),s(N,"width","100%")},m(i,m){P(i,_,m),e(_,w),e(w,F),e(_,$),P(i,d,m),P(i,b,m),e(b,J),P(i,Ce,m),P(i,j,m),e(j,Re),P(i,Ie,m),P(i,p,m),e(p,ie),e(ie,z),e(z,Te),e(p,We),e(p,ce),e(ce,Ne),e(p,$e),e(p,ne),e(ne,O),e(O,q),e(q,pe),e(q,v),e(p,ze),e(p,_e),e(_e,U),e(U,B),e(B,ue),e(B,y),e(p,De),e(p,de),e(de,Ge),e(p,Ye),e(p,g),e(g,He),e(g,L),e(L,Me),e(g,Je),e(g,X),e(X,je),e(g,qe),e(g,Z),e(Z,Be),e(g,Le),e(g,K),e(K,Xe),e(g,Ze),e(p,Ke),e(p,he),e(he,R),e(R,Q),e(Q,fe),e(Q,x),e(p,Qe),e(p,D),e(D,Ve),e(D,V),e(V,et),e(D,tt),e(p,ot),e(p,me),e(me,T),e(T,ee),e(ee,we),e(ee,k),e(p,rt),e(p,be),e(be,at),e(p,st),e(p,ge),e(ge,lt),P(i,Ae,m),P(i,C,m),e(C,ve),e(ve,G),e(G,it),e(C,ct),e(C,Y),e(Y,nt),e(Y,te),e(te,pt),e(Y,_t),e(C,ut),e(C,ye),e(ye,W),e(W,oe),e(oe,xe),e(oe,E),P(i,Fe,m),P(i,I,m),e(I,ke),e(ke,H),e(H,dt),e(I,ht),e(I,Ee),e(Ee,ft),e(I,mt),e(I,Se),e(Se,N),e(N,re),e(re,Pe),e(re,S)},p:Ao,d(i){i&&r(_),i&&r(d),i&&r(b),i&&r(Ce),i&&r(j),i&&r(Ie),i&&r(p),i&&r(Ae),i&&r(C),i&&r(Fe),i&&r(I)}}}function Ko(M){let _,w;const F=[M[0],wo];let $={$$slots:{default:[Zo]},$$scope:{ctx:M}};for(let d=0;d<F.length;d+=1)$=kt($,F[d]);return _=new Fo({props:$}),{c(){yo(_.$$.fragment)},l(d){xo(_.$$.fragment,d)},m(d,b){ko(_,d,b),w=!0},p(d,[b]){const J=b&1?Eo(F,[b&1&&co(d[0]),b&0&&co(wo)]):{};b&2&&(J.$$scope={dirty:b,ctx:d}),_.$set(J)},i(d){w||(So(_.$$.fragment,d),w=!0)},o(d){Po(_.$$.fragment,d),w=!1},d(d){Co(_,d)}}}const wo={title:"Debugging Web Workers",date:"2019-05-22T08:00:00Z",description:"...for Chrome, Firefox and Safari",label:"blog",tableOfContents:[{link:"chrome",title:"Chrome"},{link:"firefox",title:"Firefox"},{link:"safari",title:"Safari"}]};function Qo(M,_,w){return Io("blog",{image:Oo}),M.$$set=F=>{w(0,_=kt(kt({},_),no(F)))},_=no(_),[_]}class sr extends bo{constructor(_){super();go(this,_,Qo,Ko,vo,{})}}export{sr as default,wo as metadata};
