import{S as kr,i as Tr,s as Ar,C as Io,w as Rr,x as Ur,y as $r,z as Lr,A as dr,q as Hr,o as Mr,B as zr,r as Gr,Y as _r,e as s,t as o,k as _,c as l,a as r,h as i,d as a,m as u,b as c,X as ne,f as d,g as p,H as e,J as qr}from"../../chunks/vendor-da4388d4.js";import{B as Nr}from"../../chunks/BlogLayout-14cfab6f.js";import{_ as Br}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-1fad7c36.js";import"../../chunks/ldjson-b0805387.js";/* empty css                                */var Wr="https://lihautan.com/_app/assets/rebase-8-9ae9ebcb.webp",Kr="https://lihautan.com/_app/assets/rebase-8-b80ea902.webp",Vr="https://lihautan.com/_app/assets/rebase-8-9c0ec673.png",ur="https://lihautan.com/_app/assets/rebase-8-88b84e97.png",Yr="https://lihautan.com/_app/assets/rebase-7-4db5ca10.webp",Jr="https://lihautan.com/_app/assets/rebase-7-ffedc41d.webp",Qr="https://lihautan.com/_app/assets/rebase-7-77b6940c.png",mr="https://lihautan.com/_app/assets/rebase-7-88ce0e5a.png",jr="https://lihautan.com/_app/assets/rebase-6-a71cdbc5.webp",Xr="https://lihautan.com/_app/assets/rebase-6-8029d9dc.webp",Zr="https://lihautan.com/_app/assets/rebase-6-08e3ba6c.png",fr="https://lihautan.com/_app/assets/rebase-6-d40f3bf0.png",Fr="https://lihautan.com/_app/assets/rebase-5-6bae71e3.webp",ec="https://lihautan.com/_app/assets/rebase-5-55df8c39.webp",tc="https://lihautan.com/_app/assets/rebase-5-01d7f02e.png",hr="https://lihautan.com/_app/assets/rebase-5-72869795.png",ac="https://lihautan.com/_app/assets/rebase-4-3daaa09c.webp",sc="https://lihautan.com/_app/assets/rebase-4-e157042f.webp",lc="https://lihautan.com/_app/assets/rebase-4-a33e044d.png",br="https://lihautan.com/_app/assets/rebase-4-7d785640.png",oc="https://lihautan.com/_app/assets/rebase-2-4299e81b.webp",ic="https://lihautan.com/_app/assets/rebase-2-4a2b213b.webp",rc="https://lihautan.com/_app/assets/rebase-2-a6fc79e5.png",vr="https://lihautan.com/_app/assets/rebase-2-19f84297.png",cc="https://lihautan.com/_app/assets/rebase-1-075b929c.webp",nc="https://lihautan.com/_app/assets/rebase-1-40f0861a.webp",pc="https://lihautan.com/_app/assets/rebase-1-e0472352.png",Er="https://lihautan.com/_app/assets/rebase-1-f933f1f4.png",dc="https://lihautan.com/_app/assets/initial-0ec1a64d.webp",_c="https://lihautan.com/_app/assets/initial-2c90aa61.webp",uc="https://lihautan.com/_app/assets/initial-d724c2d4.png",wr="https://lihautan.com/_app/assets/initial-10c66478.png";function mc(we){let m,M,x,pe,f,v,ge,Ka,ye,Va,Ya,ia,Ce,Ja,ra,Oe,Qa,ca,I,g,ja,De,Xa,Za,Pe,Fa,es,xe,ts,as,Ie,ss,ls,os,V,is,Se,rs,cs,ke,ns,ps,ds,y,_s,Te,us,ms,Ae,fs,hs,Re,bs,vs,Ue,Es,ws,gs,H,ys,$e,Cs,Os,Le,Ds,Ps,He,xs,Is,na,h,Ss,Me,ks,Ts,ze,As,Rs,Ge,Us,$s,qe,Ls,Hs,Ne,Ms,zs,Be,Gs,qs,pa,We,Ns,da,Ke,Y,Ve,Xt,C,So,_a,S,Bs,Ye,Ws,Ks,Je,Vs,Ys,Qe,Js,Qs,ua,je,J,Xe,Zt,O,ko,ma,Ze,js,fa,z,Xs,Fe,Zs,Fs,et,el,tl,ha,de,yr=`<pre class="prism language-"><code><span class="line">$ git checkout feat/a</span>
<span class="line">$ git rebase origin/feat/a</span></code></pre>`,ba,te,al,tt,sl,ll,va,at,Q,st,Ft,D,To,Ea,lt,ol,wa,_e,Cr='<pre class="prism language-"><code><span class="line">$ git rebase origin/feat/a</span></code></pre>',ga,ot,il,ya,ue,Or='<pre class="prism language-"><code><span class="line">$ git rebase --onto origin/feat/a origin/feat/a feat/a</span></code></pre>',Ca,G,me,it,rl,cl,rt,nl,pl,fe,ct,dl,_l,nt,ul,ml,he,pt,fl,hl,dt,bl,Oa,k,vl,_t,El,wl,ut,gl,yl,mt,Cl,Ol,Da,ft,j,ht,ea,T,Ao,Pa,q,Dl,bt,Pl,xl,vt,Il,Sl,xa,Et,X,wt,ta,A,Ro,Ia,b,kl,gt,Tl,Al,yt,Rl,Ul,Ct,$l,Ll,Ot,Hl,Ml,Dt,zl,Gl,Pt,ql,Nl,Sa,xt,It,Bl,be,Wl,ka,R,Kl,St,Vl,Yl,kt,Jl,Ql,Tt,jl,Xl,Ta,At,Z,Rt,aa,U,Uo,Aa,ae,Zl,Ut,Fl,eo,Ra,$t,F,Lt,sa,$,$o,Ua,ve,Dr='<pre class="prism language-"><code><span class="line">$ git rebase --onto origin/feat/a master feat/a</span></code></pre>',$a,Ht,to,La,Mt,ee,zt,la,L,Lo,Ha,N,ao,Gt,so,lo,qt,oo,io,Ma,se,oa,Ee,ro,co,P,no,Nt,po,_o,Bt,uo,mo,Wt,fo,ho,Kt,bo,vo;return{c(){m=s("p"),M=o("Last week, I "),x=s("a"),pe=o("shared about git commands"),f=o(" at "),v=s("a"),ge=o("Shopee React Knowledgeable"),Ka=o(". At the end of the talk, one of my colleague approached me and asked me about git rebase. She somehow ended up with a messed up git history with "),ye=s("code"),Va=o("git rebase"),Ya=o(", and she couldn't comprehend how she ended up there."),ia=_(),Ce=s("p"),Ja=o("I found that her scenario was interesting, and decided to write it out here."),ra=_(),Oe=s("p"),Qa=o("This was what she told me:"),ca=_(),I=s("blockquote"),g=s("p"),ja=o("I branched out "),De=s("code"),Xa=o("feat/a"),Za=o(" branch from "),Pe=s("code"),Fa=o("master"),es=o(" and made a few commits ("),xe=s("code"),ts=o("commit #1"),as=o(", "),Ie=s("code"),ss=o("commit #2"),ls=o(")."),os=_(),V=s("p"),is=o("I noticed that master branch has new commits, so I pulled "),Se=s("code"),rs=o("master"),cs=o(" branch, and rebased my branch "),ke=s("code"),ns=o("feat/a"),ps=o(" onto master branch."),ds=_(),y=s("p"),_s=o("Then, instead of "),Te=s("code"),us=o("git push --force"),ms=o(" my local "),Ae=s("code"),fs=o("feat/a"),hs=o(" to remote "),Re=s("code"),bs=o("origin"),vs=o(", I "),Ue=s("code"),Es=o("git pull --rebase origin feat/a"),ws=o("."),gs=_(),H=s("p"),ys=o("And, my commits on "),$e=s("code"),Cs=o("feat/a"),Os=o(", eg "),Le=s("code"),Ds=o("commit #1"),Ps=o(", "),He=s("code"),xs=o("commit #2"),Is=o(" were gone!"),na=_(),h=s("p"),Ss=o("So, we expected to see "),Me=s("code"),ks=o("commit #1"),Ts=o(", "),ze=s("code"),As=o("commit #2"),Rs=o(" at "),Ge=s("code"),Us=o("HEAD"),$s=o(" after rebasing onto "),qe=s("code"),Ls=o("origin/feat/a"),Hs=o(" after the "),Ne=s("code"),Ms=o("git pull --rebase"),zs=o(", yet, the only commits we saw were a bunch of commits from the "),Be=s("code"),Gs=o("master"),qs=o(" branch."),pa=_(),We=s("p"),Ns=o("To understand what happened, I decided to draw diagrams to visualize what had happened:"),da=_(),Ke=s("p"),Y=s("span"),Ve=s("picture"),Xt=s("source"),C=s("img"),_a=_(),S=s("p"),Bs=o("So, the first thing she did was to "),Ye=s("code"),Ws=o("git rebase"),Ks=_(),Je=s("code"),Vs=o("feat/a"),Ys=o(" on top of "),Qe=s("code"),Js=o("master"),Qs=o(":"),ua=_(),je=s("p"),J=s("span"),Xe=s("picture"),Zt=s("source"),O=s("img"),ma=_(),Ze=s("p"),js=o("So far, everything looked normal. The next command was the tricky one."),fa=_(),z=s("p"),Xs=o("She rebased "),Fe=s("code"),Zs=o("feat/a"),Fs=o(" on top of "),et=s("code"),el=o("origin/feat/a"),tl=o(", she ran:"),ha=_(),de=s("div"),ba=_(),te=s("p"),al=o("The most important thing on "),tt=s("code"),sl=o("git rebase"),ll=o(" is the 3 reference points of rebasing:"),va=_(),at=s("p"),Q=s("span"),st=s("picture"),Ft=s("source"),D=s("img"),Ea=_(),lt=s("p"),ol=o("So, when she typed"),wa=_(),_e=s("div"),ga=_(),ot=s("p"),il=o(", it meant:"),ya=_(),ue=s("div"),Ca=_(),G=s("ul"),me=s("li"),it=s("code"),rl=o("new base"),cl=o(": "),rt=s("code"),nl=o("origin/feat/a"),pl=_(),fe=s("li"),ct=s("code"),dl=o("upstream"),_l=o(": "),nt=s("code"),ul=o("origin/feat/a"),ml=_(),he=s("li"),pt=s("code"),fl=o("branch"),hl=o(": "),dt=s("code"),bl=o("feat/a"),Oa=_(),k=s("p"),vl=o("So what happened was all the commits in master after branching out "),_t=s("code"),El=o("feat/a"),wl=o(" all the way to the newly rebased commits in "),ut=s("code"),gl=o("feat/a"),yl=o(" were rebased onto "),mt=s("code"),Cl=o("origin/feat/a"),Ol=o(":"),Da=_(),ft=s("p"),j=s("span"),ht=s("picture"),ea=s("source"),T=s("img"),Pa=_(),q=s("p"),Dl=o("However, if you look at the history right now, the commit "),bt=s("code"),Pl=o("commit #1"),xl=o(" and "),vt=s("code"),Il=o("commit #2"),Sl=o(" was written twice, first the original commit, second the rebased commit. In cases like this, git would not rewrote the commits again, if git could figure out whether it was a duplicate:"),xa=_(),Et=s("p"),X=s("span"),wt=s("picture"),ta=s("source"),A=s("img"),Ia=_(),b=s("p"),kl=o("It was as though both commit "),gt=s("code"),Tl=o("commit #1"),Al=o(" and "),yt=s("code"),Rl=o("commit #2"),Ul=o(" were gone, and left with commits from "),Ct=s("code"),$l=o("master"),Ll=o(" branch, because git did not rewrote them when rebasing "),Ot=s("code"),Hl=o("feat/a"),Ml=o(". And actually the changes made in "),Dt=s("code"),zl=o("commit #1"),Gl=o(" and "),Pt=s("code"),ql=o("commit #2"),Nl=o(" were still available."),Sa=_(),xt=s("blockquote"),It=s("p"),Bl=o("You can read more about this behaviour in "),be=s("a"),Wl=o("git's documentation"),ka=_(),R=s("p"),Kl=o("So, what she should have done if she wanted to actually rebased the local "),St=s("code"),Vl=o("feat/a"),Yl=o(" on top of "),kt=s("code"),Jl=o("origin/feat/a"),Ql=o(", especially after she made another commit, "),Tt=s("code"),jl=o("commit #0"),Xl=o("?"),Ta=_(),At=s("p"),Z=s("span"),Rt=s("picture"),aa=s("source"),U=s("img"),Aa=_(),ae=s("p"),Zl=o("Well, she should specify the "),Ut=s("code"),Fl=o("<upstream>"),eo=o(" reference point:"),Ra=_(),$t=s("p"),F=s("span"),Lt=s("picture"),sa=s("source"),$=s("img"),Ua=_(),ve=s("div"),$a=_(),Ht=s("p"),to=o("And you would get:"),La=_(),Mt=s("p"),ee=s("span"),zt=s("picture"),la=s("source"),L=s("img"),Ha=_(),N=s("p"),ao=o("Here again, git is smart enough not to rewrite "),Gt=s("code"),so=o("commit #1"),lo=o(" and "),qt=s("code"),oo=o("commit #2"),io=o("."),Ma=_(),se=s("section"),oa=s("h2"),Ee=s("a"),ro=o("Summary"),co=_(),P=s("p"),no=o("When using "),Nt=s("code"),po=o("git rebase"),_o=o(", always remember the 3 reference points of rebase, the "),Bt=s("code"),uo=o("new base"),mo=o(", "),Wt=s("code"),fo=o("upstream"),ho=o(" and "),Kt=s("code"),bo=o("branch"),vo=o("."),this.h()},l(t){m=l(t,"P",{});var n=r(m);M=i(n,"Last week, I "),x=l(n,"A",{href:!0});var Ho=r(x);pe=i(Ho,"shared about git commands"),Ho.forEach(a),f=i(n," at "),v=l(n,"A",{href:!0,rel:!0});var Mo=r(v);ge=i(Mo,"Shopee React Knowledgeable"),Mo.forEach(a),Ka=i(n,". At the end of the talk, one of my colleague approached me and asked me about git rebase. She somehow ended up with a messed up git history with "),ye=l(n,"CODE",{class:!0});var zo=r(ye);Va=i(zo,"git rebase"),zo.forEach(a),Ya=i(n,", and she couldn't comprehend how she ended up there."),n.forEach(a),ia=u(t),Ce=l(t,"P",{});var Go=r(Ce);Ja=i(Go,"I found that her scenario was interesting, and decided to write it out here."),Go.forEach(a),ra=u(t),Oe=l(t,"P",{});var qo=r(Oe);Qa=i(qo,"This was what she told me:"),qo.forEach(a),ca=u(t),I=l(t,"BLOCKQUOTE",{});var le=r(I);g=l(le,"P",{});var B=r(g);ja=i(B,"I branched out "),De=l(B,"CODE",{class:!0});var No=r(De);Xa=i(No,"feat/a"),No.forEach(a),Za=i(B," branch from "),Pe=l(B,"CODE",{class:!0});var Bo=r(Pe);Fa=i(Bo,"master"),Bo.forEach(a),es=i(B," and made a few commits ("),xe=l(B,"CODE",{class:!0});var Wo=r(xe);ts=i(Wo,"commit #1"),Wo.forEach(a),as=i(B,", "),Ie=l(B,"CODE",{class:!0});var Ko=r(Ie);ss=i(Ko,"commit #2"),Ko.forEach(a),ls=i(B,")."),B.forEach(a),os=u(le),V=l(le,"P",{});var Vt=r(V);is=i(Vt,"I noticed that master branch has new commits, so I pulled "),Se=l(Vt,"CODE",{class:!0});var Vo=r(Se);rs=i(Vo,"master"),Vo.forEach(a),cs=i(Vt," branch, and rebased my branch "),ke=l(Vt,"CODE",{class:!0});var Yo=r(ke);ns=i(Yo,"feat/a"),Yo.forEach(a),ps=i(Vt," onto master branch."),Vt.forEach(a),ds=u(le),y=l(le,"P",{});var W=r(y);_s=i(W,"Then, instead of "),Te=l(W,"CODE",{class:!0});var Jo=r(Te);us=i(Jo,"git push --force"),Jo.forEach(a),ms=i(W," my local "),Ae=l(W,"CODE",{class:!0});var Qo=r(Ae);fs=i(Qo,"feat/a"),Qo.forEach(a),hs=i(W," to remote "),Re=l(W,"CODE",{class:!0});var jo=r(Re);bs=i(jo,"origin"),jo.forEach(a),vs=i(W,", I "),Ue=l(W,"CODE",{class:!0});var Xo=r(Ue);Es=i(Xo,"git pull --rebase origin feat/a"),Xo.forEach(a),ws=i(W,"."),W.forEach(a),gs=u(le),H=l(le,"P",{});var oe=r(H);ys=i(oe,"And, my commits on "),$e=l(oe,"CODE",{class:!0});var Zo=r($e);Cs=i(Zo,"feat/a"),Zo.forEach(a),Os=i(oe,", eg "),Le=l(oe,"CODE",{class:!0});var Fo=r(Le);Ds=i(Fo,"commit #1"),Fo.forEach(a),Ps=i(oe,", "),He=l(oe,"CODE",{class:!0});var ei=r(He);xs=i(ei,"commit #2"),ei.forEach(a),Is=i(oe," were gone!"),oe.forEach(a),le.forEach(a),na=u(t),h=l(t,"P",{});var E=r(h);Ss=i(E,"So, we expected to see "),Me=l(E,"CODE",{class:!0});var ti=r(Me);ks=i(ti,"commit #1"),ti.forEach(a),Ts=i(E,", "),ze=l(E,"CODE",{class:!0});var ai=r(ze);As=i(ai,"commit #2"),ai.forEach(a),Rs=i(E," at "),Ge=l(E,"CODE",{class:!0});var si=r(Ge);Us=i(si,"HEAD"),si.forEach(a),$s=i(E," after rebasing onto "),qe=l(E,"CODE",{class:!0});var li=r(qe);Ls=i(li,"origin/feat/a"),li.forEach(a),Hs=i(E," after the "),Ne=l(E,"CODE",{class:!0});var oi=r(Ne);Ms=i(oi,"git pull --rebase"),oi.forEach(a),zs=i(E,", yet, the only commits we saw were a bunch of commits from the "),Be=l(E,"CODE",{class:!0});var ii=r(Be);Gs=i(ii,"master"),ii.forEach(a),qs=i(E," branch."),E.forEach(a),pa=u(t),We=l(t,"P",{});var ri=r(We);Ns=i(ri,"To understand what happened, I decided to draw diagrams to visualize what had happened:"),ri.forEach(a),da=u(t),Ke=l(t,"P",{});var ci=r(Ke);Y=l(ci,"SPAN",{style:!0});var ni=r(Y);Ve=l(ni,"PICTURE",{});var Eo=r(Ve);Xt=l(Eo,"SOURCE",{type:!0,srcset:!0}),C=l(Eo,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),Eo.forEach(a),ni.forEach(a),ci.forEach(a),_a=u(t),S=l(t,"P",{});var ie=r(S);Bs=i(ie,"So, the first thing she did was to "),Ye=l(ie,"CODE",{class:!0});var pi=r(Ye);Ws=i(pi,"git rebase"),pi.forEach(a),Ks=u(ie),Je=l(ie,"CODE",{class:!0});var di=r(Je);Vs=i(di,"feat/a"),di.forEach(a),Ys=i(ie," on top of "),Qe=l(ie,"CODE",{class:!0});var _i=r(Qe);Js=i(_i,"master"),_i.forEach(a),Qs=i(ie,":"),ie.forEach(a),ua=u(t),je=l(t,"P",{});var ui=r(je);J=l(ui,"SPAN",{style:!0});var mi=r(J);Xe=l(mi,"PICTURE",{});var wo=r(Xe);Zt=l(wo,"SOURCE",{type:!0,srcset:!0}),O=l(wo,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),wo.forEach(a),mi.forEach(a),ui.forEach(a),ma=u(t),Ze=l(t,"P",{});var fi=r(Ze);js=i(fi,"So far, everything looked normal. The next command was the tricky one."),fi.forEach(a),fa=u(t),z=l(t,"P",{});var Yt=r(z);Xs=i(Yt,"She rebased "),Fe=l(Yt,"CODE",{class:!0});var hi=r(Fe);Zs=i(hi,"feat/a"),hi.forEach(a),Fs=i(Yt," on top of "),et=l(Yt,"CODE",{class:!0});var bi=r(et);el=i(bi,"origin/feat/a"),bi.forEach(a),tl=i(Yt,", she ran:"),Yt.forEach(a),ha=u(t),de=l(t,"DIV",{class:!0});var Pr=r(de);Pr.forEach(a),ba=u(t),te=l(t,"P",{});var za=r(te);al=i(za,"The most important thing on "),tt=l(za,"CODE",{class:!0});var vi=r(tt);sl=i(vi,"git rebase"),vi.forEach(a),ll=i(za," is the 3 reference points of rebasing:"),za.forEach(a),va=u(t),at=l(t,"P",{});var Ei=r(at);Q=l(Ei,"SPAN",{style:!0});var wi=r(Q);st=l(wi,"PICTURE",{});var go=r(st);Ft=l(go,"SOURCE",{type:!0,srcset:!0}),D=l(go,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),go.forEach(a),wi.forEach(a),Ei.forEach(a),Ea=u(t),lt=l(t,"P",{});var gi=r(lt);ol=i(gi,"So, when she typed"),gi.forEach(a),wa=u(t),_e=l(t,"DIV",{class:!0});var xr=r(_e);xr.forEach(a),ga=u(t),ot=l(t,"P",{});var yi=r(ot);il=i(yi,", it meant:"),yi.forEach(a),ya=u(t),ue=l(t,"DIV",{class:!0});var Ir=r(ue);Ir.forEach(a),Ca=u(t),G=l(t,"UL",{});var Jt=r(G);me=l(Jt,"LI",{});var Ga=r(me);it=l(Ga,"CODE",{class:!0});var Ci=r(it);rl=i(Ci,"new base"),Ci.forEach(a),cl=i(Ga,": "),rt=l(Ga,"CODE",{class:!0});var Oi=r(rt);nl=i(Oi,"origin/feat/a"),Oi.forEach(a),Ga.forEach(a),pl=u(Jt),fe=l(Jt,"LI",{});var qa=r(fe);ct=l(qa,"CODE",{class:!0});var Di=r(ct);dl=i(Di,"upstream"),Di.forEach(a),_l=i(qa,": "),nt=l(qa,"CODE",{class:!0});var Pi=r(nt);ul=i(Pi,"origin/feat/a"),Pi.forEach(a),qa.forEach(a),ml=u(Jt),he=l(Jt,"LI",{});var Na=r(he);pt=l(Na,"CODE",{class:!0});var xi=r(pt);fl=i(xi,"branch"),xi.forEach(a),hl=i(Na,": "),dt=l(Na,"CODE",{class:!0});var Ii=r(dt);bl=i(Ii,"feat/a"),Ii.forEach(a),Na.forEach(a),Jt.forEach(a),Oa=u(t),k=l(t,"P",{});var re=r(k);vl=i(re,"So what happened was all the commits in master after branching out "),_t=l(re,"CODE",{class:!0});var Si=r(_t);El=i(Si,"feat/a"),Si.forEach(a),wl=i(re," all the way to the newly rebased commits in "),ut=l(re,"CODE",{class:!0});var ki=r(ut);gl=i(ki,"feat/a"),ki.forEach(a),yl=i(re," were rebased onto "),mt=l(re,"CODE",{class:!0});var Ti=r(mt);Cl=i(Ti,"origin/feat/a"),Ti.forEach(a),Ol=i(re,":"),re.forEach(a),Da=u(t),ft=l(t,"P",{});var Ai=r(ft);j=l(Ai,"SPAN",{style:!0});var Ri=r(j);ht=l(Ri,"PICTURE",{});var yo=r(ht);ea=l(yo,"SOURCE",{type:!0,srcset:!0}),T=l(yo,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),yo.forEach(a),Ri.forEach(a),Ai.forEach(a),Pa=u(t),q=l(t,"P",{});var Qt=r(q);Dl=i(Qt,"However, if you look at the history right now, the commit "),bt=l(Qt,"CODE",{class:!0});var Ui=r(bt);Pl=i(Ui,"commit #1"),Ui.forEach(a),xl=i(Qt," and "),vt=l(Qt,"CODE",{class:!0});var $i=r(vt);Il=i($i,"commit #2"),$i.forEach(a),Sl=i(Qt," was written twice, first the original commit, second the rebased commit. In cases like this, git would not rewrote the commits again, if git could figure out whether it was a duplicate:"),Qt.forEach(a),xa=u(t),Et=l(t,"P",{});var Li=r(Et);X=l(Li,"SPAN",{style:!0});var Hi=r(X);wt=l(Hi,"PICTURE",{});var Co=r(wt);ta=l(Co,"SOURCE",{type:!0,srcset:!0}),A=l(Co,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),Co.forEach(a),Hi.forEach(a),Li.forEach(a),Ia=u(t),b=l(t,"P",{});var w=r(b);kl=i(w,"It was as though both commit "),gt=l(w,"CODE",{class:!0});var Mi=r(gt);Tl=i(Mi,"commit #1"),Mi.forEach(a),Al=i(w," and "),yt=l(w,"CODE",{class:!0});var zi=r(yt);Rl=i(zi,"commit #2"),zi.forEach(a),Ul=i(w," were gone, and left with commits from "),Ct=l(w,"CODE",{class:!0});var Gi=r(Ct);$l=i(Gi,"master"),Gi.forEach(a),Ll=i(w," branch, because git did not rewrote them when rebasing "),Ot=l(w,"CODE",{class:!0});var qi=r(Ot);Hl=i(qi,"feat/a"),qi.forEach(a),Ml=i(w,". And actually the changes made in "),Dt=l(w,"CODE",{class:!0});var Ni=r(Dt);zl=i(Ni,"commit #1"),Ni.forEach(a),Gl=i(w," and "),Pt=l(w,"CODE",{class:!0});var Bi=r(Pt);ql=i(Bi,"commit #2"),Bi.forEach(a),Nl=i(w," were still available."),w.forEach(a),Sa=u(t),xt=l(t,"BLOCKQUOTE",{});var Wi=r(xt);It=l(Wi,"P",{});var Oo=r(It);Bl=i(Oo,"You can read more about this behaviour in "),be=l(Oo,"A",{href:!0,rel:!0});var Ki=r(be);Wl=i(Ki,"git's documentation"),Ki.forEach(a),Oo.forEach(a),Wi.forEach(a),ka=u(t),R=l(t,"P",{});var ce=r(R);Kl=i(ce,"So, what she should have done if she wanted to actually rebased the local "),St=l(ce,"CODE",{class:!0});var Vi=r(St);Vl=i(Vi,"feat/a"),Vi.forEach(a),Yl=i(ce," on top of "),kt=l(ce,"CODE",{class:!0});var Yi=r(kt);Jl=i(Yi,"origin/feat/a"),Yi.forEach(a),Ql=i(ce,", especially after she made another commit, "),Tt=l(ce,"CODE",{class:!0});var Ji=r(Tt);jl=i(Ji,"commit #0"),Ji.forEach(a),Xl=i(ce,"?"),ce.forEach(a),Ta=u(t),At=l(t,"P",{});var Qi=r(At);Z=l(Qi,"SPAN",{style:!0});var ji=r(Z);Rt=l(ji,"PICTURE",{});var Do=r(Rt);aa=l(Do,"SOURCE",{type:!0,srcset:!0}),U=l(Do,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),Do.forEach(a),ji.forEach(a),Qi.forEach(a),Aa=u(t),ae=l(t,"P",{});var Ba=r(ae);Zl=i(Ba,"Well, she should specify the "),Ut=l(Ba,"CODE",{class:!0});var Xi=r(Ut);Fl=i(Xi,"<upstream>"),Xi.forEach(a),eo=i(Ba," reference point:"),Ba.forEach(a),Ra=u(t),$t=l(t,"P",{});var Zi=r($t);F=l(Zi,"SPAN",{style:!0});var Fi=r(F);Lt=l(Fi,"PICTURE",{});var Po=r(Lt);sa=l(Po,"SOURCE",{type:!0,srcset:!0}),$=l(Po,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),Po.forEach(a),Fi.forEach(a),Zi.forEach(a),Ua=u(t),ve=l(t,"DIV",{class:!0});var Sr=r(ve);Sr.forEach(a),$a=u(t),Ht=l(t,"P",{});var er=r(Ht);to=i(er,"And you would get:"),er.forEach(a),La=u(t),Mt=l(t,"P",{});var tr=r(Mt);ee=l(tr,"SPAN",{style:!0});var ar=r(ee);zt=l(ar,"PICTURE",{});var xo=r(zt);la=l(xo,"SOURCE",{type:!0,srcset:!0}),L=l(xo,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),xo.forEach(a),ar.forEach(a),tr.forEach(a),Ha=u(t),N=l(t,"P",{});var jt=r(N);ao=i(jt,"Here again, git is smart enough not to rewrite "),Gt=l(jt,"CODE",{class:!0});var sr=r(Gt);so=i(sr,"commit #1"),sr.forEach(a),lo=i(jt," and "),qt=l(jt,"CODE",{class:!0});var lr=r(qt);oo=i(lr,"commit #2"),lr.forEach(a),io=i(jt,"."),jt.forEach(a),Ma=u(t),se=l(t,"SECTION",{});var Wa=r(se);oa=l(Wa,"H2",{});var or=r(oa);Ee=l(or,"A",{href:!0,id:!0});var ir=r(Ee);ro=i(ir,"Summary"),ir.forEach(a),or.forEach(a),co=u(Wa),P=l(Wa,"P",{});var K=r(P);no=i(K,"When using "),Nt=l(K,"CODE",{class:!0});var rr=r(Nt);po=i(rr,"git rebase"),rr.forEach(a),_o=i(K,", always remember the 3 reference points of rebase, the "),Bt=l(K,"CODE",{class:!0});var cr=r(Bt);uo=i(cr,"new base"),cr.forEach(a),mo=i(K,", "),Wt=l(K,"CODE",{class:!0});var nr=r(Wt);fo=i(nr,"upstream"),nr.forEach(a),ho=i(K," and "),Kt=l(K,"CODE",{class:!0});var pr=r(Kt);bo=i(pr,"branch"),pr.forEach(a),vo=i(K,"."),K.forEach(a),Wa.forEach(a),this.h()},h(){c(x,"href","/git-gudder/"),c(v,"href","https://github.com/Shopee/shopee-react-knowledgeable"),c(v,"rel","nofollow"),c(ye,"class","inline"),c(De,"class","inline"),c(Pe,"class","inline"),c(xe,"class","inline"),c(Ie,"class","inline"),c(Se,"class","inline"),c(ke,"class","inline"),c(Te,"class","inline"),c(Ae,"class","inline"),c(Re,"class","inline"),c(Ue,"class","inline"),c($e,"class","inline"),c(Le,"class","inline"),c(He,"class","inline"),c(Me,"class","inline"),c(ze,"class","inline"),c(Ge,"class","inline"),c(qe,"class","inline"),c(Ne,"class","inline"),c(Be,"class","inline"),c(Xt,"type","image/webp"),c(Xt,"srcset",_c+", "+dc+" 2x"),ne(C.src,So=wr)||c(C,"src",So),c(C,"srcset",wr+", "+uc+" 2x"),c(C,"loading","lazy"),d(C,"position","absolute"),d(C,"top","0"),d(C,"width","100%"),d(C,"height","100%"),c(C,"alt","initil"),c(C,"title","Before rebasing"),d(Y,"display","block"),d(Y,"position","relative"),d(Y,"padding-top","126.667%"),d(Y,"width","100%"),c(Ye,"class","inline"),c(Je,"class","inline"),c(Qe,"class","inline"),c(Zt,"type","image/webp"),c(Zt,"srcset",nc+", "+cc+" 2x"),ne(O.src,ko=Er)||c(O,"src",ko),c(O,"srcset",Er+", "+pc+" 2x"),c(O,"loading","lazy"),d(O,"position","absolute"),d(O,"top","0"),d(O,"width","100%"),d(O,"height","100%"),c(O,"alt","first rebase"),c(O,"title","Rebase feat/a on top of `master`"),d(J,"display","block"),d(J,"position","relative"),d(J,"padding-top","69.828%"),d(J,"width","100%"),c(Fe,"class","inline"),c(et,"class","inline"),c(de,"class","code-section"),c(tt,"class","inline"),c(Ft,"type","image/webp"),c(Ft,"srcset",ic+", "+oc+" 2x"),ne(D.src,To=vr)||c(D,"src",To),c(D,"srcset",vr+", "+rc+" 2x"),c(D,"loading","lazy"),d(D,"position","absolute"),d(D,"top","0"),d(D,"width","100%"),d(D,"height","100%"),c(D,"alt","3 reference points"),c(D,"title","The 3 reference points"),d(Q,"display","block"),d(Q,"position","relative"),d(Q,"padding-top","69.828%"),d(Q,"width","100%"),c(_e,"class","code-section"),c(ue,"class","code-section"),c(it,"class","inline"),c(rt,"class","inline"),c(ct,"class","inline"),c(nt,"class","inline"),c(pt,"class","inline"),c(dt,"class","inline"),c(_t,"class","inline"),c(ut,"class","inline"),c(mt,"class","inline"),c(ea,"type","image/webp"),c(ea,"srcset",sc+", "+ac+" 2x"),ne(T.src,Ao=br)||c(T,"src",Ao),c(T,"srcset",br+", "+lc+" 2x"),c(T,"loading","lazy"),d(T,"position","absolute"),d(T,"top","0"),d(T,"width","100%"),d(T,"height","100%"),c(T,"alt","rebase again"),d(j,"display","block"),d(j,"position","relative"),d(j,"padding-top","50.625%"),d(j,"width","100%"),c(bt,"class","inline"),c(vt,"class","inline"),c(ta,"type","image/webp"),c(ta,"srcset",ec+", "+Fr+" 2x"),ne(A.src,Ro=hr)||c(A,"src",Ro),c(A,"srcset",hr+", "+tc+" 2x"),c(A,"loading","lazy"),d(A,"position","absolute"),d(A,"top","0"),d(A,"width","100%"),d(A,"height","100%"),c(A,"alt","actual rebase again result"),d(X,"display","block"),d(X,"position","relative"),d(X,"padding-top","68.644%"),d(X,"width","100%"),c(gt,"class","inline"),c(yt,"class","inline"),c(Ct,"class","inline"),c(Ot,"class","inline"),c(Dt,"class","inline"),c(Pt,"class","inline"),c(be,"href","https://git-scm.com/book/en/v2/Git-Branching-Rebasing#_rebase_rebase"),c(be,"rel","nofollow"),c(St,"class","inline"),c(kt,"class","inline"),c(Tt,"class","inline"),c(aa,"type","image/webp"),c(aa,"srcset",Xr+", "+jr+" 2x"),ne(U.src,Uo=fr)||c(U,"src",Uo),c(U,"srcset",fr+", "+Zr+" 2x"),c(U,"loading","lazy"),d(U,"position","absolute"),d(U,"top","0"),d(U,"width","100%"),d(U,"height","100%"),c(U,"alt","adding one more commit"),d(Z,"display","block"),d(Z,"position","relative"),d(Z,"padding-top","58.273%"),d(Z,"width","100%"),c(Ut,"class","inline"),c(sa,"type","image/webp"),c(sa,"srcset",Jr+", "+Yr+" 2x"),ne($.src,$o=mr)||c($,"src",$o),c($,"srcset",mr+", "+Qr+" 2x"),c($,"loading","lazy"),d($,"position","absolute"),d($,"top","0"),d($,"width","100%"),d($,"height","100%"),c($,"alt","reference points"),d(F,"display","block"),d(F,"position","relative"),d(F,"padding-top","57.042%"),d(F,"width","100%"),c(ve,"class","code-section"),c(la,"type","image/webp"),c(la,"srcset",Kr+", "+Wr+" 2x"),ne(L.src,Lo=ur)||c(L,"src",Lo),c(L,"srcset",ur+", "+Vr+" 2x"),c(L,"loading","lazy"),d(L,"position","absolute"),d(L,"top","0"),d(L,"width","100%"),d(L,"height","100%"),c(L,"alt","result"),d(ee,"display","block"),d(ee,"position","relative"),d(ee,"padding-top","60.902%"),d(ee,"width","100%"),c(Gt,"class","inline"),c(qt,"class","inline"),c(Ee,"href","#summary"),c(Ee,"id","summary"),c(Nt,"class","inline"),c(Bt,"class","inline"),c(Wt,"class","inline"),c(Kt,"class","inline")},m(t,n){p(t,m,n),e(m,M),e(m,x),e(x,pe),e(m,f),e(m,v),e(v,ge),e(m,Ka),e(m,ye),e(ye,Va),e(m,Ya),p(t,ia,n),p(t,Ce,n),e(Ce,Ja),p(t,ra,n),p(t,Oe,n),e(Oe,Qa),p(t,ca,n),p(t,I,n),e(I,g),e(g,ja),e(g,De),e(De,Xa),e(g,Za),e(g,Pe),e(Pe,Fa),e(g,es),e(g,xe),e(xe,ts),e(g,as),e(g,Ie),e(Ie,ss),e(g,ls),e(I,os),e(I,V),e(V,is),e(V,Se),e(Se,rs),e(V,cs),e(V,ke),e(ke,ns),e(V,ps),e(I,ds),e(I,y),e(y,_s),e(y,Te),e(Te,us),e(y,ms),e(y,Ae),e(Ae,fs),e(y,hs),e(y,Re),e(Re,bs),e(y,vs),e(y,Ue),e(Ue,Es),e(y,ws),e(I,gs),e(I,H),e(H,ys),e(H,$e),e($e,Cs),e(H,Os),e(H,Le),e(Le,Ds),e(H,Ps),e(H,He),e(He,xs),e(H,Is),p(t,na,n),p(t,h,n),e(h,Ss),e(h,Me),e(Me,ks),e(h,Ts),e(h,ze),e(ze,As),e(h,Rs),e(h,Ge),e(Ge,Us),e(h,$s),e(h,qe),e(qe,Ls),e(h,Hs),e(h,Ne),e(Ne,Ms),e(h,zs),e(h,Be),e(Be,Gs),e(h,qs),p(t,pa,n),p(t,We,n),e(We,Ns),p(t,da,n),p(t,Ke,n),e(Ke,Y),e(Y,Ve),e(Ve,Xt),e(Ve,C),p(t,_a,n),p(t,S,n),e(S,Bs),e(S,Ye),e(Ye,Ws),e(S,Ks),e(S,Je),e(Je,Vs),e(S,Ys),e(S,Qe),e(Qe,Js),e(S,Qs),p(t,ua,n),p(t,je,n),e(je,J),e(J,Xe),e(Xe,Zt),e(Xe,O),p(t,ma,n),p(t,Ze,n),e(Ze,js),p(t,fa,n),p(t,z,n),e(z,Xs),e(z,Fe),e(Fe,Zs),e(z,Fs),e(z,et),e(et,el),e(z,tl),p(t,ha,n),p(t,de,n),de.innerHTML=yr,p(t,ba,n),p(t,te,n),e(te,al),e(te,tt),e(tt,sl),e(te,ll),p(t,va,n),p(t,at,n),e(at,Q),e(Q,st),e(st,Ft),e(st,D),p(t,Ea,n),p(t,lt,n),e(lt,ol),p(t,wa,n),p(t,_e,n),_e.innerHTML=Cr,p(t,ga,n),p(t,ot,n),e(ot,il),p(t,ya,n),p(t,ue,n),ue.innerHTML=Or,p(t,Ca,n),p(t,G,n),e(G,me),e(me,it),e(it,rl),e(me,cl),e(me,rt),e(rt,nl),e(G,pl),e(G,fe),e(fe,ct),e(ct,dl),e(fe,_l),e(fe,nt),e(nt,ul),e(G,ml),e(G,he),e(he,pt),e(pt,fl),e(he,hl),e(he,dt),e(dt,bl),p(t,Oa,n),p(t,k,n),e(k,vl),e(k,_t),e(_t,El),e(k,wl),e(k,ut),e(ut,gl),e(k,yl),e(k,mt),e(mt,Cl),e(k,Ol),p(t,Da,n),p(t,ft,n),e(ft,j),e(j,ht),e(ht,ea),e(ht,T),p(t,Pa,n),p(t,q,n),e(q,Dl),e(q,bt),e(bt,Pl),e(q,xl),e(q,vt),e(vt,Il),e(q,Sl),p(t,xa,n),p(t,Et,n),e(Et,X),e(X,wt),e(wt,ta),e(wt,A),p(t,Ia,n),p(t,b,n),e(b,kl),e(b,gt),e(gt,Tl),e(b,Al),e(b,yt),e(yt,Rl),e(b,Ul),e(b,Ct),e(Ct,$l),e(b,Ll),e(b,Ot),e(Ot,Hl),e(b,Ml),e(b,Dt),e(Dt,zl),e(b,Gl),e(b,Pt),e(Pt,ql),e(b,Nl),p(t,Sa,n),p(t,xt,n),e(xt,It),e(It,Bl),e(It,be),e(be,Wl),p(t,ka,n),p(t,R,n),e(R,Kl),e(R,St),e(St,Vl),e(R,Yl),e(R,kt),e(kt,Jl),e(R,Ql),e(R,Tt),e(Tt,jl),e(R,Xl),p(t,Ta,n),p(t,At,n),e(At,Z),e(Z,Rt),e(Rt,aa),e(Rt,U),p(t,Aa,n),p(t,ae,n),e(ae,Zl),e(ae,Ut),e(Ut,Fl),e(ae,eo),p(t,Ra,n),p(t,$t,n),e($t,F),e(F,Lt),e(Lt,sa),e(Lt,$),p(t,Ua,n),p(t,ve,n),ve.innerHTML=Dr,p(t,$a,n),p(t,Ht,n),e(Ht,to),p(t,La,n),p(t,Mt,n),e(Mt,ee),e(ee,zt),e(zt,la),e(zt,L),p(t,Ha,n),p(t,N,n),e(N,ao),e(N,Gt),e(Gt,so),e(N,lo),e(N,qt),e(qt,oo),e(N,io),p(t,Ma,n),p(t,se,n),e(se,oa),e(oa,Ee),e(Ee,ro),e(se,co),e(se,P),e(P,no),e(P,Nt),e(Nt,po),e(P,_o),e(P,Bt),e(Bt,uo),e(P,mo),e(P,Wt),e(Wt,fo),e(P,ho),e(P,Kt),e(Kt,bo),e(P,vo)},p:qr,d(t){t&&a(m),t&&a(ia),t&&a(Ce),t&&a(ra),t&&a(Oe),t&&a(ca),t&&a(I),t&&a(na),t&&a(h),t&&a(pa),t&&a(We),t&&a(da),t&&a(Ke),t&&a(_a),t&&a(S),t&&a(ua),t&&a(je),t&&a(ma),t&&a(Ze),t&&a(fa),t&&a(z),t&&a(ha),t&&a(de),t&&a(ba),t&&a(te),t&&a(va),t&&a(at),t&&a(Ea),t&&a(lt),t&&a(wa),t&&a(_e),t&&a(ga),t&&a(ot),t&&a(ya),t&&a(ue),t&&a(Ca),t&&a(G),t&&a(Oa),t&&a(k),t&&a(Da),t&&a(ft),t&&a(Pa),t&&a(q),t&&a(xa),t&&a(Et),t&&a(Ia),t&&a(b),t&&a(Sa),t&&a(xt),t&&a(ka),t&&a(R),t&&a(Ta),t&&a(At),t&&a(Aa),t&&a(ae),t&&a(Ra),t&&a($t),t&&a(Ua),t&&a(ve),t&&a($a),t&&a(Ht),t&&a(La),t&&a(Mt),t&&a(Ha),t&&a(N),t&&a(Ma),t&&a(se)}}}function fc(we){let m,M;const x=[we[0],gr];let pe={$$slots:{default:[mc]},$$scope:{ctx:we}};for(let f=0;f<x.length;f+=1)pe=Io(pe,x[f]);return m=new Nr({props:pe}),{c(){Rr(m.$$.fragment)},l(f){Ur(m.$$.fragment,f)},m(f,v){$r(m,f,v),M=!0},p(f,[v]){const ge=v&1?Lr(x,[v&1&&dr(f[0]),v&0&&dr(gr)]):{};v&2&&(ge.$$scope={dirty:v,ctx:f}),m.$set(ge)},i(f){M||(Hr(m.$$.fragment,f),M=!0)},o(f){Mr(m.$$.fragment,f),M=!1},d(f){zr(m,f)}}}const gr={title:"Git commits went missing after a rebase",date:"2019-09-04T08:00:00Z",description:"What happened when you do a rebase",tags:["JavaScript","git","rebase","scm"],label:"blog",tableOfContents:[{link:"summary",title:"Summary"}]};function hc(we,m,M){return Gr("blog",{image:Br}),we.$$set=x=>{M(0,m=Io(Io({},m),_r(x)))},m=_r(m),[m]}class Cc extends kr{constructor(m){super();Tr(this,m,hc,fc,Ar,{})}}export{Cc as default,gr as metadata};
