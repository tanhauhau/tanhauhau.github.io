import{S as _r,i as mr,s as wr,C as bl,w as xr,x as Er,y as br,z as Ir,A as sr,q as Pr,o as jr,B as Sr,r as Ar,Y as or,e as t,t as a,k as i,c as s,a as n,h as l,d as o,m as p,b as r,X as cs,f as u,g as me,H as e,J as Or}from"../../chunks/vendor-9710682b.js";import{B as Cr}from"../../chunks/BlogLayout-9a08402e.js";import"../../chunks/stores-f9c97213.js";import"../../chunks/TableOfContent-2fa6a472.js";/* empty css                                */var Rr="/_app/assets/dependencies-122095c0.webp",Tr="/_app/assets/dependencies-ea99ca83.webp",Nr="/_app/assets/dependencies-67af14bb.png",ar="/_app/assets/dependencies-fd8db9f4.png",Mr="/_app/assets/rollup-plugin-copy-usage-7126a1d5.webp",Dr="/_app/assets/rollup-plugin-copy-usage-a2ee5817.webp",Br="/_app/assets/rollup-plugin-copy-usage-c45f8a36.png",lr="/_app/assets/rollup-plugin-copy-usage-8a013c03.png",Gr="/_app/assets/google-search-292b3432.webp",Wr="/_app/assets/google-search-4b643dd7.webp",Ur="/_app/assets/google-search-81a5a53a.png",nr="/_app/assets/google-search-4357d1f5.png",qr="/_app/assets/window-reference-error-e6ae4618.webp",Lr="/_app/assets/window-reference-error-6bc12ec2.webp",Hr="/_app/assets/window-reference-error-01ef33d0.png",rr="/_app/assets/window-reference-error-69625f9c.png",Yr="/_app/assets/hero-twitter-65a339c5.jpg";function $r(we){let c,j,x,z,_,w,xe,K,hs,ds,F,us,ks,V,vs,gs,ys,Ee,pr='<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">worker</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Worker</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span></code></pre>',fs,C,_s,Qe,ms,ws,Xe,xs,Es,bs,J,Is,Q,Ps,js,Ss,be,cr=`<div class="filename">/build/worker.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(l</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> r) &#123; </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.getElementById</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">)) </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)">; r </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.createElement</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;script&#39;</span><span style="color: var(--shiki-color-text)">); </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.async </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.src </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;//&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">location</span><span style="color: var(--shiki-color-text)">.host </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;localhost&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-function)">.split</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;:&#39;</span><span style="color: var(--shiki-color-text)">)[</span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">] </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;:35729/livereload.js?snipver=1&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.id </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)">head</span><span style="color: var(--shiki-token-function)">.appendChild</span><span style="color: var(--shiki-color-text)">(r) &#125;)(</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.document);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// worker code ...</span></span></code></pre>`,As,X,Os,Ie,Cs,Rs,Ts,Ze,R,Pe,et,E,Il,Ns,T,Ms,Z,Ds,Bs,tt,Gs,Ws,Us,je,qs,st,Ls,Hs,ot,Ys,Jt,k,at,ee,$s,zs,te,Ks,lt,Fs,Vs,Js,N,Qs,se,Xs,Zs,nt,eo,to,so,rt,M,Se,it,b,Pl,oo,pt,ao,lo,ct,D,Ae,ht,I,jl,no,dt,ro,io,ut,B,Oe,kt,S,Sl,po,vt,co,ho,gt,yt,ft,uo,ko,oe,vo,_t,go,yo,fo,mt,_o,mo,wt,G,wo,xt,xo,Eo,Et,bo,Io,Qt,h,bt,ae,Po,jo,le,So,It,Ao,Oo,Co,P,Ro,Ce,To,No,ne,Mo,Do,re,Bo,Go,ie,Wo,Uo,qo,Pt,Lo,Ho,Re,hr=`<div class="filename">rollup-plugin-xxx.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(options) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;plugin-name&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">resolveId</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Yo,jt,$o,zo,W,St,Ko,Fo,pe,Vo,Te,Jo,Qo,Xo,U,Zo,At,ea,ta,Ot,sa,oa,aa,ce,la,Ne,na,ra,ia,Me,dr=`<div class="filename">rollup.config.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,pa,Ct,ca,ha,q,da,De,ua,ka,Be,va,ga,ya,he,fa,Ge,_a,ma,wa,de,xa,ue,Ea,ba,Ia,A,Pa,Rt,ja,Sa,Tt,Aa,Oa,ke,Ca,Ra,Ta,L,Na,ve,We,Ma,Da,ge,Ba,Ga,Wa,Nt,Mt,Ua,qa,Dt,La,Ha,Ue,ur=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.addWatchFile</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Ya,Bt,$a,Xt,y,Gt,ye,za,Ka,Wt,Fa,Va,fe,Ja,Ut,Qa,Xa,Za,qt,el,tl,Lt,Ht,sl,ol,Yt,al,ll,_e,nl,qe,rl,il,pl,$t,zt,cl,hl,H,dl,Kt,ul,kl,Ft,vl,gl,yl,Vt,fl;return{c(){c=t("section"),j=t("h2"),x=t("a"),z=a("Background"),_=i(),w=t("p"),xe=a("I was building a web application using "),K=t("a"),hs=a("Svelte"),ds=a(" and "),F=t("a"),us=a("Rollup"),ks=a(" this morning. I needed to use a "),V=t("a"),vs=a("web worker"),gs=a(", which the worker script has to be in another file:"),ys=i(),Ee=t("div"),fs=i(),C=t("p"),_s=a("So naturally, I was thinking of having 2 entries for my rollup application: "),Qe=t("em"),ms=a("the main app"),ws=a(" and "),Xe=t("em"),xs=a("the worker"),Es=a("."),bs=i(),J=t("p"),Is=a("It works fine, except the fact that the "),Q=t("a"),Ps=a("rollup-plugin-livereload"),js=a(" injected a livereload script to every output file:"),Ss=i(),be=t("div"),As=i(),X=t("p"),Os=a("The livereload script includes a reference to "),Ie=t("code"),Cs=a("window"),Rs=a(", which is not available to the worker script:"),Ts=i(),Ze=t("p"),R=t("span"),Pe=t("picture"),et=t("source"),E=t("img"),Ns=i(),T=t("p"),Ms=a("I looked into "),Z=t("a"),Ds=a("the docs of the rollup-plugin-livereload"),Bs=a(", it doesn't seemed to have a option to exclude files from adding the "),tt=t("em"),Gs=a("livereload script"),Ws=a("."),Us=i(),je=t("p"),qs=a("At this point, I was thinking to myself, "),st=t("em"),Ls=a(`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),Hs=i(),ot=t("p"),Ys=a("It turns out harder than I imagined. \u{1F92E}"),Jt=i(),k=t("section"),at=t("h2"),ee=t("a"),$s=a("Need something? Install a plugin!"),zs=i(),te=t("p"),Ks=a("In todays JavaScript landscape, there's a "),lt=t("em"),Fs=a('"node_module"'),Vs=a(" for everything."),Js=i(),N=t("p"),Qs=a("So I "),se=t("a"),Xs=a("googled"),Zs=i(),nt=t("em"),eo=a('"rollup plugin copy files"'),to=a(", without a suprise, there are multiple rollup plugins published to npm:"),so=i(),rt=t("p"),M=t("span"),Se=t("picture"),it=t("source"),b=t("img"),oo=i(),pt=t("p"),ao=a("So I decided to install the first plugin, because it has the highest weekly downloads:"),lo=i(),ct=t("p"),D=t("span"),Ae=t("picture"),ht=t("source"),I=t("img"),no=i(),dt=t("p"),ro=a("When I installed the plugin, I realise I was installing much more than I needed:"),io=i(),ut=t("p"),B=t("span"),Oe=t("picture"),kt=t("source"),S=t("img"),po=i(),vt=t("p"),co=a("Remember, my use case is simple:"),ho=i(),gt=t("blockquote"),yt=t("p"),ft=t("strong"),uo=a("I just need to copy the worker.js into the 'build/' folder."),ko=i(),oe=t("p"),vo=a("I "),_t=t("em"),go=a("don't need any bells and whistles"),yo=a(" this plugin is providing me. \u{1F648}"),fo=i(),mt=t("p"),_o=a("So I uninstalled the plugin, thinking:"),mo=i(),wt=t("blockquote"),G=t("p"),wo=a("How hard is it to "),xt=t("strong"),xo=a("write a plugin"),Eo=a(" that "),Et=t("strong"),bo=a("just"),Io=a(" copy the worker.js into the 'build/' folder?"),Qt=i(),h=t("section"),bt=t("h2"),ae=t("a"),Po=a("Writing a Rollup plugin"),jo=i(),le=t("p"),So=a("Senpai once told me, "),It=t("em"),Ao=a('"writing rollup plugins is very straightforward,"'),Oo=a(", yet, no one told me how to get started writing it."),Co=i(),P=t("p"),Ro=a("So, I dug into "),Ce=t("code"),To=a("node_modules/"),No=a(", and start skimming through the rollup plugins I have installed: "),ne=t("a"),Mo=a("rollup-plugin-svelte"),Do=a(", "),re=t("a"),Bo=a("rollup-plugin-node-resolve"),Go=a(", "),ie=t("a"),Wo=a("rollup-plugin-terser"),Uo=a(", ..."),qo=i(),Pt=t("p"),Lo=a("And I noticed a common pattern:"),Ho=i(),Re=t("div"),Yo=i(),jt=t("p"),$o=a("So I guess, this is the general structure of a rollup plugin:"),zo=i(),W=t("ul"),St=t("li"),Ko=a("It's an object, ..."),Fo=i(),pe=t("li"),Vo=a("with a property called "),Te=t("code"),Jo=a("name"),Qo=a(" for the name of the plugin,"),Xo=i(),U=t("li"),Zo=a("and functions like "),At=t("em"),ea=a('"load"'),ta=a(", "),Ot=t("em"),sa=a('"load"'),oa=a(", ... that would be called by rollup when the time is right \u{1F914}"),aa=i(),ce=t("p"),la=a("OK. I know what I need, I need to copy my "),Ne=t("code"),na=a("worker.js"),ra=a(" when rollup is generating a bundle:"),ia=i(),Me=t("div"),pa=i(),Ct=t("p"),ca=a("Great! It works! \u{1F60E}"),ha=i(),q=t("p"),da=a("But, when I change the "),De=t("code"),ua=a("worker.js"),ka=a(" file, the "),Be=t("code"),va=a("build/worker.js"),ga=a(" is not updated. \u{1F61E}"),ya=i(),he=t("p"),fa=a("That's because the "),Ge=t("code"),_a=a("worker.js"),ma=a(" is not watched!"),wa=i(),de=t("p"),xa=a("After much googling, I ended up reading through the official docs of "),ue=t("a"),Ea=a("Rollup"),ba=a("."),Ia=i(),A=t("p"),Pa=a("I learned that the functions like "),Rt=t("em"),ja=a('"load"'),Sa=a(", "),Tt=t("em"),Aa=a('"generateBundle"'),Oa=a(", ... are called "),ke=t("a"),Ca=a('"hooks"'),Ra=a(", and the docs explained when these hooks will be called, the arguments and the expected return value."),Ta=i(),L=t("p"),Na=a("In the docs, I found "),ve=t("a"),We=t("code"),Ma=a("this.addWatchFile(id: string)"),Da=a(" under "),ge=t("a"),Ba=a("plugin context"),Ga=a(", which according to the docs,"),Wa=i(),Nt=t("blockquote"),Mt=t("p"),Ua=a("[...] can be used to add additional files to be monitored by watch mode."),qa=i(),Dt=t("p"),La=a("Sounds exactly what I am looking for! \u{1F601}"),Ha=i(),Ue=t("div"),Ya=i(),Bt=t("p"),$a=a("Great! It works! \u{1F389}\u{1F389}"),Xt=i(),y=t("section"),Gt=t("h2"),ye=t("a"),za=a("Closing Notes"),Ka=i(),Wt=t("p"),Fa=a('After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),Va=i(),fe=t("p"),Ja=a("This is something custom and specific, and "),Ut=t("strong"),Qa=a("it works perfectly fine"),Xa=a("."),Za=i(),qt=t("p"),el=a("So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),tl=i(),Lt=t("p"),Ht=t("strong"),sl=a("Am I going to publish my plugin to npm?"),ol=i(),Yt=t("p"),al=a("No. If you have a similar use case, you are free to copy these 12 lines of code."),ll=i(),_e=t("p"),nl=a("At the moment, I am having these 12 lines of code in my "),qe=t("code"),rl=a("rollup.config.js"),il=a(" and have no intention to extract it out into its own package."),pl=i(),$t=t("p"),zt=t("strong"),cl=a("What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),hl=i(),H=t("p"),dl=a("Sorry. No. Before "),Kt=t("strong"),ul=a("DRY (Dont Repeat Yourself)"),kl=a(", there's "),Ft=t("strong"),vl=a("YAGNI (You aren't gonna need it)"),gl=a("."),yl=i(),Vt=t("p"),fl=a("Abstract code only when you need to."),this.h()},l(f){c=s(f,"SECTION",{});var v=n(c);j=s(v,"H2",{});var Al=n(j);x=s(Al,"A",{href:!0,id:!0});var Ol=n(x);z=l(Ol,"Background"),Ol.forEach(o),Al.forEach(o),_=p(v),w=s(v,"P",{});var Y=n(w);xe=l(Y,"I was building a web application using "),K=s(Y,"A",{href:!0,rel:!0});var Cl=n(K);hs=l(Cl,"Svelte"),Cl.forEach(o),ds=l(Y," and "),F=s(Y,"A",{href:!0,rel:!0});var Rl=n(F);us=l(Rl,"Rollup"),Rl.forEach(o),ks=l(Y," this morning. I needed to use a "),V=s(Y,"A",{href:!0,rel:!0});var Tl=n(V);vs=l(Tl,"web worker"),Tl.forEach(o),gs=l(Y,", which the worker script has to be in another file:"),Y.forEach(o),ys=p(v),Ee=s(v,"DIV",{class:!0});var kr=n(Ee);kr.forEach(o),fs=p(v),C=s(v,"P",{});var Le=n(C);_s=l(Le,"So naturally, I was thinking of having 2 entries for my rollup application: "),Qe=s(Le,"EM",{});var Nl=n(Qe);ms=l(Nl,"the main app"),Nl.forEach(o),ws=l(Le," and "),Xe=s(Le,"EM",{});var Ml=n(Xe);xs=l(Ml,"the worker"),Ml.forEach(o),Es=l(Le,"."),Le.forEach(o),bs=p(v),J=s(v,"P",{});var Zt=n(J);Is=l(Zt,"It works fine, except the fact that the "),Q=s(Zt,"A",{href:!0,rel:!0});var Dl=n(Q);Ps=l(Dl,"rollup-plugin-livereload"),Dl.forEach(o),js=l(Zt," injected a livereload script to every output file:"),Zt.forEach(o),Ss=p(v),be=s(v,"DIV",{class:!0});var vr=n(be);vr.forEach(o),As=p(v),X=s(v,"P",{});var es=n(X);Os=l(es,"The livereload script includes a reference to "),Ie=s(es,"CODE",{class:!0});var Bl=n(Ie);Cs=l(Bl,"window"),Bl.forEach(o),Rs=l(es,", which is not available to the worker script:"),es.forEach(o),Ts=p(v),Ze=s(v,"P",{});var Gl=n(Ze);R=s(Gl,"SPAN",{style:!0});var Wl=n(R);Pe=s(Wl,"PICTURE",{});var _l=n(Pe);et=s(_l,"SOURCE",{type:!0,srcset:!0}),E=s(_l,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),_l.forEach(o),Wl.forEach(o),Gl.forEach(o),Ns=p(v),T=s(v,"P",{});var He=n(T);Ms=l(He,"I looked into "),Z=s(He,"A",{href:!0,rel:!0});var Ul=n(Z);Ds=l(Ul,"the docs of the rollup-plugin-livereload"),Ul.forEach(o),Bs=l(He,", it doesn't seemed to have a option to exclude files from adding the "),tt=s(He,"EM",{});var ql=n(tt);Gs=l(ql,"livereload script"),ql.forEach(o),Ws=l(He,"."),He.forEach(o),Us=p(v),je=s(v,"P",{});var ml=n(je);qs=l(ml,"At this point, I was thinking to myself, "),st=s(ml,"EM",{});var Ll=n(st);Ls=l(Ll,`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),Ll.forEach(o),ml.forEach(o),Hs=p(v),ot=s(v,"P",{});var Hl=n(ot);Ys=l(Hl,"It turns out harder than I imagined. \u{1F92E}"),Hl.forEach(o),v.forEach(o),Jt=p(f),k=s(f,"SECTION",{});var g=n(k);at=s(g,"H2",{});var Yl=n(at);ee=s(Yl,"A",{href:!0,id:!0});var $l=n(ee);$s=l($l,"Need something? Install a plugin!"),$l.forEach(o),Yl.forEach(o),zs=p(g),te=s(g,"P",{});var ts=n(te);Ks=l(ts,"In todays JavaScript landscape, there's a "),lt=s(ts,"EM",{});var zl=n(lt);Fs=l(zl,'"node_module"'),zl.forEach(o),Vs=l(ts," for everything."),ts.forEach(o),Js=p(g),N=s(g,"P",{});var Ye=n(N);Qs=l(Ye,"So I "),se=s(Ye,"A",{href:!0,rel:!0});var Kl=n(se);Xs=l(Kl,"googled"),Kl.forEach(o),Zs=p(Ye),nt=s(Ye,"EM",{});var Fl=n(nt);eo=l(Fl,'"rollup plugin copy files"'),Fl.forEach(o),to=l(Ye,", without a suprise, there are multiple rollup plugins published to npm:"),Ye.forEach(o),so=p(g),rt=s(g,"P",{});var Vl=n(rt);M=s(Vl,"SPAN",{style:!0});var Jl=n(M);Se=s(Jl,"PICTURE",{});var wl=n(Se);it=s(wl,"SOURCE",{type:!0,srcset:!0}),b=s(wl,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),wl.forEach(o),Jl.forEach(o),Vl.forEach(o),oo=p(g),pt=s(g,"P",{});var Ql=n(pt);ao=l(Ql,"So I decided to install the first plugin, because it has the highest weekly downloads:"),Ql.forEach(o),lo=p(g),ct=s(g,"P",{});var Xl=n(ct);D=s(Xl,"SPAN",{style:!0});var Zl=n(D);Ae=s(Zl,"PICTURE",{});var xl=n(Ae);ht=s(xl,"SOURCE",{type:!0,srcset:!0}),I=s(xl,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),xl.forEach(o),Zl.forEach(o),Xl.forEach(o),no=p(g),dt=s(g,"P",{});var en=n(dt);ro=l(en,"When I installed the plugin, I realise I was installing much more than I needed:"),en.forEach(o),io=p(g),ut=s(g,"P",{});var tn=n(ut);B=s(tn,"SPAN",{style:!0});var sn=n(B);Oe=s(sn,"PICTURE",{});var El=n(Oe);kt=s(El,"SOURCE",{type:!0,srcset:!0}),S=s(El,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),El.forEach(o),sn.forEach(o),tn.forEach(o),po=p(g),vt=s(g,"P",{});var on=n(vt);co=l(on,"Remember, my use case is simple:"),on.forEach(o),ho=p(g),gt=s(g,"BLOCKQUOTE",{});var an=n(gt);yt=s(an,"P",{});var ln=n(yt);ft=s(ln,"STRONG",{});var nn=n(ft);uo=l(nn,"I just need to copy the worker.js into the 'build/' folder."),nn.forEach(o),ln.forEach(o),an.forEach(o),ko=p(g),oe=s(g,"P",{});var ss=n(oe);vo=l(ss,"I "),_t=s(ss,"EM",{});var rn=n(_t);go=l(rn,"don't need any bells and whistles"),rn.forEach(o),yo=l(ss," this plugin is providing me. \u{1F648}"),ss.forEach(o),fo=p(g),mt=s(g,"P",{});var pn=n(mt);_o=l(pn,"So I uninstalled the plugin, thinking:"),pn.forEach(o),mo=p(g),wt=s(g,"BLOCKQUOTE",{});var cn=n(wt);G=s(cn,"P",{});var $e=n(G);wo=l($e,"How hard is it to "),xt=s($e,"STRONG",{});var hn=n(xt);xo=l(hn,"write a plugin"),hn.forEach(o),Eo=l($e," that "),Et=s($e,"STRONG",{});var dn=n(Et);bo=l(dn,"just"),dn.forEach(o),Io=l($e," copy the worker.js into the 'build/' folder?"),$e.forEach(o),cn.forEach(o),g.forEach(o),Qt=p(f),h=s(f,"SECTION",{});var d=n(h);bt=s(d,"H2",{});var un=n(bt);ae=s(un,"A",{href:!0,id:!0});var kn=n(ae);Po=l(kn,"Writing a Rollup plugin"),kn.forEach(o),un.forEach(o),jo=p(d),le=s(d,"P",{});var os=n(le);So=l(os,"Senpai once told me, "),It=s(os,"EM",{});var vn=n(It);Ao=l(vn,'"writing rollup plugins is very straightforward,"'),vn.forEach(o),Oo=l(os,", yet, no one told me how to get started writing it."),os.forEach(o),Co=p(d),P=s(d,"P",{});var O=n(P);Ro=l(O,"So, I dug into "),Ce=s(O,"CODE",{class:!0});var gn=n(Ce);To=l(gn,"node_modules/"),gn.forEach(o),No=l(O,", and start skimming through the rollup plugins I have installed: "),ne=s(O,"A",{href:!0,rel:!0});var yn=n(ne);Mo=l(yn,"rollup-plugin-svelte"),yn.forEach(o),Do=l(O,", "),re=s(O,"A",{href:!0,rel:!0});var fn=n(re);Bo=l(fn,"rollup-plugin-node-resolve"),fn.forEach(o),Go=l(O,", "),ie=s(O,"A",{href:!0,rel:!0});var _n=n(ie);Wo=l(_n,"rollup-plugin-terser"),_n.forEach(o),Uo=l(O,", ..."),O.forEach(o),qo=p(d),Pt=s(d,"P",{});var mn=n(Pt);Lo=l(mn,"And I noticed a common pattern:"),mn.forEach(o),Ho=p(d),Re=s(d,"DIV",{class:!0});var gr=n(Re);gr.forEach(o),Yo=p(d),jt=s(d,"P",{});var wn=n(jt);$o=l(wn,"So I guess, this is the general structure of a rollup plugin:"),wn.forEach(o),zo=p(d),W=s(d,"UL",{});var ze=n(W);St=s(ze,"LI",{});var xn=n(St);Ko=l(xn,"It's an object, ..."),xn.forEach(o),Fo=p(ze),pe=s(ze,"LI",{});var as=n(pe);Vo=l(as,"with a property called "),Te=s(as,"CODE",{class:!0});var En=n(Te);Jo=l(En,"name"),En.forEach(o),Qo=l(as," for the name of the plugin,"),as.forEach(o),Xo=p(ze),U=s(ze,"LI",{});var Ke=n(U);Zo=l(Ke,"and functions like "),At=s(Ke,"EM",{});var bn=n(At);ea=l(bn,'"load"'),bn.forEach(o),ta=l(Ke,", "),Ot=s(Ke,"EM",{});var In=n(Ot);sa=l(In,'"load"'),In.forEach(o),oa=l(Ke,", ... that would be called by rollup when the time is right \u{1F914}"),Ke.forEach(o),ze.forEach(o),aa=p(d),ce=s(d,"P",{});var ls=n(ce);la=l(ls,"OK. I know what I need, I need to copy my "),Ne=s(ls,"CODE",{class:!0});var Pn=n(Ne);na=l(Pn,"worker.js"),Pn.forEach(o),ra=l(ls," when rollup is generating a bundle:"),ls.forEach(o),ia=p(d),Me=s(d,"DIV",{class:!0});var yr=n(Me);yr.forEach(o),pa=p(d),Ct=s(d,"P",{});var jn=n(Ct);ca=l(jn,"Great! It works! \u{1F60E}"),jn.forEach(o),ha=p(d),q=s(d,"P",{});var Fe=n(q);da=l(Fe,"But, when I change the "),De=s(Fe,"CODE",{class:!0});var Sn=n(De);ua=l(Sn,"worker.js"),Sn.forEach(o),ka=l(Fe," file, the "),Be=s(Fe,"CODE",{class:!0});var An=n(Be);va=l(An,"build/worker.js"),An.forEach(o),ga=l(Fe," is not updated. \u{1F61E}"),Fe.forEach(o),ya=p(d),he=s(d,"P",{});var ns=n(he);fa=l(ns,"That's because the "),Ge=s(ns,"CODE",{class:!0});var On=n(Ge);_a=l(On,"worker.js"),On.forEach(o),ma=l(ns," is not watched!"),ns.forEach(o),wa=p(d),de=s(d,"P",{});var rs=n(de);xa=l(rs,"After much googling, I ended up reading through the official docs of "),ue=s(rs,"A",{href:!0,rel:!0});var Cn=n(ue);Ea=l(Cn,"Rollup"),Cn.forEach(o),ba=l(rs,"."),rs.forEach(o),Ia=p(d),A=s(d,"P",{});var $=n(A);Pa=l($,"I learned that the functions like "),Rt=s($,"EM",{});var Rn=n(Rt);ja=l(Rn,'"load"'),Rn.forEach(o),Sa=l($,", "),Tt=s($,"EM",{});var Tn=n(Tt);Aa=l(Tn,'"generateBundle"'),Tn.forEach(o),Oa=l($,", ... are called "),ke=s($,"A",{href:!0,rel:!0});var Nn=n(ke);Ca=l(Nn,'"hooks"'),Nn.forEach(o),Ra=l($,", and the docs explained when these hooks will be called, the arguments and the expected return value."),$.forEach(o),Ta=p(d),L=s(d,"P",{});var Ve=n(L);Na=l(Ve,"In the docs, I found "),ve=s(Ve,"A",{href:!0,rel:!0});var Mn=n(ve);We=s(Mn,"CODE",{class:!0});var Dn=n(We);Ma=l(Dn,"this.addWatchFile(id: string)"),Dn.forEach(o),Mn.forEach(o),Da=l(Ve," under "),ge=s(Ve,"A",{href:!0,rel:!0});var Bn=n(ge);Ba=l(Bn,"plugin context"),Bn.forEach(o),Ga=l(Ve,", which according to the docs,"),Ve.forEach(o),Wa=p(d),Nt=s(d,"BLOCKQUOTE",{});var Gn=n(Nt);Mt=s(Gn,"P",{});var Wn=n(Mt);Ua=l(Wn,"[...] can be used to add additional files to be monitored by watch mode."),Wn.forEach(o),Gn.forEach(o),qa=p(d),Dt=s(d,"P",{});var Un=n(Dt);La=l(Un,"Sounds exactly what I am looking for! \u{1F601}"),Un.forEach(o),Ha=p(d),Ue=s(d,"DIV",{class:!0});var fr=n(Ue);fr.forEach(o),Ya=p(d),Bt=s(d,"P",{});var qn=n(Bt);$a=l(qn,"Great! It works! \u{1F389}\u{1F389}"),qn.forEach(o),d.forEach(o),Xt=p(f),y=s(f,"SECTION",{});var m=n(y);Gt=s(m,"H2",{});var Ln=n(Gt);ye=s(Ln,"A",{href:!0,id:!0});var Hn=n(ye);za=l(Hn,"Closing Notes"),Hn.forEach(o),Ln.forEach(o),Ka=p(m),Wt=s(m,"P",{});var Yn=n(Wt);Fa=l(Yn,'After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),Yn.forEach(o),Va=p(m),fe=s(m,"P",{});var is=n(fe);Ja=l(is,"This is something custom and specific, and "),Ut=s(is,"STRONG",{});var $n=n(Ut);Qa=l($n,"it works perfectly fine"),$n.forEach(o),Xa=l(is,"."),is.forEach(o),Za=p(m),qt=s(m,"P",{});var zn=n(qt);el=l(zn,"So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),zn.forEach(o),tl=p(m),Lt=s(m,"P",{});var Kn=n(Lt);Ht=s(Kn,"STRONG",{});var Fn=n(Ht);sl=l(Fn,"Am I going to publish my plugin to npm?"),Fn.forEach(o),Kn.forEach(o),ol=p(m),Yt=s(m,"P",{});var Vn=n(Yt);al=l(Vn,"No. If you have a similar use case, you are free to copy these 12 lines of code."),Vn.forEach(o),ll=p(m),_e=s(m,"P",{});var ps=n(_e);nl=l(ps,"At the moment, I am having these 12 lines of code in my "),qe=s(ps,"CODE",{class:!0});var Jn=n(qe);rl=l(Jn,"rollup.config.js"),Jn.forEach(o),il=l(ps," and have no intention to extract it out into its own package."),ps.forEach(o),pl=p(m),$t=s(m,"P",{});var Qn=n($t);zt=s(Qn,"STRONG",{});var Xn=n(zt);cl=l(Xn,"What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),Xn.forEach(o),Qn.forEach(o),hl=p(m),H=s(m,"P",{});var Je=n(H);dl=l(Je,"Sorry. No. Before "),Kt=s(Je,"STRONG",{});var Zn=n(Kt);ul=l(Zn,"DRY (Dont Repeat Yourself)"),Zn.forEach(o),kl=l(Je,", there's "),Ft=s(Je,"STRONG",{});var er=n(Ft);vl=l(er,"YAGNI (You aren't gonna need it)"),er.forEach(o),gl=l(Je,"."),Je.forEach(o),yl=p(m),Vt=s(m,"P",{});var tr=n(Vt);fl=l(tr,"Abstract code only when you need to."),tr.forEach(o),m.forEach(o),this.h()},h(){r(x,"href","#background"),r(x,"id","background"),r(K,"href","http://svelte.dev/"),r(K,"rel","nofollow"),r(F,"href","https://rollupjs.org/guide/en/"),r(F,"rel","nofollow"),r(V,"href","https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"),r(V,"rel","nofollow"),r(Ee,"class","code-section"),r(Q,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(Q,"rel","nofollow"),r(be,"class","code-section"),r(Ie,"class","inline"),r(et,"type","image/webp"),r(et,"srcset",Lr+", "+qr+" 2x"),cs(E.src,Il=rr)||r(E,"src",Il),r(E,"srcset",rr+", "+Hr+" 2x"),r(E,"loading","lazy"),u(E,"position","absolute"),u(E,"top","0"),u(E,"width","100%"),u(E,"height","100%"),r(E,"alt","window reference error"),r(E,"title","window is not defined"),u(R,"display","block"),u(R,"position","relative"),u(R,"padding-top","10.306%"),u(R,"width","100%"),r(Z,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(Z,"rel","nofollow"),r(ee,"href","#need-something-install-a-plugin"),r(ee,"id","need-something-install-a-plugin"),r(se,"href","https://www.google.com/search?q=rollup+plugin+copy+files"),r(se,"rel","nofollow"),r(it,"type","image/webp"),r(it,"srcset",Wr+", "+Gr+" 2x"),cs(b.src,Pl=nr)||r(b,"src",Pl),r(b,"srcset",nr+", "+Ur+" 2x"),r(b,"loading","lazy"),u(b,"position","absolute"),u(b,"top","0"),u(b,"width","100%"),u(b,"height","100%"),r(b,"alt","google search"),r(b,"title",'Google result for "rollup plugin copy files"'),u(M,"display","block"),u(M,"position","relative"),u(M,"padding-top","76.068%"),u(M,"width","100%"),r(ht,"type","image/webp"),r(ht,"srcset",Dr+", "+Mr+" 2x"),cs(I.src,jl=lr)||r(I,"src",jl),r(I,"srcset",lr+", "+Br+" 2x"),r(I,"loading","lazy"),u(I,"position","absolute"),u(I,"top","0"),u(I,"width","100%"),u(I,"height","100%"),r(I,"alt","rollup-plugin-copy weekly downloads"),r(I,"title","17K weekly downloads"),u(D,"display","block"),u(D,"position","relative"),u(D,"padding-top","132.234%"),u(D,"width","100%"),r(kt,"type","image/webp"),r(kt,"srcset",Tr+", "+Rr+" 2x"),cs(S.src,Sl=ar)||r(S,"src",Sl),r(S,"srcset",ar+", "+Nr+" 2x"),r(S,"loading","lazy"),u(S,"position","absolute"),u(S,"top","0"),u(S,"width","100%"),u(S,"height","100%"),r(S,"alt","rollup-plugin-copy dependencies"),u(B,"display","block"),u(B,"position","relative"),u(B,"padding-top","161.983%"),u(B,"width","100%"),r(ae,"href","#writing-a-rollup-plugin"),r(ae,"id","writing-a-rollup-plugin"),r(Ce,"class","inline"),r(ne,"href","https://github.com/sveltejs/rollup-plugin-svelte"),r(ne,"rel","nofollow"),r(re,"href","https://github.com/rollup/rollup-plugin-node-resolve"),r(re,"rel","nofollow"),r(ie,"href","https://github.com/TrySound/rollup-plugin-terser"),r(ie,"rel","nofollow"),r(Re,"class","code-section"),r(Te,"class","inline"),r(Ne,"class","inline"),r(Me,"class","code-section"),r(De,"class","inline"),r(Be,"class","inline"),r(Ge,"class","inline"),r(ue,"href","https://rollupjs.org/guide/en/#plugin-development"),r(ue,"rel","nofollow"),r(ke,"href","https://rollupjs.org/guide/en/#hooks"),r(ke,"rel","nofollow"),r(We,"class","inline"),r(ve,"href","https://rollupjs.org/guide/en/#thisaddwatchfileid-string--void"),r(ve,"rel","nofollow"),r(ge,"href","https://rollupjs.org/guide/en/#plugin-context"),r(ge,"rel","nofollow"),r(Ue,"class","code-section"),r(ye,"href","#closing-notes"),r(ye,"id","closing-notes"),r(qe,"class","inline")},m(f,v){me(f,c,v),e(c,j),e(j,x),e(x,z),e(c,_),e(c,w),e(w,xe),e(w,K),e(K,hs),e(w,ds),e(w,F),e(F,us),e(w,ks),e(w,V),e(V,vs),e(w,gs),e(c,ys),e(c,Ee),Ee.innerHTML=pr,e(c,fs),e(c,C),e(C,_s),e(C,Qe),e(Qe,ms),e(C,ws),e(C,Xe),e(Xe,xs),e(C,Es),e(c,bs),e(c,J),e(J,Is),e(J,Q),e(Q,Ps),e(J,js),e(c,Ss),e(c,be),be.innerHTML=cr,e(c,As),e(c,X),e(X,Os),e(X,Ie),e(Ie,Cs),e(X,Rs),e(c,Ts),e(c,Ze),e(Ze,R),e(R,Pe),e(Pe,et),e(Pe,E),e(c,Ns),e(c,T),e(T,Ms),e(T,Z),e(Z,Ds),e(T,Bs),e(T,tt),e(tt,Gs),e(T,Ws),e(c,Us),e(c,je),e(je,qs),e(je,st),e(st,Ls),e(c,Hs),e(c,ot),e(ot,Ys),me(f,Jt,v),me(f,k,v),e(k,at),e(at,ee),e(ee,$s),e(k,zs),e(k,te),e(te,Ks),e(te,lt),e(lt,Fs),e(te,Vs),e(k,Js),e(k,N),e(N,Qs),e(N,se),e(se,Xs),e(N,Zs),e(N,nt),e(nt,eo),e(N,to),e(k,so),e(k,rt),e(rt,M),e(M,Se),e(Se,it),e(Se,b),e(k,oo),e(k,pt),e(pt,ao),e(k,lo),e(k,ct),e(ct,D),e(D,Ae),e(Ae,ht),e(Ae,I),e(k,no),e(k,dt),e(dt,ro),e(k,io),e(k,ut),e(ut,B),e(B,Oe),e(Oe,kt),e(Oe,S),e(k,po),e(k,vt),e(vt,co),e(k,ho),e(k,gt),e(gt,yt),e(yt,ft),e(ft,uo),e(k,ko),e(k,oe),e(oe,vo),e(oe,_t),e(_t,go),e(oe,yo),e(k,fo),e(k,mt),e(mt,_o),e(k,mo),e(k,wt),e(wt,G),e(G,wo),e(G,xt),e(xt,xo),e(G,Eo),e(G,Et),e(Et,bo),e(G,Io),me(f,Qt,v),me(f,h,v),e(h,bt),e(bt,ae),e(ae,Po),e(h,jo),e(h,le),e(le,So),e(le,It),e(It,Ao),e(le,Oo),e(h,Co),e(h,P),e(P,Ro),e(P,Ce),e(Ce,To),e(P,No),e(P,ne),e(ne,Mo),e(P,Do),e(P,re),e(re,Bo),e(P,Go),e(P,ie),e(ie,Wo),e(P,Uo),e(h,qo),e(h,Pt),e(Pt,Lo),e(h,Ho),e(h,Re),Re.innerHTML=hr,e(h,Yo),e(h,jt),e(jt,$o),e(h,zo),e(h,W),e(W,St),e(St,Ko),e(W,Fo),e(W,pe),e(pe,Vo),e(pe,Te),e(Te,Jo),e(pe,Qo),e(W,Xo),e(W,U),e(U,Zo),e(U,At),e(At,ea),e(U,ta),e(U,Ot),e(Ot,sa),e(U,oa),e(h,aa),e(h,ce),e(ce,la),e(ce,Ne),e(Ne,na),e(ce,ra),e(h,ia),e(h,Me),Me.innerHTML=dr,e(h,pa),e(h,Ct),e(Ct,ca),e(h,ha),e(h,q),e(q,da),e(q,De),e(De,ua),e(q,ka),e(q,Be),e(Be,va),e(q,ga),e(h,ya),e(h,he),e(he,fa),e(he,Ge),e(Ge,_a),e(he,ma),e(h,wa),e(h,de),e(de,xa),e(de,ue),e(ue,Ea),e(de,ba),e(h,Ia),e(h,A),e(A,Pa),e(A,Rt),e(Rt,ja),e(A,Sa),e(A,Tt),e(Tt,Aa),e(A,Oa),e(A,ke),e(ke,Ca),e(A,Ra),e(h,Ta),e(h,L),e(L,Na),e(L,ve),e(ve,We),e(We,Ma),e(L,Da),e(L,ge),e(ge,Ba),e(L,Ga),e(h,Wa),e(h,Nt),e(Nt,Mt),e(Mt,Ua),e(h,qa),e(h,Dt),e(Dt,La),e(h,Ha),e(h,Ue),Ue.innerHTML=ur,e(h,Ya),e(h,Bt),e(Bt,$a),me(f,Xt,v),me(f,y,v),e(y,Gt),e(Gt,ye),e(ye,za),e(y,Ka),e(y,Wt),e(Wt,Fa),e(y,Va),e(y,fe),e(fe,Ja),e(fe,Ut),e(Ut,Qa),e(fe,Xa),e(y,Za),e(y,qt),e(qt,el),e(y,tl),e(y,Lt),e(Lt,Ht),e(Ht,sl),e(y,ol),e(y,Yt),e(Yt,al),e(y,ll),e(y,_e),e(_e,nl),e(_e,qe),e(qe,rl),e(_e,il),e(y,pl),e(y,$t),e($t,zt),e(zt,cl),e(y,hl),e(y,H),e(H,dl),e(H,Kt),e(Kt,ul),e(H,kl),e(H,Ft),e(Ft,vl),e(H,gl),e(y,yl),e(y,Vt),e(Vt,fl)},p:Or,d(f){f&&o(c),f&&o(Jt),f&&o(k),f&&o(Qt),f&&o(h),f&&o(Xt),f&&o(y)}}}function zr(we){let c,j;const x=[we[0],ir];let z={$$slots:{default:[$r]},$$scope:{ctx:we}};for(let _=0;_<x.length;_+=1)z=bl(z,x[_]);return c=new Cr({props:z}),{c(){xr(c.$$.fragment)},l(_){Er(c.$$.fragment,_)},m(_,w){br(c,_,w),j=!0},p(_,[w]){const xe=w&1?Ir(x,[w&1&&sr(_[0]),w&0&&sr(ir)]):{};w&2&&(xe.$$scope={dirty:w,ctx:_}),c.$set(xe)},i(_){j||(Pr(c.$$.fragment,_),j=!0)},o(_){jr(c.$$.fragment,_),j=!1},d(_){Sr(c,_)}}}const ir={title:"I wrote a 12-line Rollup plugin",date:"2019-11-30T08:00:00Z",description:"Why would I install a package with so many files and dependencies, just to do a something simple that can be done in 12 lines of code?",tags:["JavaScript","rollup","plugin"],label:"blog",tableOfContents:[{link:"background",title:"Background"},{link:"need-something-install-a-plugin",title:"Need something? Install a plugin!"},{link:"writing-a-rollup-plugin",title:"Writing a Rollup plugin"},{link:"closing-notes",title:"Closing Notes"}]};function Kr(we,c,j){return Ar("blog",{image:Yr}),we.$$set=x=>{j(0,c=bl(bl({},c),or(x)))},c=or(c),[c]}class Zr extends _r{constructor(c){super();mr(this,c,Kr,zr,wr,{})}}export{Zr as default,ir as metadata};
