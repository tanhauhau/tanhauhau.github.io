function e(){}function n(e,n){for(const a in n)e[a]=n[a];return e}function a(e){return e()}function t(){return Object.create(null)}function s(e){e.forEach(a)}function o(e){return"function"==typeof e}function r(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function c(e,a,t,s){return e[1]&&s?n(t.ctx.slice(),e[1](s(a))):t.ctx}function i(e,n,a,t,s,o,r){const i=function(e,n,a,t){if(e[2]&&t){const s=e[2](t(a));if(void 0===n.dirty)return s;if("object"==typeof s){const e=[],a=Math.max(n.dirty.length,s.length);for(let t=0;t<a;t+=1)e[t]=n.dirty[t]|s[t];return e}return n.dirty|s}return n.dirty}(n,t,s,o);if(i){const s=c(n,a,t,r);e.p(s,i)}}function p(e,n){e.appendChild(n)}function l(e,n,a){e.insertBefore(n,a||null)}function u(e){e.parentNode.removeChild(e)}function h(e,n){for(let a=0;a<e.length;a+=1)e[a]&&e[a].d(n)}function d(e){return document.createElement(e)}function f(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function g(){return m(" ")}function k(){return m("")}function w(e,n,a){null==a?e.removeAttribute(n):e.getAttribute(n)!==a&&e.setAttribute(n,a)}function v(e){return Array.from(e.childNodes)}function b(e,n,a,t){for(let t=0;t<e.length;t+=1){const s=e[t];if(s.nodeName===n){let n=0;const o=[];for(;n<s.attributes.length;){const e=s.attributes[n++];a[e.name]||o.push(e.name)}for(let e=0;e<o.length;e++)s.removeAttribute(o[e]);return e.splice(t,1)[0]}}return t?f(n):d(n)}function E(e,n){for(let a=0;a<e.length;a+=1){const t=e[a];if(3===t.nodeType)return t.data=""+n,e.splice(a,1)[0]}return m(n)}function y(e){return E(e," ")}function I(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function T(e,n){e.value=null==n?"":n}class A{constructor(e=null){this.a=e,this.e=this.n=null}m(e,n,a=null){this.e||(this.e=d(n.nodeName),this.t=n,this.h(e)),this.i(a)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)l(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(u)}}let x;function j(e){x=e}function $(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const P=[],O=[],C=[],S=[],_=Promise.resolve();let L=!1;function R(e){C.push(e)}let N=!1;const M=new Set;function D(){if(!N){N=!0;do{for(let e=0;e<P.length;e+=1){const n=P[e];j(n),H(n.$$)}for(P.length=0;O.length;)O.pop()();for(let e=0;e<C.length;e+=1){const n=C[e];M.has(n)||(M.add(n),n())}C.length=0}while(P.length);for(;S.length;)S.pop()();L=!1,N=!1,M.clear()}}function H(e){if(null!==e.fragment){e.update(),s(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(R)}}const B=new Set;function q(e,n){e&&e.i&&(B.delete(e),e.i(n))}function F(e,n,a,t){if(e&&e.o){if(B.has(e))return;B.add(e),(void 0).c.push(()=>{B.delete(e),t&&(a&&e.d(1),t())}),e.o(n)}}function G(e){e&&e.c()}function z(e,n){e&&e.l(n)}function U(e,n,t){const{fragment:r,on_mount:c,on_destroy:i,after_update:p}=e.$$;r&&r.m(n,t),R(()=>{const n=c.map(a).filter(o);i?i.push(...n):s(n),e.$$.on_mount=[]}),p.forEach(R)}function W(e,n){const a=e.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(n),a.on_destroy=a.fragment=null,a.ctx=[])}function V(e,n){-1===e.$$.dirty[0]&&(P.push(e),L||(L=!0,_.then(D)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function J(n,a,o,r,c,i,p=[-1]){const l=x;j(n);const h=a.props||{},d=n.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:t(),dirty:p};let f=!1;if(d.ctx=o?o(n,h,(e,a,...t)=>{const s=t.length?t[0]:a;return d.ctx&&c(d.ctx[e],d.ctx[e]=s)&&(d.bound[e]&&d.bound[e](s),f&&V(n,e)),a}):[],d.update(),f=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),a.target){if(a.hydrate){const e=v(a.target);d.fragment&&d.fragment.l(e),e.forEach(u)}else d.fragment&&d.fragment.c();a.intro&&q(n.$$.fragment),U(n,a.target,a.anchor),D()}j(l)}class K{$destroy(){W(this,1),this.$destroy=e}$on(e,n){const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const e=a.indexOf(n);-1!==e&&a.splice(e,1)}}$set(){}}function Y(n){let a,t,s,o,r,c,i,h,k,I,T,A,x,j,$,P,O,C,S,_,L,R,N,M,D,H,B,q,F,G,z,U,W,V,J;return{c(){a=d("header"),t=d("nav"),s=d("ul"),o=d("li"),r=d("a"),c=m("Tan Li Hau"),i=g(),h=d("li"),k=d("a"),I=m("About"),T=g(),A=d("li"),x=d("a"),j=m("Writings"),$=g(),P=d("li"),O=d("a"),C=m("Talks"),S=g(),_=d("li"),L=d("a"),R=m("Notes"),N=g(),M=d("li"),D=d("a"),H=m("Newsletter"),B=g(),q=d("li"),F=d("a"),G=f("svg"),z=f("path"),U=g(),W=d("a"),V=f("svg"),J=f("path"),this.h()},l(e){a=b(e,"HEADER",{class:!0});var n=v(a);t=b(n,"NAV",{});var p=v(t);s=b(p,"UL",{class:!0});var l=v(s);o=b(l,"LI",{class:!0});var d=v(o);r=b(d,"A",{href:!0,class:!0});var f=v(r);c=E(f,"Tan Li Hau"),f.forEach(u),d.forEach(u),i=y(l),h=b(l,"LI",{class:!0});var m=v(h);k=b(m,"A",{href:!0,class:!0});var g=v(k);I=E(g,"About"),g.forEach(u),m.forEach(u),T=y(l),A=b(l,"LI",{class:!0});var w=v(A);x=b(w,"A",{href:!0,class:!0});var K=v(x);j=E(K,"Writings"),K.forEach(u),w.forEach(u),$=y(l),P=b(l,"LI",{class:!0});var Y=v(P);O=b(Y,"A",{href:!0,class:!0});var Q=v(O);C=E(Q,"Talks"),Q.forEach(u),Y.forEach(u),S=y(l),_=b(l,"LI",{class:!0});var Z=v(_);L=b(Z,"A",{href:!0,class:!0});var X=v(L);R=E(X,"Notes"),X.forEach(u),Z.forEach(u),N=y(l),M=b(l,"LI",{class:!0});var ee=v(M);D=b(ee,"A",{href:!0,class:!0});var ne=v(D);H=E(ne,"Newsletter"),ne.forEach(u),ee.forEach(u),B=y(l),q=b(l,"LI",{class:!0});var ae=v(q);F=b(ae,"A",{"aria-label":!0,href:!0,class:!0});var te=v(F);G=b(te,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var se=v(G);z=b(se,"path",{d:!0},1),v(z).forEach(u),se.forEach(u),te.forEach(u),U=y(ae),W=b(ae,"A",{"aria-label":!0,href:!0,class:!0});var oe=v(W);V=b(oe,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var re=v(V);J=b(re,"path",{d:!0},1),v(J).forEach(u),re.forEach(u),oe.forEach(u),ae.forEach(u),l.forEach(u),p.forEach(u),n.forEach(u),this.h()},h(){w(r,"href","/"),w(r,"class","svelte-f3e4uo"),w(o,"class","svelte-f3e4uo"),w(k,"href","/about"),w(k,"class","svelte-f3e4uo"),w(h,"class","svelte-f3e4uo"),w(x,"href","/blogs"),w(x,"class","svelte-f3e4uo"),w(A,"class","svelte-f3e4uo"),w(O,"href","/talks"),w(O,"class","svelte-f3e4uo"),w(P,"class","svelte-f3e4uo"),w(L,"href","/notes"),w(L,"class","svelte-f3e4uo"),w(_,"class","svelte-f3e4uo"),w(D,"href","/newsletter"),w(D,"class","svelte-f3e4uo"),w(M,"class","svelte-f3e4uo"),w(z,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),w(G,"viewBox","0 0 24 24"),w(G,"width","1em"),w(G,"height","1em"),w(G,"class","svelte-f3e4uo"),w(F,"aria-label","Twitter account"),w(F,"href","https://twitter.com/lihautan"),w(F,"class","svelte-f3e4uo"),w(J,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),w(V,"viewBox","0 0 24 24"),w(V,"width","1em"),w(V,"height","1em"),w(V,"class","svelte-f3e4uo"),w(W,"aria-label","Github account"),w(W,"href","https://github.com/tanhauhau"),w(W,"class","svelte-f3e4uo"),w(q,"class","social svelte-f3e4uo"),w(s,"class","svelte-f3e4uo"),w(a,"class","svelte-f3e4uo")},m(e,n){l(e,a,n),p(a,t),p(t,s),p(s,o),p(o,r),p(r,c),p(s,i),p(s,h),p(h,k),p(k,I),p(s,T),p(s,A),p(A,x),p(x,j),p(s,$),p(s,P),p(P,O),p(O,C),p(s,S),p(s,_),p(_,L),p(L,R),p(s,N),p(s,M),p(M,D),p(D,H),p(s,B),p(s,q),p(q,F),p(F,G),p(G,z),p(q,U),p(q,W),p(W,V),p(V,J)},p:e,i:e,o:e,d(e){e&&u(a)}}}class Q extends K{constructor(e){super(),J(this,e,null,Y,r,{})}}function Z(n){let a,t,s,o,r,c,i,h,f,k,I,A,x,j,$,P,O,C,S,_;return{c(){a=d("div"),t=d("h1"),s=m("Subscribe to my newsletter"),o=g(),r=d("h2"),c=m("Get the latest blog posts and project updates delivered right to your inbox"),i=g(),h=d("form"),f=d("div"),k=d("input"),I=g(),A=d("input"),j=g(),$=d("input"),P=g(),O=d("p"),C=m("Powered by Buttondown."),this.h()},l(e){a=b(e,"DIV",{class:!0});var n=v(a);t=b(n,"H1",{});var p=v(t);s=E(p,"Subscribe to my newsletter"),p.forEach(u),o=y(n),r=b(n,"H2",{class:!0});var l=v(r);c=E(l,"Get the latest blog posts and project updates delivered right to your inbox"),l.forEach(u),i=y(n),h=b(n,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var d=v(h);f=b(d,"DIV",{class:!0});var m=v(f);k=b(m,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),I=y(m),A=b(m,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),m.forEach(u),j=y(d),$=b(d,"INPUT",{type:!0,value:!0,name:!0,class:!0}),P=y(d),O=b(d,"P",{class:!0});var g=v(O);C=E(g,"Powered by Buttondown."),g.forEach(u),d.forEach(u),n.forEach(u),this.h()},h(){w(r,"class","svelte-1k1s1co"),w(k,"type","email"),w(k,"name","email"),w(k,"id","bd-email"),w(k,"aria-label","email address"),w(k,"placeholder","youremail@example.com"),w(k,"class","svelte-1k1s1co"),w(A,"type","submit"),A.value="Subscribe",A.disabled=x=!n[0],w(A,"class","svelte-1k1s1co"),w(f,"class","form-item svelte-1k1s1co"),w($,"type","hidden"),$.value="1",w($,"name","embed"),w($,"class","svelte-1k1s1co"),w(O,"class","svelte-1k1s1co"),w(h,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),w(h,"method","post"),w(h,"target","popupwindow"),w(h,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),w(h,"class","embeddable-buttondown-form"),w(a,"class","form svelte-1k1s1co")},m(e,u){var d,m,g,w;l(e,a,u),p(a,t),p(t,s),p(a,o),p(a,r),p(r,c),p(a,i),p(a,h),p(h,f),p(f,k),T(k,n[0]),p(f,I),p(f,A),p(h,j),p(h,$),p(h,P),p(h,O),p(O,C),S||(d=k,m="input",g=n[1],d.addEventListener(m,g,w),_=()=>d.removeEventListener(m,g,w),S=!0)},p(e,[n]){1&n&&k.value!==e[0]&&T(k,e[0]),1&n&&x!==(x=!e[0])&&(A.disabled=x)},i:e,o:e,d(e){e&&u(a),S=!1,_()}}}function X(e,n,a){let t;return[t,function(){t=this.value,a(0,t)}]}class ee extends K{constructor(e){super(),J(this,e,X,Z,r,{})}}function ne(e){return $(()=>(setTimeout(()=>{if(window.innerWidth>1080){const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",e.id="_carbonads_js",document.body.appendChild(e)}},5e3),()=>{try{const e=document.getElementById("carbonads");e.parentNode.removeChild(e)}catch(e){}})),[]}class ae extends K{constructor(e){super(),J(this,e,ne,null,r,{})}}var te="https://lihautan.com/debugging-build-failed-error-from-terser/assets/hero-twitter-3dd2a5b4.jpg";function se(e,n,a){const t=e.slice();return t[6]=n[a],t}function oe(e,n,a){const t=e.slice();return t[6]=n[a],t}function re(e){let n,a;return{c(){n=d("meta"),this.h()},l(e){n=b(e,"META",{name:!0,content:!0}),this.h()},h(){w(n,"name","keywords"),w(n,"content",a=e[6])},m(e,a){l(e,n,a)},p(e,t){4&t&&a!==(a=e[6])&&w(n,"content",a)},d(e){e&&u(n)}}}function ce(e){let n,a,t=e[6]+"";return{c(){n=d("span"),a=m(t),this.h()},l(e){n=b(e,"SPAN",{class:!0});var s=v(n);a=E(s,t),s.forEach(u),this.h()},h(){w(n,"class","svelte-9tqnza")},m(e,t){l(e,n,t),p(n,a)},p(e,n){4&n&&t!==(t=e[6]+"")&&I(a,t)},d(e){e&&u(n)}}}function ie(e){let n,a,t,s,o,r,f,T,x,j,$,P,O,C,S,_,L,R,N,M,D,H,B,V,J,K,Y,Z,X,ne,ie,pe,le,ue,he,de,fe=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`,me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fdebugging-build-failed-error-from-terser",name:e[0]},name:e[0],position:2}]})}<\/script>`;document.title=n=e[0]+" | Tan Li Hau";let ge=e[2],ke=[];for(let n=0;n<ge.length;n+=1)ke[n]=re(oe(e,ge,n));B=new Q({});let we=e[2],ve=[];for(let n=0;n<we.length;n+=1)ve[n]=ce(se(e,we,n));const be=e[5].default,Ee=function(e,n,a,t){if(e){const s=c(e,n,a,t);return e[0](s)}}(be,e,e[4],null);return le=new ee({}),he=new ae({}),{c(){a=d("meta"),t=d("meta"),s=d("meta"),o=d("meta"),r=d("meta"),f=d("meta"),T=d("meta"),x=d("meta"),j=d("meta"),$=d("meta"),P=d("meta");for(let e=0;e<ke.length;e+=1)ke[e].c();O=d("meta"),C=d("meta"),_=k(),R=k(),N=g(),M=d("a"),D=m("Skip to content"),H=g(),G(B.$$.fragment),V=g(),J=d("main"),K=d("h1"),Y=m(e[0]),Z=g();for(let e=0;e<ve.length;e+=1)ve[e].c();X=g(),ne=d("article"),Ee&&Ee.c(),ie=g(),pe=d("footer"),G(le.$$.fragment),ue=g(),G(he.$$.fragment),this.h()},l(n){const c=function(e,n=document.body){return Array.from(n.querySelectorAll(e))}('[data-svelte="svelte-15e3uyc"]',document.head);a=b(c,"META",{name:!0,content:!0}),t=b(c,"META",{name:!0,content:!0}),s=b(c,"META",{name:!0,content:!0}),o=b(c,"META",{name:!0,content:!0}),r=b(c,"META",{name:!0,content:!0}),f=b(c,"META",{name:!0,content:!0}),T=b(c,"META",{name:!0,content:!0}),x=b(c,"META",{name:!0,content:!0}),j=b(c,"META",{name:!0,content:!0}),$=b(c,"META",{name:!0,content:!0}),P=b(c,"META",{name:!0,content:!0});for(let e=0;e<ke.length;e+=1)ke[e].l(c);O=b(c,"META",{itemprop:!0,content:!0}),C=b(c,"META",{itemprop:!0,content:!0}),_=k(),R=k(),c.forEach(u),N=y(n),M=b(n,"A",{href:!0,class:!0});var i=v(M);D=E(i,"Skip to content"),i.forEach(u),H=y(n),z(B.$$.fragment,n),V=y(n),J=b(n,"MAIN",{id:!0,class:!0});var p=v(J);K=b(p,"H1",{});var l=v(K);Y=E(l,e[0]),l.forEach(u),Z=y(p);for(let e=0;e<ve.length;e+=1)ve[e].l(p);X=y(p),ne=b(p,"ARTICLE",{});var h=v(ne);Ee&&Ee.l(h),h.forEach(u),p.forEach(u),ie=y(n),pe=b(n,"FOOTER",{class:!0});var d=v(pe);z(le.$$.fragment,d),ue=y(d),z(he.$$.fragment,d),d.forEach(u),this.h()},h(){w(a,"name","description"),w(a,"content",e[1]),w(t,"name","image"),w(t,"content",te),w(s,"name","og:image"),w(s,"content",te),w(o,"name","og:title"),w(o,"content",e[0]),w(r,"name","og:description"),w(r,"content",e[1]),w(f,"name","og:type"),w(f,"content","website"),w(T,"name","twitter:card"),w(T,"content","summary_large_image"),w(x,"name","twitter:creator"),w(x,"content","@lihautan"),w(j,"name","twitter:title"),w(j,"content",e[0]),w($,"name","twitter:description"),w($,"content",e[1]),w(P,"name","twitter:image"),w(P,"content",te),w(O,"itemprop","url"),w(O,"content","https%3A%2F%2Flihautan.com%2Fdebugging-build-failed-error-from-terser"),w(C,"itemprop","image"),w(C,"content",te),S=new A(_),L=new A(R),w(M,"href","#content"),w(M,"class","skip svelte-9tqnza"),w(J,"id","content"),w(J,"class","blog svelte-9tqnza"),w(pe,"class","svelte-9tqnza")},m(e,n){p(document.head,a),p(document.head,t),p(document.head,s),p(document.head,o),p(document.head,r),p(document.head,f),p(document.head,T),p(document.head,x),p(document.head,j),p(document.head,$),p(document.head,P);for(let e=0;e<ke.length;e+=1)ke[e].m(document.head,null);p(document.head,O),p(document.head,C),S.m(fe,document.head),p(document.head,_),L.m(me,document.head),p(document.head,R),l(e,N,n),l(e,M,n),p(M,D),l(e,H,n),U(B,e,n),l(e,V,n),l(e,J,n),p(J,K),p(K,Y),p(J,Z);for(let e=0;e<ve.length;e+=1)ve[e].m(J,null);p(J,X),p(J,ne),Ee&&Ee.m(ne,null),l(e,ie,n),l(e,pe,n),U(le,pe,null),p(pe,ue),U(he,pe,null),de=!0},p(e,[t]){if((!de||1&t)&&n!==(n=e[0]+" | Tan Li Hau")&&(document.title=n),(!de||2&t)&&w(a,"content",e[1]),(!de||1&t)&&w(o,"content",e[0]),(!de||2&t)&&w(r,"content",e[1]),(!de||1&t)&&w(j,"content",e[0]),(!de||2&t)&&w($,"content",e[1]),4&t){let n;for(ge=e[2],n=0;n<ge.length;n+=1){const a=oe(e,ge,n);ke[n]?ke[n].p(a,t):(ke[n]=re(a),ke[n].c(),ke[n].m(O.parentNode,O))}for(;n<ke.length;n+=1)ke[n].d(1);ke.length=ge.length}if((!de||3&t)&&fe!==(fe=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`)&&S.p(fe),(!de||1&t)&&me!==(me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fdebugging-build-failed-error-from-terser",name:e[0]},name:e[0],position:2}]})}<\/script>`)&&L.p(me),(!de||1&t)&&I(Y,e[0]),4&t){let n;for(we=e[2],n=0;n<we.length;n+=1){const a=se(e,we,n);ve[n]?ve[n].p(a,t):(ve[n]=ce(a),ve[n].c(),ve[n].m(J,X))}for(;n<ve.length;n+=1)ve[n].d(1);ve.length=we.length}Ee&&Ee.p&&16&t&&i(Ee,be,e,e[4],t,null,null)},i(e){de||(q(B.$$.fragment,e),q(Ee,e),q(le.$$.fragment,e),q(he.$$.fragment,e),de=!0)},o(e){F(B.$$.fragment,e),F(Ee,e),F(le.$$.fragment,e),F(he.$$.fragment,e),de=!1},d(e){u(a),u(t),u(s),u(o),u(r),u(f),u(T),u(x),u(j),u($),u(P),h(ke,e),u(O),u(C),u(_),e&&S.d(),u(R),e&&L.d(),e&&u(N),e&&u(M),e&&u(H),W(B,e),e&&u(V),e&&u(J),h(ve,e),Ee&&Ee.d(e),e&&u(ie),e&&u(pe),W(le),W(he)}}}function pe(e,n,a){let{title:t=""}=n,{description:s=""}=n,{tags:o=[]}=n;const r={"@type":"Person",name:"Tan Li Hau"};let{$$slots:c={},$$scope:i}=n;return e.$set=e=>{"title"in e&&a(0,t=e.title),"description"in e&&a(1,s=e.description),"tags"in e&&a(2,o=e.tags),"$$scope"in e&&a(4,i=e.$$scope)},[t,s,o,r,i,c]}class le extends K{constructor(e){super(),J(this,e,pe,ie,r,{title:0,description:1,tags:2})}}function ue(n){let a,t,s,o,r,c,i,h,f,k,I,T,A,x,j,$,P,O,C,S,_,L,R,N,M,D,H,B,q,F,G,z,U,W,V,J,K,Y,Q,Z,X,ee,ne,ae,te,se,oe,re,ce,ie,pe,le,ue,he,de,fe,me,ge,ke,we,ve,be,Ee,ye,Ie,Te,Ae,xe,je,$e,Pe,Oe,Ce,Se,_e,Le,Re,Ne,Me,De,He,Be,qe,Fe,Ge,ze,Ue,We,Ve,Je,Ke,Ye,Qe,Ze,Xe,en,nn,an,tn,sn,on,rn,cn,pn,ln,un,hn,dn,fn,mn,gn,kn,wn,vn,bn,En,yn,In,Tn,An,xn,jn,$n,Pn,On,Cn,Sn,_n,Ln,Rn,Nn,Mn,Dn,Hn,Bn,qn,Fn,Gn,zn,Un,Wn,Vn,Jn,Kn,Yn,Qn,Zn,Xn,ea,na,aa,ta,sa,oa,ra,ca,ia,pa,la,ua,ha,da,fa,ma,ga,ka,wa,va,ba,Ea,ya,Ia,Ta,Aa,xa,ja,$a,Pa,Oa,Ca,Sa,_a,La,Ra,Na,Ma,Da,Ha,Ba,qa,Fa,Ga,za,Ua,Wa,Va,Ja,Ka,Ya,Qa,Za,Xa,et,nt,at,tt,st,ot,rt,ct,it,pt,lt,ut,ht,dt,ft,mt,gt,kt,wt,vt,bt,Et,yt,It,Tt,At,xt,jt,$t,Pt,Ot,Ct,St,_t,Lt,Rt,Nt,Mt,Dt,Ht,Bt,qt,Ft,Gt,zt,Ut,Wt,Vt,Jt,Kt,Yt,Qt,Zt,Xt,es,ns,as,ts,ss,os,rs,cs,is,ps,ls,us,hs,ds,fs,ms,gs,ks,ws,vs,bs,Es,ys,Is,Ts,As,xs,js,$s,Ps,Os,Cs,Ss,_s,Ls,Rs,Ns,Ms,Ds,Hs,Bs,qs,Fs,Gs,zs,Us,Ws,Vs,Js,Ks,Ys,Qs,Zs,Xs,eo,no,ao,to,so,oo,ro,co,io,po,lo,uo,ho,fo,mo,go,ko,wo,vo,bo,Eo,yo,Io,To,Ao,xo,jo,$o,Po,Oo,Co,So,_o,Lo,Ro,No,Mo,Do,Ho,Bo,qo,Fo,Go,zo,Uo,Wo,Vo,Jo,Ko,Yo,Qo,Zo,Xo,er,nr,ar;return{c(){a=d("section"),t=d("ul"),s=d("li"),o=d("a"),r=m("Act I - The First Attempt"),c=d("li"),i=d("a"),h=m("Act II - terser-webpack-plugin"),f=d("li"),k=d("a"),I=m("Act III - Terser"),T=d("li"),A=d("a"),x=m("Final Act - The Resolution"),j=d("li"),$=d("a"),P=m("Closing Note"),O=g(),C=d("p"),S=m("The following is a record of the steps I went through when debugging a build-time bug I encountered during work."),_=g(),L=d("p"),R=m("It all started with an error message during the build."),N=g(),M=d("pre"),D=g(),H=d("p"),B=m("What is wrong with Terser and our code?"),q=g(),F=d("p"),G=d("strong"),z=m("I must find the root cause of this!"),U=g(),W=d("section"),V=d("h2"),J=d("a"),K=m("Act I - The First Attempt"),Y=g(),Q=d("p"),Z=m("We used Terser to minify our build code. It was part of our webpack pipeline, installed through "),X=d("code"),ee=m("terser-webpack-plugin"),ne=m(". Since terser is throwing an error, so I disabled "),ae=d("code"),te=m("terser-webpack-plugin"),se=m(" and build again."),oe=g(),re=d("pre"),ce=g(),ie=d("p"),pe=m("Ok. The build was successful. Nothing wrong with the code nor the build."),le=g(),ue=d("p"),he=m("So, I run the terser manually:"),de=g(),fe=d("pre"),me=g(),ge=d("p"),ke=m("The console output an error that was cryptic"),we=g(),ve=d("pre"),be=g(),Ee=d("p"),ye=m("I clicked into the terser source code to see what was going wrong over there. "),Ie=d("em"),Te=m("(Maybe it's my chance to contribute to terser?)"),Ae=g(),xe=d("p"),je=m("Little did I know, how wrong I could be."),$e=g(),Pe=d("p"),Oe=d("code"),Ce=m("terser/dist/bundle.js"),Se=m(" was a minified code and it wasn't meant for humans eyes üò≠"),_e=g(),Le=d("p"),Re=m("Allow me to share a small snippet of what I saw:"),Ne=g(),Me=d("pre"),De=g(),He=d("p"),Be=m("At this point in time, I had another meeting to attend, so I stopped at this juncture."),qe=g(),Fe=d("p"),Ge=m("On my way there, I was thinking, well, maybe I should probe this later in another direction."),ze=g(),Ue=d("section"),We=d("h2"),Ve=d("a"),Je=m("Act II - terser-webpack-plugin"),Ke=g(),Ye=d("p"),Qe=m("After the meeting, I was thinking, well let me reenable the terser plugin, and try to probe through the plugin."),Ze=g(),Xe=d("p"),en=m("Remember the error message: "),nn=d("code"),an=m('"ERROR in bundle.xxxx.js from Terser"'),tn=m(" ?"),sn=g(),on=d("p"),rn=m("I looked into the "),cn=d("code"),pn=m("node_modules/terser-webpack/plugin/dist/index.js"),ln=m(" and search for the word "),un=d("code"),hn=m('"from Terser"'),dn=m("."),fn=g(),mn=d("p"),gn=d("strong"),kn=m("Tip:"),wn=m(" Usually when you want to debug a library installed in "),vn=d("code"),bn=m("node_modules"),En=m(", you can first look at the "),yn=d("code"),In=m("package.json"),Tn=m(", it usually has an entry called "),An=d("code"),xn=m('"main"'),jn=m(" that tells you the entry file to first look into. The main file usually exports all the public API that you use, so it is a good place to start diving into."),$n=g(),Pn=d("p"),On=m("So I found the line:"),Cn=g(),Sn=d("pre"),_n=g(),Ln=d("p"),Rn=m("After adding logs "),Nn=d("code"),Mn=m("console.log(err)"),Dn=m(" and run the build again, I realised the err is an empty object "),Hn=d("code"),Bn=m("{}"),qn=m(", which explained why I saw "),Fn=d("code"),Gn=m("undefined"),zn=m(" after the "),Un=d("code"),Wn=m("ERROR in ... from Terser"),Vn=m("."),Jn=g(),Kn=d("p"),Yn=m("So, I slowly traced back the caller, and find out where this "),Qn=d("code"),Zn=m("err"),Xn=m(" object was initially created."),ea=g(),na=d("p"),aa=d("strong"),ta=m("Tip:"),sa=m(" To trace the callers of a function that leads up to a certain state of your application, you can:"),oa=g(),ra=d("ul"),ca=d("li"),ia=m("Use a "),pa=d("a"),la=m("conditional breakpoint"),ua=m(" if you are debugging through a debugger"),ha=g(),da=d("li"),fa=m("Throw an error within a try catch"),ma=g(),ga=d("pre"),ka=g(),wa=d("p"),va=m("This is especially useful if you are tracing an unfamiliar code, you can quickly get a call stack that leads up to the current condition."),ba=g(),Ea=d("p"),ya=m("After tracing through the call stack, I ended up at the line where the "),Ia=d("code"),Ta=m("terser-webpack-plugin"),Aa=m(" calls the terser, and when I logged out the error, it shows:"),xa=g(),ja=d("pre"),$a=g(),Pa=d("p"),Oa=m("So familiar! After an hour of tracing and debugging, I ended up at the same place."),Ca=g(),Sa=d("p"),_a=d("strong"),La=m("Note:"),Ra=m(" the error must have lost somewhere from the terser to the actual print out of "),Na=d("code"),Ma=m("terser-webpack-plugin"),Da=m(", it might have fixed in a later version of "),Ha=d("code"),Ba=m("terser-webpack-plugin"),qa=m(", but I'm not sure of it yet. Anyone interested can help check."),Fa=g(),Ga=d("section"),za=d("h2"),Ua=d("a"),Wa=m("Act III - Terser"),Va=g(),Ja=d("p"),Ka=m("The circumstances left me with no choice. I needed to face the cryptic minified code."),Ya=g(),Qa=d("p"),Za=m("Luckily VSCode still able to open the huge minified file, and able to set the cursor to the right line and column:"),Xa=g(),et=d("pre"),nt=g(),at=d("p"),tt=m("(By the way, in the minified code, all the code is in one line. ü§¶‚Äç‚ôÇÔ∏è)"),st=g(),ot=d("p"),rt=m("Well, this may seem like the right place to throw the "),ct=d("code"),it=m("\"Cannot read property 'name' of undefined\""),pt=m(" error."),lt=g(),ut=d("p"),ht=m("To understand what is going on in this line, I cloned "),dt=d("a"),ft=m("terser"),mt=m(", checked out to the version tag that was installed in our codebase, and tried to figure out where that line was in the original code."),gt=g(),kt=d("p"),wt=d("strong"),vt=m("Tip:"),bt=m(" String, property and method names are usually the best marker to trace a "),Et=d("a"),yt=m("mangled code"),It=m(". Even though all the variables have mangled into a single character variable name, you can still clearly see the method "),Tt=d("code"),At=m("has_directive()"),xt=m(" and the string "),jt=d("code"),$t=m('"use strict"'),Pt=m("."),Ot=g(),Ct=d("p"),St=m("Conversely, please don't write long windy property / method names, it doesn't mangle well."),_t=g(),Lt=d("p"),Rt=m("So I global searched the keyword "),Nt=d("code"),Mt=m('has_directive("use strict")'),Dt=m(" and landed with a small number of results, which I looked through every one of them and ended up with the following line:"),Ht=g(),Bt=d("pre"),qt=g(),Ft=d("p"),Gt=m("Which I was and still am clueless of what this code was trying to do."),zt=g(),Ut=d("p"),Wt=m("So I did the most reasonable thing, add a "),Vt=d("code"),Jt=m("console.log(node)"),Kt=m("."),Yt=g(),Qt=d("pre"),Zt=g(),Xt=d("p"),es=m("I found out that the "),ns=d("code"),as=m("node"),ts=m(" is an object, that does not have a property "),ss=d("code"),os=m("key"),rs=m(", which explains the error. And "),cs=d("code"),is=m("node"),ps=m(" has a property call "),ls=d("code"),us=m("name"),hs=m(" that has a value "),ds=d("code"),fs=m('"foobar"'),ms=m(", which I assumed is a variable name in our codebase. Luckily "),gs=d("code"),ks=m("foobar"),ws=m(" wasn't commonly used in our codebase, and I managed to find only 1 instance of it, and astonishingly, the code was last changed 1 year ago!"),vs=g(),bs=d("p"),Es=m("So Terser just decided to break, without a sign, on a line of code that was written 1 year ago. This is the life of a programmer."),ys=g(),Is=d("section"),Ts=d("h2"),As=d("a"),xs=m("Final Act - The Resolution"),js=g(),$s=d("p"),Ps=m("I kind of concluded that the root cause was a Terser bug, (because I can't just change the code that wasn't touched for nearly 1 year for no good reason), so the obvious thing to do next was to figured out whether someone fixed it on Terser upstream."),Os=g(),Cs=d("p"),Ss=m("So, I checked out the master branch of Terser, found out the code has changed to"),_s=g(),Ls=d("pre"),Rs=g(),Ns=d("p"),Ms=d("code"),Ds=m("node.key"),Hs=m(" is checked to be existed before checking "),Bs=d("code"),qs=m("node.key.name"),Fs=m(". What a simple patch!"),Gs=g(),zs=d("p"),Us=m("The next thing I needed to figure out was when was this fix landed, whether I can upgrade it."),Ws=g(),Vs=d("p"),Js=m("The Terser in the codebase was one major version behind the latest Terser version, so, I was more reserved to upgrade to the latest version."),Ks=g(),Ys=d("p"),Qs=m("The git blame for the line of code was for some code refactoring, so I went to Github to trace the blame."),Zs=g(),Xs=d("p"),eo=d("strong"),no=m("Tip:"),ao=m(" Github blame has this very useful button, that allows you to view blame prior to the change."),to=g(),so=d("p"),oo=d("picture"),ro=d("source"),co=d("source"),io=d("img"),po=g(),lo=d("p"),uo=m("A few blame traces later, I ended up with a commit that fixed the bug:"),ho=g(),fo=d("blockquote"),mo=d("p"),go=d("a"),ko=m("fix node.key crashing lib/compress by hytromo ¬∑ Pull Request #286 ¬∑ terser/terser"),wo=g(),vo=d("p"),bo=m("By looking at the MR merged date, I found that the commit was landed in between "),Eo=d("a"),yo=m("v3.16.0 and v3.17.0"),Io=m("."),To=g(),Ao=d("p"),xo=m("v3.17.0 was a minor version bump for our codebase, so I assumed it has no breaking changes."),jo=g(),$o=d("p"),Po=d("code"),Oo=m("terser"),Co=m(" was installed as a dependency of "),So=d("code"),_o=m("terser-webpack-plugin"),Lo=m(", which we had no control on the terser version, so I added a resolution to our "),Ro=d("code"),No=m("package.json"),Mo=m(":"),Do=g(),Ho=d("pre"),Bo=g(),qo=d("p"),Fo=m("After I upgraded terser, I build the code again."),Go=g(),zo=d("p"),Uo=m("The build was successful! üéâ"),Wo=g(),Vo=d("section"),Jo=d("h2"),Ko=d("a"),Yo=m("Closing Note"),Qo=g(),Zo=d("p"),Xo=m("As I was explaining all these to my colleague, I realised that should I upgraded the terser once I found out that it was a terser error, it would have fixed the bug as well. I wouldn't need to go through all these to end up in the same fix."),er=g(),nr=d("p"),ar=m("Oh well. ü§∑‚Äç‚ôÇÔ∏è"),this.h()},l(e){a=b(e,"SECTION",{});var n=v(a);t=b(n,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var p=v(t);s=b(p,"LI",{});var l=v(s);o=b(l,"A",{href:!0});var d=v(o);r=E(d,"Act I - The First Attempt"),d.forEach(u),l.forEach(u),c=b(p,"LI",{});var m=v(c);i=b(m,"A",{href:!0});var g=v(i);h=E(g,"Act II - terser-webpack-plugin"),g.forEach(u),m.forEach(u),f=b(p,"LI",{});var w=v(f);k=b(w,"A",{href:!0});var tr=v(k);I=E(tr,"Act III - Terser"),tr.forEach(u),w.forEach(u),T=b(p,"LI",{});var sr=v(T);A=b(sr,"A",{href:!0});var or=v(A);x=E(or,"Final Act - The Resolution"),or.forEach(u),sr.forEach(u),j=b(p,"LI",{});var rr=v(j);$=b(rr,"A",{href:!0});var cr=v($);P=E(cr,"Closing Note"),cr.forEach(u),rr.forEach(u),p.forEach(u),n.forEach(u),O=y(e),C=b(e,"P",{});var ir=v(C);S=E(ir,"The following is a record of the steps I went through when debugging a build-time bug I encountered during work."),ir.forEach(u),_=y(e),L=b(e,"P",{});var pr=v(L);R=E(pr,"It all started with an error message during the build."),pr.forEach(u),N=y(e),M=b(e,"PRE",{class:!0}),v(M).forEach(u),D=y(e),H=b(e,"P",{});var lr=v(H);B=E(lr,"What is wrong with Terser and our code?"),lr.forEach(u),q=y(e),F=b(e,"P",{});var ur=v(F);G=b(ur,"STRONG",{});var hr=v(G);z=E(hr,"I must find the root cause of this!"),hr.forEach(u),ur.forEach(u),U=y(e),W=b(e,"SECTION",{});var dr=v(W);V=b(dr,"H2",{});var fr=v(V);J=b(fr,"A",{href:!0,id:!0});var mr=v(J);K=E(mr,"Act I - The First Attempt"),mr.forEach(u),fr.forEach(u),Y=y(dr),Q=b(dr,"P",{});var gr=v(Q);Z=E(gr,"We used Terser to minify our build code. It was part of our webpack pipeline, installed through "),X=b(gr,"CODE",{});var kr=v(X);ee=E(kr,"terser-webpack-plugin"),kr.forEach(u),ne=E(gr,". Since terser is throwing an error, so I disabled "),ae=b(gr,"CODE",{});var wr=v(ae);te=E(wr,"terser-webpack-plugin"),wr.forEach(u),se=E(gr," and build again."),gr.forEach(u),oe=y(dr),re=b(dr,"PRE",{class:!0}),v(re).forEach(u),ce=y(dr),ie=b(dr,"P",{});var vr=v(ie);pe=E(vr,"Ok. The build was successful. Nothing wrong with the code nor the build."),vr.forEach(u),le=y(dr),ue=b(dr,"P",{});var br=v(ue);he=E(br,"So, I run the terser manually:"),br.forEach(u),de=y(dr),fe=b(dr,"PRE",{class:!0}),v(fe).forEach(u),me=y(dr),ge=b(dr,"P",{});var Er=v(ge);ke=E(Er,"The console output an error that was cryptic"),Er.forEach(u),we=y(dr),ve=b(dr,"PRE",{class:!0}),v(ve).forEach(u),be=y(dr),Ee=b(dr,"P",{});var yr=v(Ee);ye=E(yr,"I clicked into the terser source code to see what was going wrong over there. "),Ie=b(yr,"EM",{});var Ir=v(Ie);Te=E(Ir,"(Maybe it's my chance to contribute to terser?)"),Ir.forEach(u),yr.forEach(u),Ae=y(dr),xe=b(dr,"P",{});var Tr=v(xe);je=E(Tr,"Little did I know, how wrong I could be."),Tr.forEach(u),$e=y(dr),Pe=b(dr,"P",{});var Ar=v(Pe);Oe=b(Ar,"CODE",{});var xr=v(Oe);Ce=E(xr,"terser/dist/bundle.js"),xr.forEach(u),Se=E(Ar," was a minified code and it wasn't meant for humans eyes üò≠"),Ar.forEach(u),_e=y(dr),Le=b(dr,"P",{});var jr=v(Le);Re=E(jr,"Allow me to share a small snippet of what I saw:"),jr.forEach(u),Ne=y(dr),Me=b(dr,"PRE",{class:!0}),v(Me).forEach(u),De=y(dr),He=b(dr,"P",{});var $r=v(He);Be=E($r,"At this point in time, I had another meeting to attend, so I stopped at this juncture."),$r.forEach(u),qe=y(dr),Fe=b(dr,"P",{});var Pr=v(Fe);Ge=E(Pr,"On my way there, I was thinking, well, maybe I should probe this later in another direction."),Pr.forEach(u),dr.forEach(u),ze=y(e),Ue=b(e,"SECTION",{});var Or=v(Ue);We=b(Or,"H2",{});var Cr=v(We);Ve=b(Cr,"A",{href:!0,id:!0});var Sr=v(Ve);Je=E(Sr,"Act II - terser-webpack-plugin"),Sr.forEach(u),Cr.forEach(u),Ke=y(Or),Ye=b(Or,"P",{});var _r=v(Ye);Qe=E(_r,"After the meeting, I was thinking, well let me reenable the terser plugin, and try to probe through the plugin."),_r.forEach(u),Ze=y(Or),Xe=b(Or,"P",{});var Lr=v(Xe);en=E(Lr,"Remember the error message: "),nn=b(Lr,"CODE",{});var Rr=v(nn);an=E(Rr,'"ERROR in bundle.xxxx.js from Terser"'),Rr.forEach(u),tn=E(Lr," ?"),Lr.forEach(u),sn=y(Or),on=b(Or,"P",{});var Nr=v(on);rn=E(Nr,"I looked into the "),cn=b(Nr,"CODE",{});var Mr=v(cn);pn=E(Mr,"node_modules/terser-webpack/plugin/dist/index.js"),Mr.forEach(u),ln=E(Nr," and search for the word "),un=b(Nr,"CODE",{});var Dr=v(un);hn=E(Dr,'"from Terser"'),Dr.forEach(u),dn=E(Nr,"."),Nr.forEach(u),fn=y(Or),mn=b(Or,"P",{});var Hr=v(mn);gn=b(Hr,"STRONG",{});var Br=v(gn);kn=E(Br,"Tip:"),Br.forEach(u),wn=E(Hr," Usually when you want to debug a library installed in "),vn=b(Hr,"CODE",{});var qr=v(vn);bn=E(qr,"node_modules"),qr.forEach(u),En=E(Hr,", you can first look at the "),yn=b(Hr,"CODE",{});var Fr=v(yn);In=E(Fr,"package.json"),Fr.forEach(u),Tn=E(Hr,", it usually has an entry called "),An=b(Hr,"CODE",{});var Gr=v(An);xn=E(Gr,'"main"'),Gr.forEach(u),jn=E(Hr," that tells you the entry file to first look into. The main file usually exports all the public API that you use, so it is a good place to start diving into."),Hr.forEach(u),$n=y(Or),Pn=b(Or,"P",{});var zr=v(Pn);On=E(zr,"So I found the line:"),zr.forEach(u),Cn=y(Or),Sn=b(Or,"PRE",{class:!0}),v(Sn).forEach(u),_n=y(Or),Ln=b(Or,"P",{});var Ur=v(Ln);Rn=E(Ur,"After adding logs "),Nn=b(Ur,"CODE",{});var Wr=v(Nn);Mn=E(Wr,"console.log(err)"),Wr.forEach(u),Dn=E(Ur," and run the build again, I realised the err is an empty object "),Hn=b(Ur,"CODE",{});var Vr=v(Hn);Bn=E(Vr,"{}"),Vr.forEach(u),qn=E(Ur,", which explained why I saw "),Fn=b(Ur,"CODE",{});var Jr=v(Fn);Gn=E(Jr,"undefined"),Jr.forEach(u),zn=E(Ur," after the "),Un=b(Ur,"CODE",{});var Kr=v(Un);Wn=E(Kr,"ERROR in ... from Terser"),Kr.forEach(u),Vn=E(Ur,"."),Ur.forEach(u),Jn=y(Or),Kn=b(Or,"P",{});var Yr=v(Kn);Yn=E(Yr,"So, I slowly traced back the caller, and find out where this "),Qn=b(Yr,"CODE",{});var Qr=v(Qn);Zn=E(Qr,"err"),Qr.forEach(u),Xn=E(Yr," object was initially created."),Yr.forEach(u),ea=y(Or),na=b(Or,"P",{});var Zr=v(na);aa=b(Zr,"STRONG",{});var Xr=v(aa);ta=E(Xr,"Tip:"),Xr.forEach(u),sa=E(Zr," To trace the callers of a function that leads up to a certain state of your application, you can:"),Zr.forEach(u),oa=y(Or),ra=b(Or,"UL",{});var ec=v(ra);ca=b(ec,"LI",{});var nc=v(ca);ia=E(nc,"Use a "),pa=b(nc,"A",{href:!0,rel:!0});var ac=v(pa);la=E(ac,"conditional breakpoint"),ac.forEach(u),ua=E(nc," if you are debugging through a debugger"),nc.forEach(u),ha=y(ec),da=b(ec,"LI",{});var tc=v(da);fa=E(tc,"Throw an error within a try catch"),tc.forEach(u),ec.forEach(u),ma=y(Or),ga=b(Or,"PRE",{class:!0}),v(ga).forEach(u),ka=y(Or),wa=b(Or,"P",{});var sc=v(wa);va=E(sc,"This is especially useful if you are tracing an unfamiliar code, you can quickly get a call stack that leads up to the current condition."),sc.forEach(u),ba=y(Or),Ea=b(Or,"P",{});var oc=v(Ea);ya=E(oc,"After tracing through the call stack, I ended up at the line where the "),Ia=b(oc,"CODE",{});var rc=v(Ia);Ta=E(rc,"terser-webpack-plugin"),rc.forEach(u),Aa=E(oc," calls the terser, and when I logged out the error, it shows:"),oc.forEach(u),xa=y(Or),ja=b(Or,"PRE",{class:!0}),v(ja).forEach(u),$a=y(Or),Pa=b(Or,"P",{});var cc=v(Pa);Oa=E(cc,"So familiar! After an hour of tracing and debugging, I ended up at the same place."),cc.forEach(u),Ca=y(Or),Sa=b(Or,"P",{});var ic=v(Sa);_a=b(ic,"STRONG",{});var pc=v(_a);La=E(pc,"Note:"),pc.forEach(u),Ra=E(ic," the error must have lost somewhere from the terser to the actual print out of "),Na=b(ic,"CODE",{});var lc=v(Na);Ma=E(lc,"terser-webpack-plugin"),lc.forEach(u),Da=E(ic,", it might have fixed in a later version of "),Ha=b(ic,"CODE",{});var uc=v(Ha);Ba=E(uc,"terser-webpack-plugin"),uc.forEach(u),qa=E(ic,", but I'm not sure of it yet. Anyone interested can help check."),ic.forEach(u),Or.forEach(u),Fa=y(e),Ga=b(e,"SECTION",{});var hc=v(Ga);za=b(hc,"H2",{});var dc=v(za);Ua=b(dc,"A",{href:!0,id:!0});var fc=v(Ua);Wa=E(fc,"Act III - Terser"),fc.forEach(u),dc.forEach(u),Va=y(hc),Ja=b(hc,"P",{});var mc=v(Ja);Ka=E(mc,"The circumstances left me with no choice. I needed to face the cryptic minified code."),mc.forEach(u),Ya=y(hc),Qa=b(hc,"P",{});var gc=v(Qa);Za=E(gc,"Luckily VSCode still able to open the huge minified file, and able to set the cursor to the right line and column:"),gc.forEach(u),Xa=y(hc),et=b(hc,"PRE",{class:!0}),v(et).forEach(u),nt=y(hc),at=b(hc,"P",{});var kc=v(at);tt=E(kc,"(By the way, in the minified code, all the code is in one line. ü§¶‚Äç‚ôÇÔ∏è)"),kc.forEach(u),st=y(hc),ot=b(hc,"P",{});var wc=v(ot);rt=E(wc,"Well, this may seem like the right place to throw the "),ct=b(wc,"CODE",{});var vc=v(ct);it=E(vc,"\"Cannot read property 'name' of undefined\""),vc.forEach(u),pt=E(wc," error."),wc.forEach(u),lt=y(hc),ut=b(hc,"P",{});var bc=v(ut);ht=E(bc,"To understand what is going on in this line, I cloned "),dt=b(bc,"A",{href:!0,rel:!0});var Ec=v(dt);ft=E(Ec,"terser"),Ec.forEach(u),mt=E(bc,", checked out to the version tag that was installed in our codebase, and tried to figure out where that line was in the original code."),bc.forEach(u),gt=y(hc),kt=b(hc,"P",{});var yc=v(kt);wt=b(yc,"STRONG",{});var Ic=v(wt);vt=E(Ic,"Tip:"),Ic.forEach(u),bt=E(yc," String, property and method names are usually the best marker to trace a "),Et=b(yc,"A",{href:!0,rel:!0});var Tc=v(Et);yt=E(Tc,"mangled code"),Tc.forEach(u),It=E(yc,". Even though all the variables have mangled into a single character variable name, you can still clearly see the method "),Tt=b(yc,"CODE",{});var Ac=v(Tt);At=E(Ac,"has_directive()"),Ac.forEach(u),xt=E(yc," and the string "),jt=b(yc,"CODE",{});var xc=v(jt);$t=E(xc,'"use strict"'),xc.forEach(u),Pt=E(yc,"."),yc.forEach(u),Ot=y(hc),Ct=b(hc,"P",{});var jc=v(Ct);St=E(jc,"Conversely, please don't write long windy property / method names, it doesn't mangle well."),jc.forEach(u),_t=y(hc),Lt=b(hc,"P",{});var $c=v(Lt);Rt=E($c,"So I global searched the keyword "),Nt=b($c,"CODE",{});var Pc=v(Nt);Mt=E(Pc,'has_directive("use strict")'),Pc.forEach(u),Dt=E($c," and landed with a small number of results, which I looked through every one of them and ended up with the following line:"),$c.forEach(u),Ht=y(hc),Bt=b(hc,"PRE",{class:!0}),v(Bt).forEach(u),qt=y(hc),Ft=b(hc,"P",{});var Oc=v(Ft);Gt=E(Oc,"Which I was and still am clueless of what this code was trying to do."),Oc.forEach(u),zt=y(hc),Ut=b(hc,"P",{});var Cc=v(Ut);Wt=E(Cc,"So I did the most reasonable thing, add a "),Vt=b(Cc,"CODE",{});var Sc=v(Vt);Jt=E(Sc,"console.log(node)"),Sc.forEach(u),Kt=E(Cc,"."),Cc.forEach(u),Yt=y(hc),Qt=b(hc,"PRE",{class:!0}),v(Qt).forEach(u),Zt=y(hc),Xt=b(hc,"P",{});var _c=v(Xt);es=E(_c,"I found out that the "),ns=b(_c,"CODE",{});var Lc=v(ns);as=E(Lc,"node"),Lc.forEach(u),ts=E(_c," is an object, that does not have a property "),ss=b(_c,"CODE",{});var Rc=v(ss);os=E(Rc,"key"),Rc.forEach(u),rs=E(_c,", which explains the error. And "),cs=b(_c,"CODE",{});var Nc=v(cs);is=E(Nc,"node"),Nc.forEach(u),ps=E(_c," has a property call "),ls=b(_c,"CODE",{});var Mc=v(ls);us=E(Mc,"name"),Mc.forEach(u),hs=E(_c," that has a value "),ds=b(_c,"CODE",{});var Dc=v(ds);fs=E(Dc,'"foobar"'),Dc.forEach(u),ms=E(_c,", which I assumed is a variable name in our codebase. Luckily "),gs=b(_c,"CODE",{});var Hc=v(gs);ks=E(Hc,"foobar"),Hc.forEach(u),ws=E(_c," wasn't commonly used in our codebase, and I managed to find only 1 instance of it, and astonishingly, the code was last changed 1 year ago!"),_c.forEach(u),vs=y(hc),bs=b(hc,"P",{});var Bc=v(bs);Es=E(Bc,"So Terser just decided to break, without a sign, on a line of code that was written 1 year ago. This is the life of a programmer."),Bc.forEach(u),hc.forEach(u),ys=y(e),Is=b(e,"SECTION",{});var qc=v(Is);Ts=b(qc,"H2",{});var Fc=v(Ts);As=b(Fc,"A",{href:!0,id:!0});var Gc=v(As);xs=E(Gc,"Final Act - The Resolution"),Gc.forEach(u),Fc.forEach(u),js=y(qc),$s=b(qc,"P",{});var zc=v($s);Ps=E(zc,"I kind of concluded that the root cause was a Terser bug, (because I can't just change the code that wasn't touched for nearly 1 year for no good reason), so the obvious thing to do next was to figured out whether someone fixed it on Terser upstream."),zc.forEach(u),Os=y(qc),Cs=b(qc,"P",{});var Uc=v(Cs);Ss=E(Uc,"So, I checked out the master branch of Terser, found out the code has changed to"),Uc.forEach(u),_s=y(qc),Ls=b(qc,"PRE",{class:!0}),v(Ls).forEach(u),Rs=y(qc),Ns=b(qc,"P",{});var Wc=v(Ns);Ms=b(Wc,"CODE",{});var Vc=v(Ms);Ds=E(Vc,"node.key"),Vc.forEach(u),Hs=E(Wc," is checked to be existed before checking "),Bs=b(Wc,"CODE",{});var Jc=v(Bs);qs=E(Jc,"node.key.name"),Jc.forEach(u),Fs=E(Wc,". What a simple patch!"),Wc.forEach(u),Gs=y(qc),zs=b(qc,"P",{});var Kc=v(zs);Us=E(Kc,"The next thing I needed to figure out was when was this fix landed, whether I can upgrade it."),Kc.forEach(u),Ws=y(qc),Vs=b(qc,"P",{});var Yc=v(Vs);Js=E(Yc,"The Terser in the codebase was one major version behind the latest Terser version, so, I was more reserved to upgrade to the latest version."),Yc.forEach(u),Ks=y(qc),Ys=b(qc,"P",{});var Qc=v(Ys);Qs=E(Qc,"The git blame for the line of code was for some code refactoring, so I went to Github to trace the blame."),Qc.forEach(u),Zs=y(qc),Xs=b(qc,"P",{});var Zc=v(Xs);eo=b(Zc,"STRONG",{});var Xc=v(eo);no=E(Xc,"Tip:"),Xc.forEach(u),ao=E(Zc," Github blame has this very useful button, that allows you to view blame prior to the change."),Zc.forEach(u),to=y(qc),so=b(qc,"P",{});var ei=v(so);oo=b(ei,"PICTURE",{});var ni=v(oo);ro=b(ni,"SOURCE",{type:!0,srcset:!0}),co=b(ni,"SOURCE",{type:!0,srcset:!0}),io=b(ni,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),ni.forEach(u),ei.forEach(u),po=y(qc),lo=b(qc,"P",{});var ai=v(lo);uo=E(ai,"A few blame traces later, I ended up with a commit that fixed the bug:"),ai.forEach(u),ho=y(qc),fo=b(qc,"BLOCKQUOTE",{});var ti=v(fo);mo=b(ti,"P",{});var si=v(mo);go=b(si,"A",{href:!0,rel:!0});var oi=v(go);ko=E(oi,"fix node.key crashing lib/compress by hytromo ¬∑ Pull Request #286 ¬∑ terser/terser"),oi.forEach(u),si.forEach(u),ti.forEach(u),wo=y(qc),vo=b(qc,"P",{});var ri=v(vo);bo=E(ri,"By looking at the MR merged date, I found that the commit was landed in between "),Eo=b(ri,"A",{href:!0,rel:!0});var ci=v(Eo);yo=E(ci,"v3.16.0 and v3.17.0"),ci.forEach(u),Io=E(ri,"."),ri.forEach(u),To=y(qc),Ao=b(qc,"P",{});var ii=v(Ao);xo=E(ii,"v3.17.0 was a minor version bump for our codebase, so I assumed it has no breaking changes."),ii.forEach(u),jo=y(qc),$o=b(qc,"P",{});var pi=v($o);Po=b(pi,"CODE",{});var li=v(Po);Oo=E(li,"terser"),li.forEach(u),Co=E(pi," was installed as a dependency of "),So=b(pi,"CODE",{});var ui=v(So);_o=E(ui,"terser-webpack-plugin"),ui.forEach(u),Lo=E(pi,", which we had no control on the terser version, so I added a resolution to our "),Ro=b(pi,"CODE",{});var hi=v(Ro);No=E(hi,"package.json"),hi.forEach(u),Mo=E(pi,":"),pi.forEach(u),Do=y(qc),Ho=b(qc,"PRE",{class:!0}),v(Ho).forEach(u),Bo=y(qc),qo=b(qc,"P",{});var di=v(qo);Fo=E(di,"After I upgraded terser, I build the code again."),di.forEach(u),Go=y(qc),zo=b(qc,"P",{});var fi=v(zo);Uo=E(fi,"The build was successful! üéâ"),fi.forEach(u),qc.forEach(u),Wo=y(e),Vo=b(e,"SECTION",{});var mi=v(Vo);Jo=b(mi,"H2",{});var gi=v(Jo);Ko=b(gi,"A",{href:!0,id:!0});var ki=v(Ko);Yo=E(ki,"Closing Note"),ki.forEach(u),gi.forEach(u),Qo=y(mi),Zo=b(mi,"P",{});var wi=v(Zo);Xo=E(wi,"As I was explaining all these to my colleague, I realised that should I upgraded the terser once I found out that it was a terser error, it would have fixed the bug as well. I wouldn't need to go through all these to end up in the same fix."),wi.forEach(u),er=y(mi),nr=b(mi,"P",{});var vi=v(nr);ar=E(vi,"Oh well. ü§∑‚Äç‚ôÇÔ∏è"),vi.forEach(u),mi.forEach(u),this.h()},h(){w(o,"href","#act-i-the-first-attempt"),w(i,"href","#act-ii-terser-webpack-plugin"),w(k,"href","#act-iii-terser"),w(A,"href","#final-act-the-resolution"),w($,"href","#closing-note"),w(t,"class","sitemap"),w(t,"id","sitemap"),w(t,"role","navigation"),w(t,"aria-label","Table of Contents"),w(M,"class","language-null"),w(J,"href","#act-i-the-first-attempt"),w(J,"id","act-i-the-first-attempt"),w(re,"class","language-js"),w(fe,"class","language-js"),w(ve,"class","language-null"),w(Me,"class","language-null"),w(Ve,"href","#act-ii-terser-webpack-plugin"),w(Ve,"id","act-ii-terser-webpack-plugin"),w(Sn,"class","language-js"),w(pa,"href","https://blittle.github.io/chrome-dev-tools/sources/conditional-breakpoints.html"),w(pa,"rel","nofollow"),w(ga,"class","language-js"),w(ja,"class","language-null"),w(Ua,"href","#act-iii-terser"),w(Ua,"id","act-iii-terser"),w(et,"class","language-js"),w(dt,"href","https://github.com/terser/terser"),w(dt,"rel","nofollow"),w(Et,"href","http://lisperator.net/uglifyjs/mangle"),w(Et,"rel","nofollow"),w(Bt,"class","language-js"),w(Qt,"class","language-js"),w(As,"href","#final-act-the-resolution"),w(As,"id","final-act-the-resolution"),w(Ls,"class","language-js"),w(ro,"type","image/webp"),w(ro,"srcset","45c8d1207d7caa4c.webp"),w(co,"type","image/jpeg"),w(co,"srcset","45c8d1207d7caa4c.png"),w(io,"title","null"),w(io,"alt","Github: view blame prior to the change"),w(io,"data-src","45c8d1207d7caa4c.png"),w(io,"loading","lazy"),w(go,"href","https://github.com/terser/terser/pull/286"),w(go,"rel","nofollow"),w(Eo,"href","https://github.com/terser/terser/compare/v3.16.0...v3.17.0"),w(Eo,"rel","nofollow"),w(Ho,"class","language-json"),w(Ko,"href","#closing-note"),w(Ko,"id","closing-note")},m(e,n){l(e,a,n),p(a,t),p(t,s),p(s,o),p(o,r),p(t,c),p(c,i),p(i,h),p(t,f),p(f,k),p(k,I),p(t,T),p(T,A),p(A,x),p(t,j),p(j,$),p($,P),l(e,O,n),l(e,C,n),p(C,S),l(e,_,n),l(e,L,n),p(L,R),l(e,N,n),l(e,M,n),M.innerHTML='<code class="language-">ERROR in bundle.xxxx.js from Terser\nundefined\n\n...\n\nCommand failed with exit code 2\nVisit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nError: Command failed: yarn build</code>',l(e,D,n),l(e,H,n),p(H,B),l(e,q,n),l(e,F,n),p(F,G),p(G,z),l(e,U,n),l(e,W,n),p(W,V),p(V,J),p(J,K),p(W,Y),p(W,Q),p(Q,Z),p(Q,X),p(X,ee),p(Q,ne),p(Q,ae),p(ae,te),p(Q,se),p(W,oe),p(W,re),re.innerHTML='<code class="language-js"><span class="token comment">// filename: webpackConfig.prod.js</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>\n  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token comment">// ...</span>\n    <span class="token comment">// disable terser first</span>\n    <span class="token comment">// new TerserPlugin(&#123;</span>\n    <span class="token comment">// \tterserOptions: &#123;</span>\n    <span class="token comment">//     // ...</span>\n    <span class="token comment">//   &#125;,</span>\n    <span class="token comment">// &#125;),</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>',p(W,ce),p(W,ie),p(ie,pe),p(W,le),p(W,ue),p(ue,he),p(W,de),p(W,fe),fe.innerHTML='<code class="language-js"><span class="token keyword">const</span> terser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'terser\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'fs\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> input <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>\n  path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'dist/bundle.xxxx.js\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token string">\'utf-8\'</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> output <span class="token operator">=</span> terser<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>\n  <span class="token comment">// ...terser options</span>\n<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',p(W,me),p(W,ge),p(ge,ke),p(W,we),p(W,ve),ve.innerHTML='<code class="language-">&#123;\n  &quot;error&quot;:\n  TypeError: Cannot read property &#39;name&#39; of undefined\n      at A.f (node_modules/terser/dist/bundle.js:44:146028)\n      at D (node_modules/terser/dist/bundle.js:44:2863)\n      at A (node_modules/terser/dist/bundle.js:44:146075)\n      at k (node_modules/terser/dist/bundle.js:44:146998)\n      at vn (node_modules/terser/dist/bundle.js:44:133003)\n      at node_modules/terser/dist/bundle.js:44:165250\n      at AST_BlockStatement.optimize (node_modules/terser/dist/bundle.js:44:121400)\n      at Ct.before (node_modules/terser/dist/bundle.js:44:121157)\n      at AST_BlockStatement.transform (node_modules/terser/dist/bundle.js:44:78200)\n      at node_modules/terser/dist/bundle.js:44:78849\n&#125;</code>',p(W,be),p(W,Ee),p(Ee,ye),p(Ee,Ie),p(Ie,Te),p(W,Ae),p(W,xe),p(xe,je),p(W,$e),p(W,Pe),p(Pe,Oe),p(Oe,Ce),p(Pe,Se),p(W,_e),p(W,Le),p(Le,Re),p(W,Ne),p(W,Me),Me.innerHTML='<code class="language-">...\ns) &#125; else if (u instanceof Se &amp;&amp; r === u.expression &amp;&amp; (p(e, t, i, u, o = n(o, u.property), a + 1,\n  s + 1), o)) return; a &gt; 0 || u instanceof Be &amp;&amp; r !== u.tail_node() || u instanceof S ||\n(t.direct_access = !0) &#125; e(F, u); var d = new qn(function (e) &#123; if (e instanceof Je) &#123; var n =\ne.definition(); n &amp;&amp; (e instanceof hn &amp;&amp; n.references.push(e), n.fixed = !1) &#125; &#125;); function h(e, n,\nt) &#123; this.inlined = !1; var r = e.safe_ids; return e.safe_ids = Object.create(null), i(e, t, this),\nn(), e.safe_ids = r, !0 &#125; function m(e, n, t) &#123; var r, o = this; return o.inlined = !1, a(e), i(e,\nt, o), !o.name &amp;&amp; (r = e.parent()) instanceof ke &amp;&amp; r.expression === o &amp;&amp; o.argnames.forEach(\nfunction (n, t) &#123; if (n.definition) &#123; var i = n.definition(); void 0 !== i.fixed || o.uses_arguments\n&amp;&amp; !e.has_directive(&quot;use strict&quot;) ? i.fixed = !1 : (i.fixed = function () &#123; return r.args[t] || v(kn, r)\n...</code>',p(W,De),p(W,He),p(He,Be),p(W,qe),p(W,Fe),p(Fe,Ge),l(e,ze,n),l(e,Ue,n),p(Ue,We),p(We,Ve),p(Ve,Je),p(Ue,Ke),p(Ue,Ye),p(Ye,Qe),p(Ue,Ze),p(Ue,Xe),p(Xe,en),p(Xe,nn),p(nn,an),p(Xe,tn),p(Ue,sn),p(Ue,on),p(on,rn),p(on,cn),p(cn,pn),p(on,ln),p(on,un),p(un,hn),p(on,dn),p(Ue,fn),p(Ue,mn),p(mn,gn),p(gn,kn),p(mn,wn),p(mn,vn),p(vn,bn),p(mn,En),p(mn,yn),p(yn,In),p(mn,Tn),p(mn,An),p(An,xn),p(mn,jn),p(Ue,$n),p(Ue,Pn),p(Pn,On),p(Ue,Cn),p(Ue,Sn),Sn.innerHTML='<code class="language-js"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>file<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> from Terser&#92;n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',p(Ue,_n),p(Ue,Ln),p(Ln,Rn),p(Ln,Nn),p(Nn,Mn),p(Ln,Dn),p(Ln,Hn),p(Hn,Bn),p(Ln,qn),p(Ln,Fn),p(Fn,Gn),p(Ln,zn),p(Ln,Un),p(Un,Wn),p(Ln,Vn),p(Ue,Jn),p(Ue,Kn),p(Kn,Yn),p(Kn,Qn),p(Qn,Zn),p(Kn,Xn),p(Ue,ea),p(Ue,na),p(na,aa),p(aa,ta),p(na,sa),p(Ue,oa),p(Ue,ra),p(ra,ca),p(ca,ia),p(ca,pa),p(pa,la),p(ca,ua),p(ra,ha),p(ra,da),p(da,fa),p(Ue,ma),p(Ue,ga),ga.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>someConditionThatLeadsToErrorLaterOn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n  <span class="token punctuation">&#125;</span>\n<span class="token punctuation">&#125;</span></code>',p(Ue,ka),p(Ue,wa),p(wa,va),p(Ue,ba),p(Ue,Ea),p(Ea,ya),p(Ea,Ia),p(Ia,Ta),p(Ea,Aa),p(Ue,xa),p(Ue,ja),ja.innerHTML='<code class="language-">&#123;\n  &quot;error&quot;:\n  TypeError: Cannot read property &#39;name&#39; of undefined\n      at A.f (node_modules/terser/dist/bundle.js:44:146028)\n      at D (node_modules/terser/dist/bundle.js:44:2863)\n      at A (node_modules/terser/dist/bundle.js:44:146075)\n      at k (node_modules/terser/dist/bundle.js:44:146998)\n      at vn (node_modules/terser/dist/bundle.js:44:133003)\n      at node_modules/terser/dist/bundle.js:44:165250\n      at AST_BlockStatement.optimize (node_modules/terser/dist/bundle.js:44:121400)\n      at Ct.before (node_modules/terser/dist/bundle.js:44:121157)\n      at AST_BlockStatement.transform (node_modules/terser/dist/bundle.js:44:78200)\n      at node_modules/terser/dist/bundle.js:44:78849\n&#125;</code>',p(Ue,$a),p(Ue,Pa),p(Pa,Oa),p(Ue,Ca),p(Ue,Sa),p(Sa,_a),p(_a,La),p(Sa,Ra),p(Sa,Na),p(Na,Ma),p(Sa,Da),p(Sa,Ha),p(Ha,Ba),p(Sa,qa),l(e,Fa,n),l(e,Ga,n),p(Ga,za),p(za,Ua),p(Ua,Wa),p(Ga,Va),p(Ga,Ja),p(Ja,Ka),p(Ga,Ya),p(Ga,Qa),p(Qa,Za),p(Ga,Xa),p(Ga,et),et.innerHTML='<code class="language-js"><span class="token keyword">var</span> f <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">"ecma"</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">has_directive</span><span class="token punctuation">(</span><span class="token string">"use strict"</span><span class="token punctuation">)</span> <span class="token operator">?</span>\n<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> e<span class="token punctuation">.</span>key<span class="token operator">!=</span>u <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token operator">!=</span>u <span class="token punctuation">&#125;</span>\n                                        <span class="token operator">^</span></code>',p(Ga,nt),p(Ga,at),p(at,tt),p(Ga,st),p(Ga,ot),p(ot,rt),p(ot,ct),p(ct,it),p(ot,pt),p(Ga,lt),p(Ga,ut),p(ut,ht),p(ut,dt),p(dt,ft),p(ut,mt),p(Ga,gt),p(Ga,kt),p(kt,wt),p(wt,vt),p(kt,bt),p(kt,Et),p(Et,yt),p(kt,It),p(kt,Tt),p(Tt,At),p(kt,xt),p(kt,jt),p(jt,$t),p(kt,Pt),p(Ga,Ot),p(Ga,Ct),p(Ct,St),p(Ga,_t),p(Ga,Lt),p(Lt,Rt),p(Lt,Nt),p(Nt,Mt),p(Lt,Dt),p(Ga,Ht),p(Ga,Bt),Bt.innerHTML='<code class="language-js"><span class="token keyword">var</span> diff <span class="token operator">=</span>\n  compressor<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'ecma\'</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> compressor<span class="token punctuation">.</span><span class="token function">has_directive</span><span class="token punctuation">(</span><span class="token string">\'use strict\'</span><span class="token punctuation">)</span>\n    <span class="token operator">?</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token keyword">return</span> node<span class="token punctuation">.</span>key <span class="token operator">!=</span> prop <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name <span class="token operator">!=</span> prop<span class="token punctuation">;</span>\n      <span class="token punctuation">&#125;</span>\n    <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n        <span class="token keyword">return</span> node<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name <span class="token operator">!=</span> prop<span class="token punctuation">;</span>\n      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>',p(Ga,qt),p(Ga,Ft),p(Ft,Gt),p(Ga,zt),p(Ga,Ut),p(Ut,Wt),p(Ut,Vt),p(Vt,Jt),p(Ut,Kt),p(Ga,Yt),p(Ga,Qt),Qt.innerHTML='<code class="language-js"><span class="token keyword">var</span> f <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">"ecma"</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">has_directive</span><span class="token punctuation">(</span><span class="token string">"use strict"</span><span class="token punctuation">)</span> <span class="token operator">?</span>\n<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> e<span class="token punctuation">.</span>key<span class="token operator">!=</span>u\n               <span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span><span class="token operator">^</span>\n<span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token operator">!=</span>u <span class="token punctuation">&#125;</span></code>',p(Ga,Zt),p(Ga,Xt),p(Xt,es),p(Xt,ns),p(ns,as),p(Xt,ts),p(Xt,ss),p(ss,os),p(Xt,rs),p(Xt,cs),p(cs,is),p(Xt,ps),p(Xt,ls),p(ls,us),p(Xt,hs),p(Xt,ds),p(ds,fs),p(Xt,ms),p(Xt,gs),p(gs,ks),p(Xt,ws),p(Ga,vs),p(Ga,bs),p(bs,Es),l(e,ys,n),l(e,Is,n),p(Is,Ts),p(Ts,As),p(As,xs),p(Is,js),p(Is,$s),p($s,Ps),p(Is,Os),p(Is,Cs),p(Cs,Ss),p(Is,_s),p(Is,Ls),Ls.innerHTML='<code class="language-js"><span class="token keyword">var</span> diff <span class="token operator">=</span> compressor<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">"ecma"</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2015</span>\n    <span class="token operator">&amp;&amp;</span> compressor<span class="token punctuation">.</span><span class="token function">has_directive</span><span class="token punctuation">(</span><span class="token string">"use strict"</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token keyword">return</span> node<span class="token punctuation">.</span>key <span class="token operator">!=</span> prop <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>key <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name <span class="token operator">!=</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span> <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token keyword">return</span> node<span class="token punctuation">.</span>key <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name <span class="token operator">!=</span> prop<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>',p(Is,Rs),p(Is,Ns),p(Ns,Ms),p(Ms,Ds),p(Ns,Hs),p(Ns,Bs),p(Bs,qs),p(Ns,Fs),p(Is,Gs),p(Is,zs),p(zs,Us),p(Is,Ws),p(Is,Vs),p(Vs,Js),p(Is,Ks),p(Is,Ys),p(Ys,Qs),p(Is,Zs),p(Is,Xs),p(Xs,eo),p(eo,no),p(Xs,ao),p(Is,to),p(Is,so),p(so,oo),p(oo,ro),p(oo,co),p(oo,io),p(Is,po),p(Is,lo),p(lo,uo),p(Is,ho),p(Is,fo),p(fo,mo),p(mo,go),p(go,ko),p(Is,wo),p(Is,vo),p(vo,bo),p(vo,Eo),p(Eo,yo),p(vo,Io),p(Is,To),p(Is,Ao),p(Ao,xo),p(Is,jo),p(Is,$o),p($o,Po),p(Po,Oo),p($o,Co),p($o,So),p(So,_o),p($o,Lo),p($o,Ro),p(Ro,No),p($o,Mo),p(Is,Do),p(Is,Ho),Ho.innerHTML='<code class="language-json"><span class="token punctuation">&#123;</span>\n  <span class="token property">"resolution"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">"terser"</span><span class="token operator">:</span> <span class="token string">"3.17.0"</span>\n  <span class="token punctuation">&#125;</span>\n<span class="token punctuation">&#125;</span></code>',p(Is,Bo),p(Is,qo),p(qo,Fo),p(Is,Go),p(Is,zo),p(zo,Uo),l(e,Wo,n),l(e,Vo,n),p(Vo,Jo),p(Jo,Ko),p(Ko,Yo),p(Vo,Qo),p(Vo,Zo),p(Zo,Xo),p(Vo,er),p(Vo,nr),p(nr,ar)},p:e,d(e){e&&u(a),e&&u(O),e&&u(C),e&&u(_),e&&u(L),e&&u(N),e&&u(M),e&&u(D),e&&u(H),e&&u(q),e&&u(F),e&&u(U),e&&u(W),e&&u(ze),e&&u(Ue),e&&u(Fa),e&&u(Ga),e&&u(ys),e&&u(Is),e&&u(Wo),e&&u(Vo)}}}function he(e){let a,t;const s=[de];let o={$$slots:{default:[ue]},$$scope:{ctx:e}};for(let e=0;e<s.length;e+=1)o=n(o,s[e]);return a=new le({props:o}),{c(){G(a.$$.fragment)},l(e){z(a.$$.fragment,e)},m(e,n){U(a,e,n),t=!0},p(e,[n]){const t=0&n?function(e,n){const a={},t={},s={$$scope:1};let o=e.length;for(;o--;){const r=e[o],c=n[o];if(c){for(const e in r)e in c||(t[e]=1);for(const e in c)s[e]||(a[e]=c[e],s[e]=1);e[o]=c}else for(const e in r)s[e]=1}for(const e in t)e in a||(a[e]=void 0);return a}(s,[(o=de,"object"==typeof o&&null!==o?o:{})]):{};var o;1&n&&(t.$$scope={dirty:n,ctx:e}),a.$set(t)},i(e){t||(q(a.$$.fragment,e),t=!0)},o(e){F(a.$$.fragment,e),t=!1},d(e){W(a,e)}}}const de={title:"Debugging Story: Build failed, error from Terser",date:"2020-01-08T08:00:00Z",tags:["debugging"],description:"It all started with an error message during the build: 'ERROR in bundle.xxx.js from Terser'.",slug:"debugging-build-failed-error-from-terser",type:"blog"};class fe extends K{constructor(e){super(),J(this,e,null,he,r,{})}}setTimeout(()=>{new fe({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.src=e.dataset.src})}else{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",document.body.appendChild(e)}},3e3);
