<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:118.75%/1.58 'Lora',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.73);font-family:'Lora',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}ul{margin-left:1.58rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.58rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:0.85rem;line-height:1.58rem;overflow:scroll;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:1rem;line-height:1.58rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.9875rem;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:1.1487rem;line-height:1.58rem;border-left:0.5925rem solid #134896;color:hsla(0,0%,0%,0.65);font-style:italic;border-left-color:#612e77;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.58rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.58rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.58rem;margin-bottom:calc(1.58rem / 2);margin-top:calc(1.58rem / 2);}li > ul{margin-left:1.58rem;margin-bottom:calc(1.58rem / 2);margin-top:calc(1.58rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.58rem / 2);}code{font-size:0.85rem;line-height:1.58rem;}kbd{font-size:0.85rem;line-height:1.58rem;}samp{font-size:0.85rem;line-height:1.58rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.05333rem;padding-right:1.05333rem;padding-top:0.79rem;padding-bottom:calc(0.79rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#612e77;text-decoration:underline;text-shadow:initial;background-image:initial;font-weight:600;}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.37rem;margin-bottom:0.79rem;}li>ol,li>ul{margin-left:20px;margin-bottom:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.58rem;color:hsla(0,0%,0%,0.73);font-style:normal;font-weight:400;}blockquote cite:before{content:"‚Äî ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:28px;}blockquote{border-left:0.29625rem solid #134896;color:hsla(0,0%,0%,0.59);padding-left:0.88875rem;font-style:italic;margin-left:-1.185rem;margin-right:0;}}a.gatsby-resp-image-link{box-shadow:none;}</style><title data-react-helmet="true">History of Web Development: JavaScript Modules | Tan Li Hau</title><link rel="alternate" type="application/rss+xml" title="Tan Li Hau&#x27;s RSS Feed" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#612e77"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><meta name="generator" content="Gatsby 2.1.27"/><meta data-react-helmet="true" name="description" content="Tan Li Hau is a frontend engineer who is currently working in Shopee"/><meta data-react-helmet="true" property="og:title" content="History of Web Development: JavaScript Modules"/><meta data-react-helmet="true" property="og:description" content="Tan Li Hau is a frontend engineer who is currently working in Shopee"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Tan Li Hau"/><meta data-react-helmet="true" name="twitter:title" content="History of Web Development: JavaScript Modules"/><meta data-react-helmet="true" name="twitter:description" content="Tan Li Hau is a frontend engineer who is currently working in Shopee"/><style data-href="/styles.d8ddcb30bfe0d9155093.css">@font-face{font-family:Varela Round;font-style:normal;font-display:swap;font-weight:400;src:local("Varela Round Regular "),local("Varela Round-Regular"),url(/static/varela-round-latin-400-579fc6ff502e1f1e998dacea2e83bf37.woff2) format("woff2"),url(/static/varela-round-latin-400-ed1cf004373cd51bd0fd4c0e3dca9fae.woff) format("woff")}@font-face{font-family:Lora;font-style:normal;font-display:swap;font-weight:400;src:local("Lora Regular "),local("Lora-Regular"),url(/static/lora-latin-400-e4cdb14bf148f2846997a6be7ba648bd.woff2) format("woff2"),url(/static/lora-latin-400-0d78d370987954fb6b9f0efec3065e83.woff) format("woff")}@font-face{font-family:Lora;font-style:italic;font-display:swap;font-weight:400;src:local("Lora Regular italic"),local("Lora-Regularitalic"),url(/static/lora-latin-400italic-2c4801fad2634e6dac678d8826cf417c.woff2) format("woff2"),url(/static/lora-latin-400italic-7beffbacbbde86423a7ee771f31c1626.woff) format("woff")}@font-face{font-family:Lora;font-style:normal;font-display:swap;font-weight:700;src:local("Lora Bold "),local("Lora-Bold"),url(/static/lora-latin-700-ce18d17335e3ef2119d76f5dff177c66.woff2) format("woff2"),url(/static/lora-latin-700-1617380e0dea667b61cf44e86f3d0f10.woff) format("woff")}@font-face{font-family:Lora;font-style:italic;font-display:swap;font-weight:700;src:local("Lora Bold italic"),local("Lora-Bolditalic"),url(/static/lora-latin-700italic-b4bb1fa2335d49d4bc7e7ddd944cee44.woff2) format("woff2"),url(/static/lora-latin-700italic-6ec37b950cf9829a2cad7d02b11810c9.woff) format("woff")}img{z-index:1}.gatsby-highlight,span.emoji{z-index:1;position:relative}body,div#___gatsby{background:#faf0fd}body.mode--dark{background:#050f02}div#___gatsby:after{content:"";background:#fff;position:fixed;top:0;bottom:0;left:0;right:0;pointer-events:none;mix-blend-mode:difference;opacity:0;transition:.5s ease}.mode--dark div#___gatsby:after{opacity:1}.dark-mode-checkbox{position:fixed;bottom:20px;right:20px;z-index:1;cursor:pointer;width:40px;height:40px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;border-radius:50% 50% 0 0;border:solid #612e77;border-width:0 0 2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-tap-highlight-color:transparent}.mode--dark .dark-mode-checkbox{border-color:#9ed188}.dark-mode-checkbox input{display:none}.dark-mode-checkbox span{font-size:30px;line-height:30px;position:absolute;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes sun{0%{-webkit-transform:translateY(150%);transform:translateY(150%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes sun{0%{-webkit-transform:translateY(150%);transform:translateY(150%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes sun-dark{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-150%);transform:translateY(-150%)}}@keyframes sun-dark{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-150%);transform:translateY(-150%)}}@-webkit-keyframes moon{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-150%);transform:translateY(-150%)}}@keyframes moon{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-150%);transform:translateY(-150%)}}@-webkit-keyframes moon-dark{0%{-webkit-transform:translateY(150%);transform:translateY(150%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes moon-dark{0%{-webkit-transform:translateY(150%);transform:translateY(150%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.dark-mode-checkbox .sun{-webkit-animation-name:sun;animation-name:sun;-webkit-transform:0;transform:0}.dark-mode-checkbox .moon{-webkit-animation-name:moon;animation-name:moon}.dark-mode-checkbox .moon,.mode--dark .dark-mode-checkbox .sun{-webkit-transform:translateY(-150%);transform:translateY(-150%)}.mode--dark .dark-mode-checkbox .sun{-webkit-animation-name:sun-dark;animation-name:sun-dark}.mode--dark .dark-mode-checkbox .moon{-webkit-animation-name:moon-dark;animation-name:moon-dark;-webkit-transform:translateY(0);transform:translateY(0)}.BioImage-module--container--1PFVh{position:relative}.BioImage-module--image1--14nWk{opacity:0;color:green}.BioImage-module--image2--1Blhq{position:absolute!important;left:0;opacity:1}.BioImage-module--image1--14nWk,.BioImage-module--image2--1Blhq{transition:opacity .5s ease-in-out}.BioImage-module--showImage--2hBbU .BioImage-module--image1--14nWk{opacity:1}.BioImage-module--showImage--2hBbU .BioImage-module--image2--1Blhq{opacity:0}pre::-webkit-scrollbar{width:14px}pre::-webkit-scrollbar-track{background-color:#6272a4;border-radius:0}pre::-webkit-scrollbar-thumb{background-color:#bd93f9;border-radius:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:#282936;text-shadow:none;font-family:PT Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background-color:#5a5f80}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#282936!important;border-radius:.5em;padding:1em;margin:.5em 0;overflow:auto;height:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282936}:not(pre)>code[class*=language-]{padding:4px 7px;border-radius:.3em;white-space:normal}.limit-300{height:300px!important}.limit-400{height:400px!important}.limit-500{height:500px!important}.limit-600{height:600px!important}.limit-700{height:700px!important}.limit-800{height:800px!important}.token.comment{color:#6272a4}.token.prolog{color:#cfcfc2}.token.tag{color:#dc68aa}.token.entity{color:#8be9fd}.token.atrule{color:#62ef75}.token.url{color:#66d9ef}.token.selector{color:#cfcfc2}.token.string{color:#f1fa8c}.token.property{color:#ffb86c}.token.important{color:#ff79c6;font-weight:700}.token.punctuation{color:#e6db74}.token.number{color:#bd93f9}.token.function{color:#50fa7b}.token.class-name{color:#ffb86c}.token.keyword{color:#ff79c6}.token.boolean{color:#ffb86c}.token.operator{color:#8be9fd}.token.char{color:#ff879d}.token.regex,.token.variable{color:#50fa7b}.token.constant,.token.symbol{color:#ffb86c}.token.builtin{color:#ff79c6}.token.attr-value{color:#7ec699}.token.deleted,.token.namespace{color:#e2777a}.token.bold{font-weight:700}.token.italic{font-style:italic}.token{color:#ff79c6}.langague-c .token.string,.langague-cpp .token.string{color:#8be9fd}.language-css .token.selector{color:#50fa7b}.language-css .token.property{color:#ffb86c}.language-java .token.class-name,.language-java span.token.class-name{color:#8be9fd}.language-markup .token.attr-value{color:#66d9ef}.language-markup .token.tag{color:#50fa7b}.language-objectivec .token.property{color:#66d9ef}.language-objectivec .token.string{color:#50fa7b}.language-php .token.boolean{color:#8be9fd}.language-php .token.function{color:#ff79c6}.language-php .token.keyword{color:#66d9ef}.language-ruby .token.symbol{color:#8be9fd}.language-ruby .token.class-name{color:#cfcfc2}pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre.line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}div.code-toolbar{position:relative}div.code-toolbar>.toolbar{position:absolute;top:.3em;right:.2em;transition:opacity .3s ease-in-out;opacity:0}div.code-toolbar:hover>.toolbar{opacity:1}div.code-toolbar>.toolbar .toolbar-item{display:inline-block;padding-right:20px}div.code-toolbar>.toolbar a{cursor:pointer}div.code-toolbar>.toolbar button{background:none;border:0;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}div.code-toolbar>.toolbar a,div.code-toolbar>.toolbar button,div.code-toolbar>.toolbar span{color:#ccc;font-size:.8em;padding:.5em;background:#6272a4;border-radius:.5em}div.code-toolbar>.toolbar a:focus,div.code-toolbar>.toolbar a:hover,div.code-toolbar>.toolbar button:focus,div.code-toolbar>.toolbar button:hover,div.code-toolbar>.toolbar span:focus,div.code-toolbar>.toolbar span:hover{color:inherit;text-decoration:none;background-color:var(--verde)}.gatsby-highlight-code-line{background-color:#44475a;display:block;margin-right:-1em;margin-left:-1.25em;padding-right:1em;padding-left:.75em;border-left:.5em solid #ff79c6}.index-module--list--3C1Zu{margin-bottom:0;margin-top:0}.index-module--p--4EDuH{margin-bottom:.4rem;margin-top:.4rem}.gatsby-highlight+.caption,figcaption{font-size:.8rem;font-style:italic;font-weight:lighter;color:rgba(0,0,0,.65);text-decoration:underline;margin-bottom:1em}.gatsby-highlight+.caption{margin-top:-.5em}.gatsby-highlight+.caption>code[class*=language-],figcaption>code[class*=language-]{padding:2px 4px;font-size:.8em;background-color:rgba(0,0,0,.65);color:#faf0fd}.filename{font-size:.85em;font-style:italic;margin-bottom:0;padding:8px 16px 0;background:#282936;color:#faf0fd;border-top-left-radius:.5em;border-top-right-radius:.5em;text-decoration:underline}.filename+.gatsby-highlight pre{border-top-left-radius:0;border-top-right-radius:0;margin-top:0;padding-top:2px}</style><link href="//fonts.googleapis.com/css?family=Varela+Round:400|Lora:400,400i,700" rel="stylesheet" type="text/css"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/component---src-templates-talk-post-js-a5d6b8952d1e1b361381.js"/><link as="script" rel="preload" href="/1-74dd79468fe2da4d9f8b.js"/><link as="script" rel="preload" href="/app-78d5ca0f2fcb438cd49f.js"/><link as="script" rel="preload" href="/styles-c0c7fb0f23dd9ae8d64f.js"/><link as="script" rel="preload" href="/webpack-runtime-f8eea082711fae91e886.js"/><link as="fetch" rel="preload" href="/static/d/279/path---javascript-modules-f-87-1ef-FT2hHC17entRPBUxYSpVe7Cxcs.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-left:auto;margin-right:auto;max-width:37.92rem;padding:2.37rem 1.185rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Tan Li Hau</a></h3></header><main><h1>WIP: <!-- -->History of Web Development: JavaScript Modules</h1><p style="font-size:0.87055rem;line-height:1.58rem;display:block;margin-bottom:1.58rem;margin-top:-0.79rem"><div><span role="img" aria-label="venue" style="margin-right:4px">üìç</span><a target="_blank" rel="noopener noreferrer" href="https://www.google.com/maps/place/Shopee+SG/@1.291278,103.7846628,15z/data=!4m2!3m1!1s0x0:0x7ddf2e854cf6e4e4?ved=2ahUKEwi5jbz6z_vgAhVBP48KHWSEAmMQ_BIwFXoECAEQCA">Shopee SG</a></div><div><span role="img" aria-label="group" style="margin-right:4px">üë•</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/Shopee/react-knowledgeable/issues/89">React Knowledgeable Week 25</a></div><div><span role="img" aria-label="date" style="margin-right:4px">üóì</span>April 12, 2019</div><div><span role="img" aria-label="slide" style="margin-right:4px">üìù</span><a target="_blank" rel="noopener noreferrer" href="https://slides.com/tanhauhau/js-module">Slides</a></div></p><div><blockquote></blockquote><iframe src="https://slides.com/tanhauhau/js-module/embed" width="100%" height="320" scrolling="no" frameborder="0" title="slides"></iframe></div><div><h1>Motivation</h1>
<p>A while ago, I posted an article about <a href="https://lihautan.com/understand-the-frontend-tools/">understanding frontend tools</a>. I mentioned that the way I make sense of all the tools and frameworks out there in the JavaScript world, is to try writing a web application with plain JavaScript, and start asking questions.</p>
<p>One of the question is:</p>
<blockquote>
<p><strong>How do we make our JavaScript code modular</strong>, having each piece of code <strong>independent</strong> of each other, without having to worry other parts of code affecting it, yet able to <strong>share functionality</strong> among different modules.</p>
</blockquote>
<p>So I will attempt to answer the question by first exploring how things are done in a ‚ÄúVanilla‚Äù way, and my two cents about the inherent problem with it and how each tooling come about solving those problems.</p>
<h1>The Vanilla way</h1>
<p>Imagine the following scenario:</p>
<p>You are writing a web application. You created a script, <code class="language-text">app.js</code>, and you added a <code class="language-text">&lt;script&gt;</code> tag into your <code class="language-text">index.html</code>.</p>
<p class="filename">index.html</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="gatsby-highlight-code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/app.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre></div>
<p>Then you decided to add jQuery, because you heard that jQuery is amazing.</p>
<p><strong>So how would you add jQuery into your application?</strong></p>
<p>There‚Äôs a few ways to go about, but the easiest would be:</p>
<ul>
<li>heading to <a href="https://jquery.com/">jQuery‚Äôs website</a></li>
<li>click download</li>
<li>dragged the downloaded file to your project folder</li>
<li>and add another script tag before your <code class="language-text">app.js</code>.</li>
</ul>
<p>
  <a class="gatsby-resp-image-link" href="/static/c4929b81633a5a8b085650e8cf509a93/15912/jquery.png" style="display: block" target="_blank" rel="noopener">
  
  <figure class="gatsby-resp-image-wrapper" style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 25.160771704180064%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABY0lEQVQY0yXMy04TYRiH8YkxlZ0I0TsAeppvZjrfnJhxrK0UmPRMW5qWUjwsCAlRChsS4xJq0taCoAmJF+XCxLjwVh4munjy5pd/8iqLg2ueHnxlaW/GctyTwfyfl/eveDa84nF/zqPdGYn2hAfNMQu7Ux62p//dGKPULlDql3FjEp0JStp+gbA8qu0encFrnLBIUpOUKk2OPpzh5TdYEZL1whbN3pBVY51mlGd2XOb6fJ/bT++4+fiGb+d9ypshimqYqOkUZ6cjPo8vCQOfVHKNXrfL6egEx5KxV+m0dhi9Pyaj6py0XH5+qfPre58/P97y+27I37suhzUXJaNLTMsmv12hWK7hBCG6bvByM6IQVTFtByEEfr5IWIrQc5LAs+lUN2hEBUqhTdGXvAoklqmjZI34YS6H43rYjotl2xiGget5+MFzpGWhaVq8u3i+jyklqtBQNSO+OpmsIJ1V40RswT3bo7ngbq71cQAAAABJRU5ErkJggg==&#x27;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="jquery page" title="Downloading jQuery from jQuery.com" src="/static/c4929b81633a5a8b085650e8cf509a93/623ee/jquery.png" srcset="/static/c4929b81633a5a8b085650e8cf509a93/816c5/jquery.png 148w, /static/c4929b81633a5a8b085650e8cf509a93/c766b/jquery.png 295w, /static/c4929b81633a5a8b085650e8cf509a93/623ee/jquery.png 590w, /static/c4929b81633a5a8b085650e8cf509a93/e5345/jquery.png 885w, /static/c4929b81633a5a8b085650e8cf509a93/7a439/jquery.png 1180w, /static/c4929b81633a5a8b085650e8cf509a93/84fe0/jquery.png 1770w, /static/c4929b81633a5a8b085650e8cf509a93/15912/jquery.png 2488w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  <figcaption>Downloading jQuery from jQuery.com</figcaption></figure>
  
  </a>
    </p>
<p class="filename">index.html</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="gatsby-highlight-code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/app.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre></div>
<div class="caption">Adding <code class="language-text">jquery</code> into html</div>
<p>Although jQuery is awesome, but adding it takes <strong>a lot of steps and effort</strong>. And to upgrade jQuery, you would have to redo all the step.</p>
<blockquote>
<p><strong>Installing a library</strong> is a hassle back then.</p>
</blockquote>
<p>Let‚Äôs say we add another file, <code class="language-text">utils.js</code> for all our utility functions.</p>
<p class="filename">index.html</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="gatsby-highlight-code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/utils.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/app.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre></div>
<p class="filename">utils.js</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> pi <span class="token operator">=</span> <span class="token number">3.142</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> pi <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Although you meant to just share the function <code class="language-text">area</code> from <code class="language-text">utils.js</code>, in <code class="language-text">app.js</code>, you would notice that both <code class="language-text">pi</code> and <code class="language-text">area</code> are available.</p>
<p class="filename">app.js</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 78.55</span>

<span class="token comment">// pi is available too!</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3.142</span></code></pre></div>
<p>That is because when you declare a variable or a function within a script, it will be available to the <strong>global scope</strong>.</p>
<p>The only way to hide it, is to use Immediately Invoked Function Expression (IIFE).</p>
<p class="filename">utils.js</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> utils <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// you hide `pi` within the function scope</span>
  <span class="token keyword">var</span> pi <span class="token operator">=</span> <span class="token number">3.142</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pi <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> area <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p class="filename">app.js</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 78.55</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reference error, `pi` is not defined</span></code></pre></div>
<!-- TODO: module pattern -->
<p>This is called the <strong>module pattern</strong>. The only way to control what to exposed to the global scope.</p>
<blockquote>
<p><strong>Scoping the variables</strong> within the module is hard, and you can only do it via the <strong>module pattern</strong>.</p>
</blockquote>
<p>If you have noticed, we access <code class="language-text">utils</code> freely, because it is defined in the global scope. If you have another module / library that named <code class="language-text">utils</code>, they would have conflicted against each other.</p>
<p>We want to <em>‚Äúimport‚Äù</em> the modules freely, and renamed it anyway we want, without worrying naming conflicts amongst modules / libraries.</p>
<blockquote>
<p><strong>Importing</strong> without naming conflicts is what we want.</p>
</blockquote>
<p>So I hereby summarize, the ‚Äúmodule‚Äù problem in JavaScript,</p>
<ul>
<li><strong>Installability</strong> - the ability to install easily</li>
<li><strong>Scopability</strong> - the ability of having clearly defined scoped within modules</li>
<li><strong>Importability</strong> - the ability to import modules freely without worry</li>
</ul>
<p>Well, I am not sure some of these word existed, I think I might have made up some of them to make it rhyme.</p>
<p>The problems above are no longer a concern any more in the 2019 world, yet it is still interesting to see what the JavaScript community has created to solve these problems.</p>
<h1>Installability</h1>
<blockquote>
<p>The ‚Äúhow easy is it to install‚Äù problem.</p>
</blockquote>
<p>As mentioned in the earlier example, to ‚Äúinstall‚Äù jQuery into your web app is to download jQuery from their main website. To ‚Äúinstall‚Äù a different version would mean to visit their ‚ÄúPast Releases‚Äù Page to download the specific version you want.</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/ae1cba58504fe03b9378bb6889ea1f96/c2b2c/jquery-version.png" style="display: block" target="_blank" rel="noopener">
  
  <figure class="gatsby-resp-image-wrapper" style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.360078277886494%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvUlEQVQoz5WRO2/UQBSF3UAdiJBANPwtCiCAFPFrQGQR0AMFRXqeQQgpNDQoQAHZ7Pi1sZ1d2+N5+DH2Hu7MakEgAuFKx3dm5Pv5nLG3dvUuLt26j3M37uHC5kNc3HyA9esjrF3bwvrGCGc3bN/C+Zsjtz91+Q5OH6MzV27D2373EU9e7OLRs108fv4eT3c+4PWejzefQ1KEHepWb7+E7uzlXoBXv+tT4M7tnNdpgdifII0DROyAeohOS5hGA5oDrQQasTyrFfrmp0wtqWtYBkwLW14/DGjaFkIqDAtiNK2ToY1WGuV8Bl6WaE2Ptuvo3ZXaX9ZtZ2BZnqXmeQ7m+1BVhanPME8TNEoiz1Kw8T5CNoEsCww08LdaLBZLoJISlRBQ8wwl+woe+6iSGKU/hkwiVDFDERygJ4erwT/JRbaPWmtwcqeLOcpgjOowgpylSzCtOd1vNQ0wGPMDeFwtHSpFDqUDFv4+DYeQRwl4OCFg6MBW/UmBmhzayHWZg0cMIp26+BYsskOKHzn9p0MBnc9QsG/gFE9kCcqVQ/qIVW+6kwGbpiaoRl1x9zPs/SmKb93JWQZB8a2G/t8OvwO6ciSaaf1oZwAAAABJRU5ErkJggg==&#x27;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="jQuery past releases page" title="Visit " past="" releases&#x22;="" to="" download an="" older="" version="" of="" jquery&#x22;="" src="/static/ae1cba58504fe03b9378bb6889ea1f96/623ee/jquery-version.png" srcset="/static/ae1cba58504fe03b9378bb6889ea1f96/816c5/jquery-version.png 148w, /static/ae1cba58504fe03b9378bb6889ea1f96/c766b/jquery-version.png 295w, /static/ae1cba58504fe03b9378bb6889ea1f96/623ee/jquery-version.png 590w, /static/ae1cba58504fe03b9378bb6889ea1f96/e5345/jquery-version.png 885w, /static/ae1cba58504fe03b9378bb6889ea1f96/c2b2c/jquery-version.png 1022w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  <figcaption>Visit "Past Releases" to download an older version of jQuery</figcaption></figure>
  
  </a>
    </p>
<p>A ‚Äúfaster‚Äù alternative to this, is to get jQuery served from a CDN provider. <a href="https://cdnjs.com/">cdnjs.com</a> is a site that catalogues the CDN url for different libraries. The CDN will serve the script faster to the user, because of their delivery network, as well as if multiple sites are using the same CDN url, the file will be cached by browser. And it is faster to ‚Äúinstall‚Äù, as <a href="https://cdnjs.com/">cdnjs.com</a> provides a one-click to ‚ÄúCopy as script tag‚Äù, all you only need to do is to paste it in to your <code class="language-text">html</code> file.</p>
<p>
  <a class="gatsby-resp-image-link" href="/static/6f0e571a8df2f80dc6329502937f11cf/dcef4/cdnjs.png" style="display: block" target="_blank" rel="noopener">
  
  <figure class="gatsby-resp-image-wrapper" style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 39.1869918699187%; position: relative; bottom: 0; left: 0; background-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABV0lEQVQoz31Ry07DMBDM//8DR46cQAIkJLghIS5cWrVNm6bpI2keTmwnaWLHg9e0hfbAyqNZWdmZWcerdhGklKAyxmAwwNBI6CqHrjm0rBwGXsA0An2RQh9aoOP2MBxYho6lMFo7DS8Ml9hEKxzaFv+VObJkHF9PbxgvBJI0xWa3g2zacyBPZAnC6RiT8Qi+P8NyGWA+97EMAgSLBWbTCWI7dBY2CvHnA5JRcmlofiy9ZL/HKlojiiKEYYgkiSE4R1PXqC3oOVqbfhgGaLuWtmyOmenOQalfwbJkbvja6W+RYGrXy7LMQUoOISSkEJBk3GsoKwq3sr1kjKEsS4dTT0xC9GHXdRfo+x49sdLux7CPF6hjDq8oCsRxfMZ2u7VrJ66nNDTsVr0CGWmbiATr90eozRxq7cPj9r3yPAcJE5MI9SecUrpUV1B6QFsWEK934M+3qO5v8A3x0GYDMtuMpAAAAABJRU5ErkJggg==&#x27;); background-size: cover; display: block;">
      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;" alt="cdnjs copy as script tag" title="One click to " copy="" as="" script="" tag&#x22;&#x22;="" src="/static/6f0e571a8df2f80dc6329502937f11cf/623ee/cdnjs.png" srcset="/static/6f0e571a8df2f80dc6329502937f11cf/816c5/cdnjs.png 148w, /static/6f0e571a8df2f80dc6329502937f11cf/c766b/cdnjs.png 295w, /static/6f0e571a8df2f80dc6329502937f11cf/623ee/cdnjs.png 590w, /static/6f0e571a8df2f80dc6329502937f11cf/e5345/cdnjs.png 885w, /static/6f0e571a8df2f80dc6329502937f11cf/7a439/cdnjs.png 1180w, /static/6f0e571a8df2f80dc6329502937f11cf/84fe0/cdnjs.png 1770w, /static/6f0e571a8df2f80dc6329502937f11cf/dcef4/cdnjs.png 2460w" sizes="(max-width: 590px) 100vw, 590px">
    </span>
  <figcaption>One click to "Copy as script tag"</figcaption></figure>
  
  </a>
    </p>
<p>Parallelly in the <a href="http://nodejs.org/">Node.js</a> world, <a href="http://npmjs.com">npm</a>, the Node.js Package Manager was created. With npm, it is much easier to install and maintain packages and their version, <em>(a ‚Äúpackage‚Äù can be seen as a group of JavaScript modules and their description file)</em>, for a Node.js project. All a developer need to do list out the dependencies and their version in <code class="language-text">package.json</code> and run <code class="language-text">npm install</code>.</p>
<p>If you think the <em>problem of installability</em> stops here, well, not quite. See, npm was created for Node.js application, packages that are published to the npm registry was not meant for browser use. The JavaScript ‚Äúmodules‚Äù uses ‚Äúsyntax‚Äù like the <code class="language-text">module.exports</code> and <code class="language-text">require</code> which are not readily understandable by the browser. Therefore you can‚Äôt add a script tag to include files you just installed from npm. <em>(I will explain what <code class="language-text">module.exports</code> and <code class="language-text">require</code> syntax are in the later part of this article)</em></p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- This will not work out of the box! --></span>
<span class="gatsby-highlight-code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/node_modules/foo/bar.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre></div>
<p>That‚Äôs why <a href="https://bower.io">bower</a> was created. It is called the package manager for the web, because the ‚Äúpackage‚Äù you installed from bower are readily to be used in the <code class="language-text">html</code>.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/a9c17/bower.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 43.33996023856859%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7UlEQVQoz32Sy2sTURTG55+R0pm5M6aJuBJXooIbkUqXiqCg6KIrNbpQCaVR8VEfmKKgiy5KtVaxLpKSRxO1eRlfC6EoFgTBSJsITRqT/Dx3JvW1cPHjXA6X7/vO4Ri8clgrOVTTinbZhYrwsg8Kim7RpVtw/gtFqUW/Iv+NjzOK5BGH3JBL5kQ/K5k+xm8P8ml2QMRtumUlBkL5H3SvJKZiTFF5AbSoEd/rUh3axPuLWyge20Y4Embz6Sgt7T7vsHo1wI/HLu2UQyft004KCXlndTrVS6u8pMaHXUHq+0MsDQd5sm8rw0f3kBgLibtFd85l9eQAjUiAtcsBmlIbZ4UR4UzAM9Qro9xDCy7tDFLbHeLzjiCLoxat3AZGY/0MHjRZnFAsTzp8f+Twbcrhq1CTd/2Bw8q0kFLUkop62kcnNRaOi/LURphxqUkjOqnYfs7k/CmTL7OKhXs2T69YxK9ZZGIWD6MW8+MWlQmbuTGb1A2b+xGL/B3bHzkWNonfsqiKW/SwyfQli2ZSL132l1MkRKx81yYu9a2IpK/bXq+RlT8VCVPy9/dr5OWEInvT5sIhk5EDJnUt9kaWXvBHaL1QdHR9rjyaz5Tfy6u/T6d3Zoan/M71nHjtesk6ebd3W73+ei2t19/39yf63096g/MljHsPhAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="bower"
        title=""
        src="/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/623ee/bower.png"
        srcset="/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/816c5/bower.png 148w,
/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/c766b/bower.png 295w,
/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/623ee/bower.png 590w,
/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/e5345/bower.png 885w,
/static/b9f29e417a6ee27a6ccd9d1a6625ff3f/a9c17/bower.png 1006w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<!-- prettier-ignore -->
<div class="gatsby-highlight has-highlighted-lines" data-language="html"><pre class="language-html"><code class="language-html">/project
<span class="gatsby-highlight-code-line">  /bower_components</span><span class="gatsby-highlight-code-line">  /node_modules</span>  /app
  /bower.json
  /package.json</code></pre></div>
<div class="caption">A typical web application project setup with both bower and npm</div>
<p class="filename">index.html</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bower_components/jquery/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div>
<div class="caption">Adding bower packages into index.html</div>
<p>Bower components for browser libraries and npm packages for build tools, had been a common web app projects setup until the next tool comes up to change it.</p>
<p><a href="http://browserify.org/">Browserify</a> tries to bring the vast registry of packages from <code class="language-text">npm</code> to the web. Browserify is a module bundler, it reads and understands the <code class="language-text">require</code> syntax, and tries to bundle all the modules into one file.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/567d924485ecb578fc7d16ec7dbf9454/e93fd/browserify.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 76.2208067940552%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACv0lEQVQ4y41TS09TQRTuL3IniRs3ujJxxUI3JhiQuEFiZAVqwKAgRozRBSYmNjHURAOiVcEXiKALSHlI6bu9ffe2987cR188Yj7PzKVYVBIXJ+fMN+f7Zs6cMy7TNPEvMwwDtm1Jn1c1VCv2Pn4YR5jrUDHLQqGoof3mOE50PcTYxDwqZVvuNey/BEUi4xzb9SqmvqzgdM8jHO24j5aOe1gLJVCrlMG5cehtXX+KNTwn0WRWxfOZBXRdvY7jncPofzyN3a0qNJ0dyP1LsLmEhhfEnzvb6B59gYHBKzh24S7OXnPDNBjt1ZpyD/Jcjhg/IKozBs97H/oejONy/w2c6bmNU92jaO8dQtvAE7jffAdjXIo1v6kwp2S7sl9m2TYRTxfQMehGa1cv2nr60HqpHycvDqLl/DCOnBtB55CHytZpCsrEI37TZVwG16FHP4PnQzDLWyRehVWuY6usYWUjAI/3A0bcXtx5toDJuVUs+RXYlRpSxTpygY/gia/EEU9gyUpdplUhwVmwxDcYpTRY2geuxsF1FTVTxY6dR93MY6eiY7eqo8YU8Ow6YmE/1Mg8WGwWvJSRlzI4cwRZYhF66B3UxVsorXugh2egbU6iuOaBuvqU/DhUiovBaajLY9ACXui+MRL5RDZHuS/pED+EFgmWHQH/BG1MgRcVsJSPSK+hRz5IrwW9ZG+lkIgN6rTAWXIJvBCh+JUU22sK1c6KVG7Kab8wveBg9L4G12gvI70gG6zk4AKjmKWW5ROJi0lBpzuWBJzhpDV9O4nR2hKxZTtralgDdzDqbjH1Ozb25jCiZLAZTcIfSSIQS8lYYLFkFhuEheNJ6Dm6XS4ALRdFOJFBKJ6WuYFYmngKlEyBDt8TFEMqhrmk6QhSgm8zhrVgQhLWQ4r0wZiCYDSOjXCc/rSCH2RRJSv/vfiKzqCb+AX1tDHx6+O4hwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="browserify"
        title=""
        src="/static/567d924485ecb578fc7d16ec7dbf9454/623ee/browserify.png"
        srcset="/static/567d924485ecb578fc7d16ec7dbf9454/816c5/browserify.png 148w,
/static/567d924485ecb578fc7d16ec7dbf9454/c766b/browserify.png 295w,
/static/567d924485ecb578fc7d16ec7dbf9454/623ee/browserify.png 590w,
/static/567d924485ecb578fc7d16ec7dbf9454/e5345/browserify.png 885w,
/static/567d924485ecb578fc7d16ec7dbf9454/e93fd/browserify.png 942w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>With <a href="http://browserify.org/">Browserify</a>, and other module bundler, eg <a href="https://webpack.js.org">webpack</a>, <a href="https://rollupjs.org/">rollup</a> etc, we are now able to freely share code among Node.js and browser application, and use <code class="language-text">npm</code> as a package manager for installing and upgrading packages.</p>
<h1>Importability</h1>
<blockquote>
<p>The ‚Äúhow easy is it to import‚Äù problem.</p>
</blockquote>
<p>Let‚Äôs recap the problem of <em>‚Äúimportability‚Äù</em> with the example earlier. We mentioned that everything we declare within each file, are available to other files via the global scope. There is no control of what you are importing, the sequence of the importing. At this point of time, each JavaScript files is just a script, until module systems were introduced.</p>
<p>With the advent of Node.js, there‚Äôs a need to <em>require</em> common modules into your JavaScript code. Because in Node.js context, there‚Äôs no <code class="language-text">index.html</code> where you can <em>‚Äúinsert script tags‚Äù</em>. At some point you need to <em>require</em> some external modules, or else you will end up writing a very long JavaScript file.</p>
<p>So <a href="http://commonjs.org">CommonJS</a> were introduced into Node.js. It allows your JavaScript code to <code class="language-text">require</code> and <code class="language-text">export</code> other JavaScript modules.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>pi <span class="token operator">=</span> <span class="token number">3.142</span><span class="token punctuation">;</span></code></pre></div>
<div class="caption">the commonjs ‚Äúrequire‚Äù and ‚Äúexport‚Äù syntax</div>
<p>Note that <code class="language-text">require()</code> is <strong>synchronous</strong>.</p>
<p>When you call <code class="language-text">require(&#39;./circle.js&#39;)</code>, Node runtime will:</p>
<ul>
<li>find the file you are <code class="language-text">require</code>ing</li>
<li>parse and eval the content</li>
<li>return what is assigned to <code class="language-text">exports</code>.</li>
</ul>
<p>But, if we are going to port the <code class="language-text">require</code> syntax into the browser, it will not be able to be synchronous. Because, fetching content involves network call, and it will have to be asynchronous. So, it only make sense to have a asynchronous <code class="language-text">require</code>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./circle.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>circle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// callback when circle is ready</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And this is exactly how <a href="http://www.tysoncadenhead.com/blog/script-loaders/"><strong>script loaders</strong></a> work!</p>
<p>If you find the concept of script loading similar, that‚Äôs because it is the exact same concept of dynamic import we have today. In fact, if you look at the code, they have the same mechanics of loading the script asynchronously!</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// script loading</span>
<span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"lib/jquery.min.js"</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// dynamic import</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"lib/jquery.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>CommonJS‚Äôs <code class="language-text">require</code> statement did not take into consideration of the asynchronicity of the browser land, therefore the JavaScript community came up with another module system, <a href="https://requirejs.org/docs/whyamd.html#amd">AMD (Asynchronous Module Definition)</a>.</p></div><hr style="margin-bottom:1.58rem"/><p>Thank you for your time reading through this article.<br/>It means a lot to me.</p><p> If you like what you have just read,<br/><a href="https://twitter.com/intent/tweet?text=Insightful%20article%20from%20%40lihautan&amp;url=undefined">Tweet about it</a> so I will write more related articles;<br/>If you disagree or you have opinions about this article,<br/><a href="https://twitter.com/intent/tweet?text=I%20disgree%20with%20%40lihautan&#x27;s%20article&amp;url=undefined">Tweet about it too</a> so I can take your suggestions and improve on it.</p><hr style="margin-bottom:1.58rem"/><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li></li><li></li></ul></main><footer style="margin-top:3.16rem">Built with <span role="img" class="emoji">üíª</span> and <span role="img" class="emoji">‚ù§Ô∏è</span> ‚Ä¢ <a href="/notes">notes</a> ‚Ä¢ <a href="https://twitter.com/lihautan">twitter</a> ‚Ä¢ <a href="https://github.com/tanhauhau">github</a> ‚Ä¢ <a href="https://github.com/tanhauhau/tanhauhau.github.io/issues/new?assignees=&amp;labels=grammar%2C+typo&amp;template=fix-typos-and-grammars.md&amp;title=%5BTYPO%5D">discuss</a></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135921142-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-talk-post-js","jsonName":"javascript-modules-f87","path":"/javascript-modules/"};window.dataPath="279/path---javascript-modules-f-87-1ef-FT2hHC17entRPBUxYSpVe7Cxcs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-78d5ca0f2fcb438cd49f.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-178479cbea7bec68cf18.js"],"component---src-templates-note-post-js":["/component---src-templates-note-post-js-69a7229f263ee2f240c5.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-9943f32b423fe30dd333.js"],"component---src-templates-talk-post-js":["/component---src-templates-talk-post-js-a5d6b8952d1e1b361381.js"],"component---src-pages-404-js":["/component---src-pages-404-js-adc4830a823ed255fa7d.js"],"component---src-pages-blogs-js":["/component---src-pages-blogs-js-92e01c6404a81a9dd827.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7fdbd8540bbdcbd0587e.js"],"component---src-pages-notes-js":["/component---src-pages-notes-js-c910f8aba4131f346004.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-b9783542bea25b982e9c.js"],"component---src-pages-talks-js":["/component---src-pages-talks-js-2cb2a15a6b440fddf7ec.js"],"pages-manifest":["/pages-manifest-15fef9547f91898b5816.js"]};/*]]>*/</script><script src="/webpack-runtime-f8eea082711fae91e886.js" async=""></script><script src="/styles-c0c7fb0f23dd9ae8d64f.js" async=""></script><script src="/app-78d5ca0f2fcb438cd49f.js" async=""></script><script src="/1-74dd79468fe2da4d9f8b.js" async=""></script><script src="/component---src-templates-talk-post-js-a5d6b8952d1e1b361381.js" async=""></script></body></html>